<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Blog | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="OpenEnergyMonitor Blog">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="http://blog.openenergymonitor.org/posts/6/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Blog | OpenEnergyMonitor">
    <meta property="og:site_name" content="Blog | OpenEnergyMonitor">
    <meta property="og:url" content="http://blog.openenergymonitor.org/posts/6/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Blog | OpenEnergyMonitor">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Blog | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
    
    
    
    <link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
	<link rel="apple-touch-icon" href="/images/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/images/favicon-144.png">
	<meta name="msapplication-config" content="/images/browserconfig.xml">
	
  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <!--<img width='40' src='/images/favicon-192x192.png'> -->
    
    <span style="color:#555;font-weight:bold;font-family:Arial;font-size:20"'>
Open</span><span style="color:#0699fa;font-weight:bold;font-family:Arial;font-size:20"'>EnergyMonitor</span>

  </a>
</div>

<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a href="http://openenergymonitor.org">Home</a></li>
  <li><a href="http://shop.openenergymonitor.com">Online-Store</a></li>
  <li><a href="http://guide.openenergymonitor.org">User Guide</a></li>
  <li><a href="http://emoncms.org">Emoncms</a></li>
  <li><a href="http://community.openenergymonitor.org">Forum</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

            
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/02/an-open-source-hourly-zero-carbon/">An open source hourly zero carbon energy system model</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-02-06T01:05:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-02-06 01:05:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/sustainability/'>sustainability</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/02/an-open-source-hourly-zero-carbon/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    I've been doing some work recently with Philip James from the Centre for Alternative Technology  on developing a set of open source zero carbon energy system models  based on <a href="http://zerocarbonbritain.org/">ZeroCarbonBritain</a> that visualise in a javascript based web page application how energy demand  can be supplied by a variable renewable energy supply using a mix of  storage technologies. You can create your own scenarios, choosing how  much wind, solar, storage technologies etc are used.<br /><br />Its still work in progress but the models we have built<span class="text_exposed_show"> so far are now online and can be explored here:<br /> <a href="http://zerocarbonbritain.org/energy_model/" rel="nofollow" target="_blank">http://zerocarbonbritain.org/energy_model</a></span><br /><br />The source code is all available there too as well as the original ZeroCarbonBritain spreadsheet model:&nbsp;<a href="https://github.com/philJam/energymodel">https://github.com/philJam/energymodel</a><br /><br />Visualising hourly surplus and shortfall:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-GvNCSRnIum0/VNQO64pJuYI/AAAAAAAAOWU/FwIXxOjYfxE/s1600/screenshot.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-GvNCSRnIum0/VNQO64pJuYI/AAAAAAAAOWU/FwIXxOjYfxE/s1600/screenshot.png" height="336" width="400" />&nbsp;</a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">Visualising battery, hydrogen, synthetic liquid and gas store levels:</div><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-GpTxQG9x5ps/VNQO8Vc2BWI/AAAAAAAAOWc/uHHiIVeKVgk/s1600/store.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-GpTxQG9x5ps/VNQO8Vc2BWI/AAAAAAAAOWc/uHHiIVeKVgk/s1600/store.png" height="321" width="400" /></a></div><br />This builds partly on findings and questions raised from our earlier work on the Snowdonia household energy study: here;<a href="http://openenergymonitor.blogspot.co.uk/2014/11/snowdonia-household-energy-study.html">http://openenergymonitor.blogspot.co.uk/2014/11/snowdonia-household-energy-study.html</a><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-knYU11AkW_A/VNQPjbpKzLI/AAAAAAAAOWk/OFmPN42NIU8/s1600/0present.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-knYU11AkW_A/VNQPjbpKzLI/AAAAAAAAOWk/OFmPN42NIU8/s1600/0present.png" height="176" width="400" /></a></div><br />The aim will be to extend that analysis to look at the amount of  renewable energy and energy storage required to supply the energy demand  after implementing measures like building insulation/retrofit,  heatpumps and electric transport.<br /><br /><br />I find it very interesting looking at how all of these  different elements can come together to create a zero carbon energy  system, to understand better the relevance of different solutions. With a  framework like this it becomes more possible to put ideas like smart  electric car charging or excess pv diversion to immersion heaters and  battery stores in context, to get a better idea of actually how much  effect different solutions can have.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/02/pre-built-heatpump-dashboards/">Pre-built heatpump dashboards</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-02-03T18:07:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-02-03 18:07:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/02/pre-built-heatpump-dashboards/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    I've been experimenting with the idea of a pre-built <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span> dashboard - a bit like the myelectric module for home energy monitoring.<br /><br />The initial concept is up on emoncms.org under the Extras &gt; <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span> tab. The <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span> fan turns in relation to power input a bit like the <a data-cke-saved-href="http://winderful.diascreative.net/" href="http://winderful.diascreative.net/"><span class="scayt-misspell-word" data-scayt-word="winderful">winderful</span></a> <span class="scayt-misspell-word" data-scayt-word="windturbine">windturbine.</span> <br /><br />Configuration is by naming convention at the moment, the dashboard looks automatically for feeds named or containing the words: <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span>_power, <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span>_kwh, <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span>_flow_temp, <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span>_return_temp, ambient_temp and room_temp, using these if present.<br /><br /><a data-cke-saved-href="http://openenergymonitor.org/emon/sites/default/files/myheatpump.png" href="http://openenergymonitor.org/emon/sites/default/files/myheatpump.png"><img alt="" data-cke-saved-src="http://openenergymonitor.org/emon/sites/default/files/myheatpump.png" src="http://openenergymonitor.org/emon/sites/default/files/myheatpump.png" style="height: 353px; width: 400px;" />&nbsp;</a><br /><br />Next I plan to extend this for <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span> monitors that also monitor either flow rate or heat output in order to  show COP information including a daily power input/ heat output bar  graph below the <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span> graphic.<br /><br />I've been doing this work with<a data-cke-saved-href="http://openenergymonitor.org/emon/user/53" href="http://openenergymonitor.org/emon/user/53"> John Cantor</a> who is using the <span class="scayt-misspell-word" data-scayt-word="OpenEnergyMonitor">OpenEnergyMonitor</span> system for <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span> monitoring.<br /><br />The source code for this can be found here if youd like to try it on your own install, just drop the folder <span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span> into your emoncms modules directory: <a href="https://github.com/emoncms/development/tree/master/Modules/heatpump">https://github.com/emoncms/development/tree/master/Modules/<span class="scayt-misspell-word" data-scayt-word="heatpump">heatpump</span></a>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2014/12/introducing-emontx-v34/">Introducing emonTx V3.4</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2014-12-17T12:03:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2014-12-17 12:03:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> four minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emontx/'>emonTx</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2014/12/introducing-emontx-v34/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Now shipping later this week in the shop is an updated version to the emonTx V3. This is a relatively minor update feature and form factor wise, most users probably won't notice the difference. However when hardware is involved, no update is a minor update!<br /><div><br /></div><div><a href="http://shop.openenergymonitor.com/emontx-v3-electricity-monitoring-transmitter-unit/">emonTx V3.4 is now available from the OpenEnergyMonitor Shop</a><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/--FoIIAZu6DA/VJMa4fb1F-I/AAAAAAABB5k/1ho4Bo3Fbnw/s1600/top_front_34.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/--FoIIAZu6DA/VJMa4fb1F-I/AAAAAAABB5k/1ho4Bo3Fbnw/s1600/top_front_34.png" height="400" width="313" /></a></div><br /><div><br /></div><div>The main changes &nbsp;are under the hood; the ATmega328 Arduino compatible microprocessor is now is now laid down directly on the PCB. This will help with manufacture and give us a few extra I/O to pay with that were inaccessible on RFu328 module that we used on the original emonTx V3.2. The changes also bring us back in line with JeenNode hardware (IRQ and INT connections) which allow us to use the latest RF12 <a href="https://github.com/jcw/jeelib">JeeLib</a> library to support the RFM69CW (<a href="http://openenergymonitor.blogspot.com/2014/12/introducing-rfm69cw.html">see separate post</a>).</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-bPUlSXtzkAA/VJFi8Uj9bRI/AAAAAAABByY/fq4XpOnft0I/s1600/IMG_20141128_103932.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://1.bp.blogspot.com/-bPUlSXtzkAA/VJFi8Uj9bRI/AAAAAAABByY/fq4XpOnft0I/s1600/IMG_20141128_103932.jpg" height="285" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx V3.4 Installed</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-Tl7fbNoLntY/VJFjHgLHyMI/AAAAAAABBy4/CBWoMcoYq14/s1600/DSCF6076.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://4.bp.blogspot.com/-Tl7fbNoLntY/VJFjHgLHyMI/AAAAAAABBy4/CBWoMcoYq14/s1600/DSCF6076.JPG" height="300" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx V3.4 - production units will have battery holder fitted - omitted for photo to show components</td></tr></tbody></table><div><h3>Features&nbsp;</h3>New features on emonTx V3.4 over V3 shown in bold:</div><div><ul><li>Measure AC Apparent Power, AC Real power* and AC RMS voltage*</li></ul><ul><li>3 x single-phase CT current sensor inputs (100A / 24KW @ 240V max)</li></ul><ul><li>1 x high sensitivity single-phase CT current sensor input channel (18.8A / 4.5KW @ 240V max)</li></ul><ul><li><b>1 x RJ45 input for connecting DS18B20 temperature sensors</b></li></ul><ul><li>Single AC-AC adapter can power the unit and provide AC voltage measurement</li></ul><ul><li>An on-board 3x AA battery option <b>with</b> <b>remote monitoring of battery voltage</b></li></ul><ul><li>Terminal block access to power rails, digital and analogue I/O and IRQ port for connecting pulse counting sensor / DS18B20 temperature / Aux sensors</li></ul><ul><li><b>DIP switch selection of RF node ID and 240V/110V AC adapter selection, see <a href="http://wiki.openenergymonitor.org/index.php?title=EmonTx_V3.4#DIP_Switch_Config">#DIP Switch Config</a></b></li></ul><ul><li><b>SMA antenna included as standard&nbsp;</b></li></ul>*when AC-AC voltage adapter is connected<br /><blockquote class="tr_bq"><blockquote class="tr_bq"></blockquote></blockquote><h3></h3><div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-x4rreUa3hJ4/VJFi94HiUVI/AAAAAAABByg/h5B5VkjxObs/s1600/Screenshot%2B2014-12-09%2Bat%2B09.45.00.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-x4rreUa3hJ4/VJFi94HiUVI/AAAAAAABByg/h5B5VkjxObs/s1600/Screenshot%2B2014-12-09%2Bat%2B09.45.00.png" height="355" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx as part of the OpenEnergyMonitor system</td></tr></tbody></table><div class="separator" style="clear: both; text-align: left;">The emonTx V3.4 uses an edge SMA connector with an SMA antenna included as standard. We have standardised on 433Mhz (<a href="http://openenergymonitor.org/emon/node/6211">see forum post</a>). The emonTx V3.4 supports and will eventually ship with the new RFM69CW module, this module is backwards compatible with RFM12B. However due to sourcing and lead time issues we have had to use RFM12B on the first batch of 500 units of emonTx V3.4 (now in the shop). When the RFM69CW is used a RSSI (Received Signal Strength Indicator) will appear in emoncms giving indication of signal strength.&nbsp;</div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-q3rdic6ri3U/VJFjCo0P7HI/AAAAAAABByw/bTgsgrNMs4M/s1600/DSCF6074%2B(1).JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-q3rdic6ri3U/VJFjCo0P7HI/AAAAAAABByw/bTgsgrNMs4M/s1600/DSCF6074%2B(1).JPG" height="320" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx V3.4 with RFM69CW and edge SMA connector&nbsp;</td></tr></tbody></table>The emonTx V3.4 has the addition of an RJ45 socket to allow ease of connecting multiple DS18B20 temperature sensors. Screened RJ45 cabling (Ethernet) is commonly available as well as RJ45 splitters and extenders. This makes a quick and easy way to wire up a house / heat-pump etc for temperature monitoring. Power, GND, IRQ, ADC and PWM I/O's are also available through the RJ45 connector, <a href="http://wiki.openenergymonitor.org/index.php?title=EmonTx_V3.4#RJ45_Connection">s</a><a href="http://wiki.openenergymonitor.org/index.php?title=EmonTx_V3.4#RJ45_Connection">ee wiki for pinout and technical details</a>.<br /><br /><b>Note: the RJ45 connection is not&nbsp;Ethernet, TCP network switches and routers should not be used&nbsp;</b><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-ff460Za5Zbs/VJFjAvNDAvI/AAAAAAABByo/Dn6kTJRrPyY/s1600/emonTx_RJ45_DS18B20.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-ff460Za5Zbs/VJFjAvNDAvI/AAAAAAABByo/Dn6kTJRrPyY/s1600/emonTx_RJ45_DS18B20.jpg" height="360" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">RJ45 connector used with <a href="http://shop.openenergymonitor.com/rj45-to-terminal-block-breakout-for-ds18b20-temperature-sensors/">RJ45 terminal breakout</a> for connection of multiple <a href="http://shop.openenergymonitor.com/encapsulated-ds18b20-temperature-sensor/">encapsulated DS18B20 temperature sensors</a>, DS18B20 temperature sensors are also available <a href="http://shop.openenergymonitor.com/rj45-encapsulated-ds18b20-temperature-sensor/">wired directly on RJ45 connector</a></td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-JdmeZBx7Qv0/VJMckGk_KzI/AAAAAAABB5w/bHdylaYuaW8/s1600/V34%2Btemp%2Band%2Bant.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-JdmeZBx7Qv0/VJMckGk_KzI/AAAAAAABB5w/bHdylaYuaW8/s1600/V34%2Btemp%2Band%2Bant.JPG" height="256" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><a href="http://shop.openenergymonitor.com/rj45-encapsulated-ds18b20-temperature-sensor/">DS18B20 Temperature Sensor on RJ45</a></td></tr></tbody></table><h3><br /></h3><h3>Certification &amp; Environmental</h3><div>The emonTx V3.4 is EMC compliant, CE certified.&nbsp;</div><div><br /></div><div>The unit is manufactured and assembled in the UK using lead free processes, with RoHS and conflict material free components. The enclosure is made in the UK using recyclable aluminium and recycled acrylic plastic is used for the front and rear fascia.&nbsp;</div></div></div></div><div><br /></div><div><a href="http://shop.openenergymonitor.com/emontx-v3-electricity-monitoring-transmitter-unit/">emonTx V3.4 is now available from the OpenEnergyMonitor Shop</a></div></div><div><br /></div><h3>Links&nbsp;</h3><div><a href="http://openenergymonitor.org/emon/guide">Getting Started Guide</a></div><div><a href="http://wiki.openenergymonitor.org/index.php?title=EmonTx_V3.4">emonTx V3.4 Technical Documentation Wiki&nbsp;</a></div><div><a href="https://github.com/openenergymonitor/Hardware/tree/master/emonTxV3/emonTx_V3.4">emonTx V3.4 open-source hardware design available on GitHub</a></div><div><a href="https://github.com/openenergymonitor/emonTxFirmware">emonTx Arduino compatible firmware GitHub</a></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2014/12/kettle-vs-blanket/">Kettle vs Blanket</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2014-12-08T11:55:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2014-12-08 11:55:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/sustainability/'>sustainability</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2014/12/kettle-vs-blanket/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    One of the things I love about monitoring energy is that it can be used to answer questions and inform decisions.<br /><div><br /></div><div>In my household we have recently purchased an electric blanket, I had always associated such items as an indulgent luxury! However at this time of year the temperature in our bedroom is often only just about in double figures (old property with poor heating and frugal use) necessitating a seemingly moderate luxury of a hot water bottle to warm the bed up a little. &nbsp;&nbsp;</div><div><br /></div><div>I assumed using the new electric blanket would result in an increase in our power consumption, however the energy monitor proved me wrong!&nbsp;</div><div><br /></div><div>Having the electric blanket on for 30min used about 0.1KWh while boiling 1L of hot water to fill at hot water bottle used about 0.16KWh of energy, 60% more! Also the electric blanket does a much better job of warming the bed then the hot water bottle, after 30min it was almost uncomfortably hot even with an ambient temperature in the room of 11 degrees!&nbsp;</div><div><br /></div><div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><br /><a href="http://2.bp.blogspot.com/-PRWQK4f8cpM/VIFxhBOblbI/AAAAAAABAjg/B0fmE75iFEs/s1600/blanket.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-PRWQK4f8cpM/VIFxhBOblbI/AAAAAAABAjg/B0fmE75iFEs/s1600/blanket.png" height="456" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">200W Electric Blanket on for about 30 min</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"></div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-9WhNqhDkTyk/VIWOeVUmd6I/AAAAAAABAro/XBAaAxspyKg/s1600/Screenshot%2B2014-12-08%2Bat%2B11.38.19.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://1.bp.blogspot.com/-9WhNqhDkTyk/VIWOeVUmd6I/AAAAAAABAro/XBAaAxspyKg/s1600/Screenshot%2B2014-12-08%2Bat%2B11.38.19.png" height="286" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Kettle heating 1L of water to boiling</td></tr></tbody></table><br /></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2014/12/introducing-rfm69cw/">Introducing RFM69CW</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2014-12-08T11:14:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2014-12-08 11:14:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> four minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/rfm12/'>RFM12</a></li>
      
        <li><a class='category' href='/categories/rfm69/'>RFM69</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2014/12/introducing-rfm69cw/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    For sometime now the Hope RF RFM12B module has been our RF module of choice. This module was chosen for it's low cost, decent performance and importantly for us, an active development community. On the software side we use the excellent&nbsp;JeeLabs <a href="https://github.com/jcw/jeelib">JeeLib RF12</a> Arduino library.<br /><div><br /></div><div>About a year ago Hope RF announced the RFM12B to be 'EOL' (End-of-Life), there has been a degree of confusion as to what exactly this means; currently manufacture of the module is still taking place and supply is still easily available. However, we acknowledged that the time had arrived to look for alternatives since Hope RF no longer offers support or recommends the RFM12B for new products.&nbsp;</div><div><br /></div><div>An obvious alternative that was explored by JeeLabs &nbsp;is the <a href="http://www.hoperf.com/rf/fsk_module/RFM69CW.htm">Hope RF RFM69CW</a> module, it uses SEMTEC designed silicon (as opposed to Silicon Labs in the RFM12B). It's pin-compatible with the RFM12B. Using the updated JeeLib driver the RFM69CW is be backwards compatible with RFM12B helping users of RFM12B to make a smooth transition. Thanks to JCW from JeeLabs and LowPower Labs for the work on developing the RFM69CW Arduino library. We have been working with JeeLabs to source modules and test the driver software. &nbsp; &nbsp;</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-5kA0_0jlUB8/VIV-2FuqXhI/AAAAAAABAqk/mTNDJp8C0Pw/s1600/RFM69CW_fullfrontal_large__52640.1417518813.1280.1280.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-5kA0_0jlUB8/VIV-2FuqXhI/AAAAAAABAqk/mTNDJp8C0Pw/s1600/RFM69CW_fullfrontal_large__52640.1417518813.1280.1280.jpg" height="200" width="192" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Hope RF RFM69CW</td></tr></tbody></table><div><br /></div><div><br /></div><div>I will let <a href="http://www.digitalsmarties.net/products/rfm69cw-868-mhz">JeeLabs/DigitalSmarties</a> introduce the module&nbsp;</div><br /><i>"The recently announced RFM69CW radio module by <a href="http://www.hoperf.com/">HopeRF</a> is a compact, powerful radio transceiver module for swapping data packets in the 868 MHz ISM band, using standard and enhanced FSK modulation. Great for sub-compact designs; just 4mm of mounted height from using an SMD precision crystal.</i><div><i><br />Though consuming a similar level of power, the RFM69CW receiver section can decode fainter signals than the classic RFM12B. The transmitter section *maximum* output power is +13dBm, considerably higher than the +5dBm of the RFM12B. The current drain at these (adjustable) higher power settings is correspondingly higher. With the better receiver sensitivity, many applications will not need to use the higher transmit power settings, potentially saving on battery life.<br /><br />Comparing like-with-like, pairs of modules will generally have greater range and/or better penetration of walls/ceiling than when using pairs of the classic RFM12B.<br /><br /><br />The physical module is compatible with the PCB footprint on all current JeeNodes and JeeLinks. For details of the fast-evolving level of software support, see <a href="http://jeelabs.net/boards/6/topics/4050">this Forum topic</a>.<br /><br />Control is via a fast SPI bus with reduced MPU loading. The recommended power supply range of 1.8 &lt; Vdd &lt; 3.6 V can squeeze almost the last energy out of depleting batteries without needing a boost converter."</i><br /><br /><a href="http://openenergymonitor.org/emon/sites/default/files/Selection_081.jpg"><img border="0" height="142" src="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2Fopenenergymonitor.org%2Femon%2Fsites%2Fdefault%2Ffiles%2FSelection_081.jpg&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" width="640" /></a> <br /><br /><br />Comparison tabled compiled by <a href="http://www.mikrocontroller.net/articles/RFM69">http://www.mikrocontroller.net/articles/RFM69</a> <br /><br /><br />Early next year we will start transitioning to the RFM69CW, end-users should not notice a difference apart from a new input on the emoncms Inputs page 'RSSI' (Received Signal Strength Indicator), see below.<br /><br />To simplify manufacture and module sourcing we will be standardising on 433Mhz, we will make available no-RF versions of units for users who wish to solder on their own 868Mhz modules. <a href="http://openenergymonitor.org/emon/node/6211">See forum thread</a> <br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-h6P1xlW9yV0/VIV9oaYfFCI/AAAAAAABAqU/cZuhsP1h4DA/s1600/DSCF6074%2B(1).JPG" style="margin-left: auto; margin-right: auto;"><img border="0" height="200" src="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2F2.bp.blogspot.com%2F-h6P1xlW9yV0%2FVIV9oaYfFCI%2FAAAAAAABAqU%2FcZuhsP1h4DA%2Fs1600%2FDSCF6074%252B(1).JPG&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" width="200" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><span style="font-size: small; text-align: start;">RFM69CW on the emonTx V3.4&nbsp;</span></td></tr></tbody></table><br />For early adopters we have limited numbers of RFM12Pi Raspberry Pi Expansion with RFM69CW module in the shop. Using the latest<a href="https://github.com/emonhub/emonhub/"> emonHub software (currently in 'Testing' branch)</a> using the RFM12Pi with RFM69CW on a Raspberry Pi should be seamless, emonHub automatically detects the higher baud rate requirement of the RFM12Pi with RFM69CW (56700 as opposed to 9600 with RFM12B RFM12Pi) sets baud accordingly and starts posting RSSI (received signal strength indication) to emoncms. <br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://cdn2.bigcommerce.com/server4400/98a75/products/160/images/576/DSCF6082__86790.1417790117.1280.1280.JPG?c=2" style="margin-left: auto; margin-right: auto;"><img border="0" height="300" src="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2Fcdn2.bigcommerce.com%2Fserver4400%2F98a75%2Fproducts%2F160%2Fimages%2F576%2FDSCF6082__86790.1417790117.1280.1280.JPG%3Fc%3D2&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><span style="font-size: small; text-align: start;">RFM69CW on the RFM12Pi on Raspberry Pi Model B+</span></td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-f2Yya6G5usc/VIVzF8EdzGI/AAAAAAABAqE/hHz6VLoixuI/s1600/Screenshot%2B2014-12-08%2Bat%2B09.44.14.png" style="margin-left: auto; margin-right: auto;"><img border="0" height="137" src="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2F4.bp.blogspot.com%2F-f2Yya6G5usc%2FVIVzF8EdzGI%2FAAAAAAABAqE%2FhHz6VLoixuI%2Fs1600%2FScreenshot%252B2014-12-08%252Bat%252B09.44.14.png&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><span style="font-size: small; text-align: start;">Example RSSI value from emonTH in emoncms</span></td></tr></tbody></table><br />The RSSI readings are very useful as they give a quantitative means of comparing RF performance which should help when deciding on the positioning of units during install and developing better antenna setups.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://openenergymonitor.org/emon/sites/default/files/Screenshot%202014-12-04%20at%2011.46.20.png" style="margin-left: auto; margin-right: auto;"><img border="0" height="250" src="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2Fopenenergymonitor.org%2Femon%2Fsites%2Fdefault%2Ffiles%2FScreenshot%25202014-12-04%2520at%252011.46.20.png&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><span style="font-size: small; text-align: start;">RSSI readings from nodes setup in my house (mix of RFM12B and RFM69CW)&nbsp;</span></td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-3o90e0QVwg4/VIWFWNvE2AI/AAAAAAABAq0/fHBlmkcli5g/s1600/IMG_20141202_171012783_HDR.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" height="360" src="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2F4.bp.blogspot.com%2F-3o90e0QVwg4%2FVIWFWNvE2AI%2FAAAAAAABAq0%2FfHBlmkcli5g%2Fs1600%2FIMG_20141202_171012783_HDR.jpg&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><span style="font-size: small; text-align: start;">RFM69CW on the upcoming&nbsp;</span><a href="http://openenergymonitor.org/emon/node/3937" style="font-size: medium; text-align: start;">emonPi Raspberry Pi Energy Monitoring Shield</a><span style="font-size: small; text-align: start;">&nbsp;(due for launch in the new year)&nbsp;</span></td></tr></tbody></table><br />For more info on the RFM69CW see Building Block Overview Page: <br /><br /><a href="http://openenergymonitor.org/emon/buildingblocks/rfm69cw">http://openenergymonitor.org/emon/buildingblocks/rfm69cw</a><br /><br /></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2014/11/research-project-call-for-participants/">Research Project Call for Participants </a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2014-11-22T13:20:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2014-11-22 13:20:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> Less than one minute reading time</span> <br>
     <br>
    
      <a class='comments'
         href="/2014/11/research-project-call-for-participants/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <br />In collaboration with <a href="http://openenergymonitor.org/emon/user/7232">Corina Sas</a> from Lancaster University we would like to to evaluate members' experience of building, setting up and using our monitors and how these impact on people's understanding of energy consumption and household practices. The larger aim is to  to explore how energy monitoring technologies could be better designed to support sustainable practices. <br /><br />A team of researchers for Lancaster will run this study consisting of interviews lasting around 1 hrs. For this, a researcher will visit you in your home at your convenience, or if you live further away from Lancaster/Manchester, then Skype interviews can be arranged. <b>As a thank you will be offer you an organic veg box.</b><br /><br />The plan is to c<b>omplete the study by end of the year</b>.  If you are interested and able to help, please contact the researcher with your available dates:  Dr Corina Sas at <a href="mailto:corina@comp.lancs.ac.uk">corina@comp.lancs.ac.uk </a><br /><br />Thanks a lot for your support. <div><br /></div><div>Please post any questions to forum thread:&nbsp;<a href="http://openenergymonitor.org/emon/node/6156">http://openenergymonitor.org/emon/node/6156</a></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2014/11/snowdonia-household-energy-study/">Snowdonia household energy study, exploring zero carbon solutions</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2014-11-21T12:44:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2014-11-21 12:44:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> six minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/community-energy/'>community energy</a></li>
      
        <li><a class='category' href='/categories/sustainability/'>sustainability</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2014/11/snowdonia-household-energy-study/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    A couple of years ago Glyn and I and a friend of ours Bethan Gritten carried out an energy study with a local organisation called EcoBro of 17 households in Snowdonia, North Wales including our own.<br /><br />We looked at the energy used by each household for electric, heating and transport and what the effect would be of applying the solutions outlined in both <a href="http://zerocarbonbritain.org/">ZeroCarbonBritain</a> and <a href="http://www.withouthotair.com/">Sustainable energy without the hot air</a>, visualising the result using David MacKay's energy stack graphics.<br /><br />I've been looking again at this work recently as I find it a really useful  and tangible way of looking at the energy problem and I've taken the opportunity to improve the energy stack graphic visualisation and put it up online here:<br /><br /><b>Dynamic visualisation: </b><br /><a href="http://egni.ecobro.org/data">http://egni.ecobro.org/data</a><br /><br />The code for it is open source and on github here:<br /><a href="https://github.com/TrystanLea/energystacks">https://github.com/TrystanLea/energystacks</a><br /><br />Here's a brief run through of what you can see:<br /><br /><b>Current Energy Use</b><br />This first graphic shows each households current energy use and where that energy is used:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-3My6GQ159Bo/VG5sgwDxuVI/AAAAAAAAMIw/q7vJ1EF6nvY/s1600/0present.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-3My6GQ159Bo/VG5sgwDxuVI/AAAAAAAAMIw/q7vJ1EF6nvY/s1600/0present.png" height="282" width="640" /></a></div><br />24% of the energy used by the households come from renewable sources, whether biomass or 100% green electricity tariffs. The wide range of total energy use per household is quite interesting, using the dynamic tool you can explore the contribution of occupancy and floor area. You can also look at C02 and energy cost per household.<br /><br /><b>Solutions for reaching 100% sustainable energy for household electric, heating and transport.</b><br /><br />In both the ZeroCarbonBritain report and David MacKay's Sustainable  Energy without the hot air, building retrofit (insulation and  air-tightness), heatpumps and electric vehicles form the cornerstone's of  both significantly reducing the amount of energy we need to provide the  same amount of comfort/utility and making it possible to power the  remaining energy demand from electricity generated by sustainable energy.<br /><br />The following graphics show's what the effect would be if each household in the study applied these measures:<br /><br /><b>1) All households switch current electric consumption to a 100% Green Electricity tariff:</b><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-HAjBniXZgCk/VG5sqcRnTTI/AAAAAAAAMI4/wUTAyUOrzEc/s1600/1greenelec.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-HAjBniXZgCk/VG5sqcRnTTI/AAAAAAAAMI4/wUTAyUOrzEc/s1600/1greenelec.png" height="283" width="640" /></a></div><br /><b>2) 100% green electric powered heatpumps, Biomass and electric cooking instead of oil, gas and coal. </b>For heatpumps it assumes replacing existing heat input with a heatpump with a COP of 3.0. See step 5 for a very basic application of building performance retrofit work.<br /><br />Heatpumps form the cornerstone of supplying the remaining heat demand  after retrofit in both Zero Carbon Britain and David MacKay's  sustainable energy without the hot air. The performance of a heatpump is highly dependent of course on being designed, installed and controlled correctly.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-cBsMQMzhm1M/VG5s1Wd8BqI/AAAAAAAAMJA/3BXvVWkJHUg/s1600/2heating.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-cBsMQMzhm1M/VG5s1Wd8BqI/AAAAAAAAMJA/3BXvVWkJHUg/s1600/2heating.png" height="282" width="640" /></a></div><br /><b>3) Switch all petrol and diesel cars to electric cars powered by renewable electricity </b>(Assuming mileage stays constant and an electric car performance of 4.0 Miles/kWh)<br /><br />The ZeroCarbonBritain report from CAT suggests a reduction in the number  of miles driven through a combination of increased use of pubic  transport, walking, biking and better planning of where we live in  relation to work/activities in addition to a switch to electric vehicles  which are both more efficient than petrol and diesel cars and can be  powered by renewable electricity.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-lcZ0NG6-YWc/VG5tQICN2xI/AAAAAAAAMJI/LA2FrARb0CQ/s1600/3electriccars.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-lcZ0NG6-YWc/VG5tQICN2xI/AAAAAAAAMJI/LA2FrARb0CQ/s1600/3electriccars.png" height="283" width="640" /></a></div><br /><b>4) Electric trains instead of planes:</b><br /><br />In order to achieve the last 15% and still enjoy travelling long  distances we would need a switch from flights to electric train  journey's, the model here just assumes that the number of flight miles  are replaced with electric train miles powered by renewable electricity and that the destination is reachable by train.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-69_K4jfM7Ik/VG5vP_2zs7I/AAAAAAAAMJc/-5hyXVWq_eM/s1600/4electrictrains.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-69_K4jfM7Ik/VG5vP_2zs7I/AAAAAAAAMJc/-5hyXVWq_eM/s1600/4electrictrains.png" height="282" width="640" /></a></div><br /><br /><b>5) At least 120 kWh/m2.year primary energy for space heating and home electric.</b><br /><br />Improving the thermal performance of buildings by adding insulation and  improving the air-tightness should be one of the first measures applied  and considered before or at the same time as any heating system changes as in step 2 above. The implementation of applying retrofit measures in the energy stack visualisation model here is only to set a maximum primary energy use requirement rather than to explore what's possible on a house by house basis which would give a better picture of the potential savings from retrofit work.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-KCL_Q5nWXLE/VG5tb3QwaTI/AAAAAAAAMJQ/kPdsojZwA0w/s1600/5buildingefficiency.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-KCL_Q5nWXLE/VG5tb3QwaTI/AAAAAAAAMJQ/kPdsojZwA0w/s1600/5buildingefficiency.png" height="281" width="640" /></a></div><br /><br /><b>Powering Up with Renewable Energy</b><br /><br />The ZeroCarbonBritain report goes into a lot of detail on how the remaining energy demand after applying power down measures can be supplied by renewable energy and also the need for storage technologies to manage the intermittent nature of a fully renewable energy supply. We didnt look into this as part of our study but it would be interesting to explore it in more detail in the future to answer questions such as: what scale of community energy projects such as community wind, solar and hydro should we be thinking of if we are to supply our energy demands after applying power down measures? and how much should we be thinking about energy storage in a more local context?<br /><br />There's a lot of things that could be improved about the study.  Rather than applying back of the envelope calculations on the effects  of applying the various solutions to each house it would be better to look at each house in detail, carrying out a full detailed Carbon Coop home energy assessment for each house on how energy demand can be reduced by up to 70% through retrofit work.<br /><br /><b>Related links</b><br /><br />OpenEnergyMonitor page on Sustainable Energy:<br /><a href="http://openenergymonitor.org/emon/sustainable-energy">http://openenergymonitor.org/emon/sustainable-energy</a><br /><br />The ZeroCarbonBritain report:<br /><a href="http://zerocarbonbritain.org/">http://zerocarbonbritain.org/</a><br /><a href="http://vimeo.com/album/2648454/video/81962195">Alice Hooker-Stroud, Centre for Alternative Technology, ‘Zero Carbon Britain (Energy)’</a> <br /><br />Sustainable energy without the hot air <br /><a href="http://withouthotair.com/">http://withouthotair.com/</a><br /><br />Carbon Coop<br /><a href="http://vimeo.com/album/2648454/video/81956917">Charlie Baker's talk about carbon coop and 80% retrofit at the radical emissions reduction conference</a><br /><br /><br /><b>Where next?</b><br />I would be interested to hear any thoughts on how to develop this work further, where it should go next. Feel free to email me if you have any ideas or would like to discuss: trystanlea at openenergymonitor.org
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2014/10/testing-kicad-pcb/">Testing KiCad PCB</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2014-10-25T18:54:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2014-10-25 18:54:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> three minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/kicad/'>KiCad</a></li>
      
        <li><a class='category' href='/categories/open-source/'>open source</a></li>
      
        <li><a class='category' href='/categories/pcb/'>pcb</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2014/10/testing-kicad-pcb/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    We are always a fan of using open-source software wherever possible. A few years ago I briefly attempted to use open-source KiCad and gEDA PCB CAD software but found them very limiting, clumsy and buggy.<br><br>Recently there have been a raft of shiny looking browser based PCB design tools such as <a href="http://circuitmaker.com/">Circuit Maker</a>&nbsp;and&nbsp;<a href="https://upverter.com/">Upverter</a>, these look very interesting; the online collaborative development opportunities are obvious and linking into the <a href="https://blog.octopart.com/archives/2014/09/introducing-the-common-parts-library">OctoPart's live component pricing, standard part library</a> and <a href="https://blog.octopart.com/archives/2014/09/bom-tool-real-time-collaboration">BOM management tools</a> could be a big time saver at the manufacturing stage. Maybe online tools will be the future, however I am a little reserved about having designs locked into a closed online platform.<br><br>In particular I have been keeping a close eye on KiCad developments after I heard CERN had got involved in the development. I was very impressed watching this video showing the newly developed KiCad intelligent semi-auto router in action:<br><br><iframe allowfullscreen="" frameborder="0" height="315" src="//www.youtube.com/embed/CCG4daPvuVI" width="560"></iframe> <br>I think it's time I gave KiCad another try! Today I managed to install KiCad and put together the RFM12Pi schematic and layout the board. Here's my experience:<br><br>I wanted the latest build to get the shiny new features, so I installed the development branch by adding the PPA to Ubuntu:<br><br>http://ppa.launchpad.net/js-reynaud/ppa-kicad/ubuntu<br><br>I installed KiCad build dated 16th July on 32-bit Ubuntu 14.04<br><br>I found I needed to add the line "<i>export KIGITHUB="https://github.com/KiCad";</i>" to my ~/.profile file to get rid of cannot find github footprint errors when running CvPCB (the program in KiCad which links the schematic parts to PCB footprints)<br><br>I followed the <a href="http://youtube.com/user/contextualelectronic/playlists">fantastic video tutorials from Contextual Electronics</a>&nbsp;to help me get started.<br><br><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-VGCAtJX3smQ/VEvtnfmCwTI/AAAAAAAA-Uk/eFW5ZB3wWsk/s1600/Selection_002.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-VGCAtJX3smQ/VEvtnfmCwTI/AAAAAAAA-Uk/eFW5ZB3wWsk/s1600/Selection_002.png" height="362" width="640"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">1. KiCad Schematic Editor, net list must be manually exported to move to the next setp</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-CX3B8v8OQpQ/VEvtq158i_I/AAAAAAAA-U8/o_9ReXUxvFo/s1600/Cvpcb%2B(2014-jul-16%2BBZR%2Bunknown)-product%2B%2B-home-glyn-Documents-KiCad_test-KiCad_test.net_001.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-CX3B8v8OQpQ/VEvtq158i_I/AAAAAAAA-U8/o_9ReXUxvFo/s1600/Cvpcb%2B(2014-jul-16%2BBZR%2Bunknown)-product%2B%2B-home-glyn-Documents-KiCad_test-KiCad_test.net_001.png" height="232" width="400"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">2. Linking schematic parts to PCB footprints</td></tr></tbody></table><br><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-3IkhKZipylI/VEvtnigY9CI/AAAAAAAA-Uo/QmM0GSC83VM/s1600/Selection_003.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://1.bp.blogspot.com/-3IkhKZipylI/VEvtnigY9CI/AAAAAAAA-Uo/QmM0GSC83VM/s1600/Selection_003.png" height="360" width="640"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">3. Board layout the new interactive router was great (see video above)</td></tr></tbody></table><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-dZn9nSbAuS4/VEvvCcN1NCI/AAAAAAAA-VE/FpWmyjWZNFU/s1600/Selection_005.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://4.bp.blogspot.com/-dZn9nSbAuS4/VEvvCcN1NCI/AAAAAAAA-VE/FpWmyjWZNFU/s1600/Selection_005.png" height="320" width="191"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">New router options</td></tr></tbody></table><br>Update: the finished Kicad RFM2Pi V2.7 design is up on github:<div><br></div><div>https://github.com/openenergymonitor/Hardware/tree/master/RFM2Pi/board/KiCad_RFM12Pi%20V2.7</div><div><br><div>Obviously we have considerable lock-in to EAGLE PCB with our historic designs and learning a new software tool is always going to be a slow and slightly frustrating process, however I'm quite impressed that after about 5hrs I think I'm got the hang of basic KiCad functions. I will seriously consider using KiCad for new designs in the future. I think the increased effort will be worthwhile to enable us to be using a fully open-source bit of design software to design open-hardware, what do you think?<div><br></div><div>Thinks I liked about KiCad:</div><div><ul><li>Interactive router, very impressed with this. Big time saver</li><li>More intuitive setup of default track widths and net classes&nbsp;</li><li>How net and pin names are displayed in the layout editor&nbsp;</li><li>How schematic symbols and PCB footprints are handled as separate entities, more intuitive than Eagle IMHO &nbsp;</li></ul><div>Thinks I miss moving from Eagle:</div><div><ul><li>Have a live link between schematic and PCB, KiCad requires exporting and re-importing a new netlist each time there is a change in schematic</li><li>There are more ready made parts in Eagle libraries then there are <a href="https://github.com/kicad">KiCad part libraries</a>, but I'm sure this will change.&nbsp;</li><li>Being able to highlight all tracks on a particular net by selecting a wire on the schematic (maybe I've just not found this feature yet in KiCad?)</li></ul></div></div></div></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2014/10/emonhub-installationupdate-replacing/">Emonhub installation/update, replacing the PHP raspberrypi emoncms module</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2014-10-24T10:58:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2014-10-24 10:58:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
        <li><a class='category' href='/categories/raspberry-pi/'>raspberry pi</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2014/10/emonhub-installationupdate-replacing/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    From Paul Reed's post on the forums here: <br /><a href="http://openenergymonitor.org/emon/node/5986">http://openenergymonitor.org/emon/node/5986</a><br /><br />Emonhub is now the recommended method of interfacing a rfm12pi to a local or remote emoncms install, and replaces the PHP and Python scripts which we have previously used.<br /><br /><i>Update: This blog post refers to installing emonHub on existing system, if setting up a new system <a href="https://github.com/emoncms/emoncms/blob/bufferedwrite/docs/setup.md">downloading the ready-to-go pre-built RaspberryPi image</a> is the easiest way to get started.</i><br /><br />Thanks to Paul Burnell, the author of emonhub, installation of emonhub can be achieved via a command line, which clones an installation script to automate the installation process. <br /><br />To install emonhub:<br /><br />$ git clone <a href="https://github.com/emonhub/dev-emonhub.git">https://github.com/emonhub/dev-emonhub.git</a> ~/dev-emonhub &amp;&amp; ~/dev-emonhub/install<br /><br />If you have the raspberry pi module already installed, it's important that it is removed prior to installing emonhub, as only one software can use the serial UART the RFM2Pi is connected to at any one time.<br /><br />To remove the existing module, and then install emonhub, enter the following command line;  <br /><br />$ git clone <a href="https://github.com/emonhub/dev-emonhub.git">https://github.com/emonhub/dev-emonhub.git</a> ~/dev-emonhub &amp;&amp; ~/dev-emonhub/upgrade<br /><br />You will notice that after running this command, that emoncms will stop updating, this is expected until the configuration file is updated as follows;  <br /><br />$ nano /etc/emonhub/emonhub.conf<br /><br />Enter your emoncms read/write api key in [[[runtimesettings]]] and also enter your rfm2pi frequency, group &amp; base id under [[[runtimesettings]]] <br />Save your settings, and; $ sudo service emonhub restart<br /><br />Problems?<br />View the error log; $ tail -f /var/log/emonhub/emonhub.log<br /><br />By default this is set to record 'WARNING', however this can be changed to either - DEBUG, INFO, WARNING, ERROR, and CRITICAL by editing the configuration file. <br /><br />Paul <br /><br /><b>NOTE - </b>This update will not orphan or alter your input processes, feeds, visualizations or feed data, as it only changes the way in which data is fed to emoncms. 
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2014/09/from-forum-using-modbus-rs485-to-read/">From the Forum: Using Modbus RS485 to read a SDM630M 3-phase meter </a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2014-09-11T11:20:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2014-09-11 11:20:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> six minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/rs485/'>RS485</a></li>
      
        <li><a class='category' href='/categories/modbus/'>modbus</a></li>
      
        <li><a class='category' href='/categories/three-phase/'>three phase</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2014/09/from-forum-using-modbus-rs485-to-read/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div><br /></div><div><a href="http://openenergymonitor.org/emon/user/1332">JBecker</a> writes :</div><div><br /></div><div><div>I am using a modified OpenEnergyMonitor energy monitoring hardware since more than a year now, with one voltage sensor and three CTs for the current measurement of the three mains phases. This system logs via the RFM12 and a Jeelink USB dongle to Emoncms on a Windows Home Server. This setup is running very reliably with an accuracy of better than ~4% compared to my power meter. I think it would be possible to get better accuracy by using individual voltage sensors on all phases.</div><div><br /></div><div>In Germany the majority of household have three phase supply. To be able to use three voltage sensors it would be necessary to have three outlets within the distribution (for non-invasive mounting). I have never seen that. This means that you have to ask a friendly electrician to install these outlets. But then the whole thing is not really 'non-invasive' any more (and the OEM solutions becomes quite complex with a lot of cabling). This is a dilemma which is hard to solve.</div><div><br /></div><div>So I came to another solution which is quite simple and uses mostly ready-made components:</div><div><br /></div><div>I am using Chinese 3-phase energy monitors since some time for professional purposes (PV-Systems with battery storage). A very nice unit of this type is the <a href="http://bg-etech.de/os/product_info.php?products_id=50">Eastron SDM630M</a>. This device has integrated shunts for current measurement, a nice little display and an RS485 interface for data readout with Modbus protocol. A lot of measuring values can be read, including imported and exported energy, phase voltages, currents, frequency, reactive power and so on. Parameters for the RS485 can also be set via four small keys and the display.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Guaw2kl_rPI/VBF8gtI9gmI/AAAAAAAA7fU/5iWTZ7z1cvA/s1600/P1030829.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-Guaw2kl_rPI/VBF8gtI9gmI/AAAAAAAA7fU/5iWTZ7z1cvA/s1600/P1030829.JPG" height="320" width="291" /></a></div><div><br /></div><div><br /></div><div>For data storage and visualization I decided use the new Emoncms 'low-write' version on a Raspberry Pi. This was installed according to the installation instructions and worked 'out-of-the-box'. The only thing missing on the RasbPi for direct connection to the SDM630 is an RS485 interface.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-jgtDxANgmBg/VBF8jzNsIgI/AAAAAAAA7fc/dcjhu0OQG7o/s1600/P1030830.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-jgtDxANgmBg/VBF8jzNsIgI/AAAAAAAA7fc/dcjhu0OQG7o/s1600/P1030830.JPG" height="240" width="320" /></a></div><div><br /></div><div><br /></div><div>To be able to use the already existing software for data collection on the RasPi (Emonhub), I simply made a 'clone' of the RFM12Pi module. This now has an RS485 driver onboard instead of the RFM12 RF transceiver. Software on the RS485Pi board is the Opti-bootloader (same as on RFM12Pi) for Arduino compatibility and a small sketch for data readout via modbus. As the only available hardware UART is already used for communication with the RasbPi I had to use a software serial for the RS485 interface. (The 'ModbusMasterSoft' library I use is a dirty hack of the existing ModbusMaster library and the AltSoftSerial library. I found no decent way to make these two work together, so I had to modify them)</div><div><br /></div><div>So the whole installation now consists of:</div><div><br /></div><div>- a Raspberry Pi with power supply and the RS485Pi interface board</div><div><br /></div><div>- the SDM630 energy meter</div><div><br /></div><div>(- and a cable in between :-))</div></div><div><br /></div><div>See forum thread for schematic and code:&nbsp;<a href="http://openenergymonitor.org/emon/node/5743">http://openenergymonitor.org/emon/node/5743</a></div><div><br /></div><div><br /></div><div><script class="&quot;brush:" csharp="" quot="" type="&quot;syntaxhighlighter&quot;">  Written by Joerg Becker    uses code from:   - ModbusMaster library   - AltSoftSerial library    - pezibaer (SDM630M-DC thread in www.photovoltaikforum.com)      hardware 'cloned' from:   - RFM12Pi (OpenEnergyMonitor, mharazinov)   - 3V3 RS485 driver added   - bootloader compatible to RFM12Pi      ModbusMasterSoft is a dirty hack I made by combining the ModbusMaster library and the    AltSoftSerial library. I was unable to combine these two in a decent way.   The software serial is used for the RS485, hardware serial for Raspberry Pi connection */  #include &lt;AltSoftSerial.h&gt; #include &lt;ModbusMasterSoft.h&gt;  // settings for RS485 bus (SDM630M can be configured to different values!) #define _SDM630M_MODBUS_ID  4    // Modbus address of SD630M energy monitor #define _MODBUS_BAUD     9600    // Modbus (RS485) baud rate  // settings for communication with Raspberry Pi #define _INTERVAL          10    // send interval (s) to Raspberry Pi (running EmonCMS) #define _RASPI_BAUD      9600    // UART baud rate   // some hardware definitions #define LED1_PIN           A0    // RS485 activity LED #define LED2_PIN           A1    // UART activity LED  //AltSoftSerial AltSerial; // not needed here, done in ModbusMasterSoft  // instantiate ModbusMaster object  ModbusMasterSoft node(_SDM630M_MODBUS_ID);  // float calculations are slow, but here we have enough processing time float v1,v2,v3; float i1,i2,i3; float p1,p2,p3,pa; float v1_sum,v2_sum,v3_sum; float v1_avg,v2_avg,v3_avg; float i1_sum,i2_sum,i3_sum; float i1_avg,i2_avg,i3_avg; float p1_sum,p2_sum,p3_sum,pa_sum; float p1_avg,p2_avg,p3_avg,pa_avg; uint32_t timeout;   void setup() {    pinMode(LED1_PIN, OUTPUT);    pinMode(LED2_PIN, OUTPUT);    digitalWrite(LED1_PIN, 0);    digitalWrite(LED2_PIN, 0);        Serial.begin(_RASPI_BAUD);    Serial.println("SDM630M Test Program");    delay(1000);     // initialize Modbus communication baud rate    node.begin(_MODBUS_BAUD);        timeout = millis(); }  void loop()  {    static uint8_t interval = 0;    uint8_t  result;      uint32_t tmpL;     tmpL = millis();                 if( (tmpL-timeout)&gt;=1000 )  // do this every second    {       timeout = tmpL;        digitalWrite(LED1_PIN, 1);         digitalWrite(LED2_PIN, 0);           ReadVoltages();       v1_sum += v1;       v2_sum += v2;       v3_sum += v3;        ReadCurrents();       i1_sum += i1;       i2_sum += i2;       i3_sum += i3;        ReadPowers();       p1_sum += p1;       p2_sum += p2;       p3_sum += p3;       pa_sum += pa;       if( ++interval&gt;=_INTERVAL )       {          interval = 0;          v1_avg = v1_sum*10/_INTERVAL;  // preserve one (of two) decimal digit(s)          v2_avg = v2_sum*10/_INTERVAL;          v3_avg = v3_sum*10/_INTERVAL;          v1_sum = v2_sum = v3_sum = 0;          i1_avg = i1_sum/_INTERVAL;          i2_avg = i2_sum/_INTERVAL;          i3_avg = i3_sum/_INTERVAL;          i1_sum = i2_sum = i3_sum = 0;          p1_avg = p1_sum/_INTERVAL;          p2_avg = p2_sum/_INTERVAL;          p3_avg = p3_sum/_INTERVAL;          pa_avg = pa_sum/_INTERVAL;          p1_sum = p2_sum = p3_sum = pa_sum = 0;          digitalWrite(LED2_PIN, 1);          PrintJeelink();       }       digitalWrite(LED1_PIN, 0);    } }  void PrintJeelink(void) {    unsigned char i;    union DATA    {       unsigned char item[];       struct       {          int P1;          int P2;          int P3;          int V1;          int V2;          int V3;       } val;    } data;           data.val.P1 = (int)(p1_avg+0.5);    data.val.P2 = (int)(p2_avg+0.5);    data.val.P3 = (int)(p3_avg+0.5);    data.val.V1 = (int)(v1_avg+0.5);    data.val.V2 = (int)(v2_avg+0.5);    data.val.V3 = (int)(v3_avg+0.5);       Serial.print(" 10");              // this is data from 'node' number 10    for(i=0;i&lt;sizeof(data.val);i++)    {      Serial.print(" ");      Serial.print(data.item[i]);    }    Serial.println(); }  uint8_t ReadVoltages( void ) {    uint8_t  result;    uint32_t val;        result = node.readInputRegisters(0x0000, 6);  // read Modbus registers 0 to 5    if (result == node.ku8MBSuccess)     {       val = ((uint32_t)node.getResponseBuffer(0))&lt;&lt;16 |((uint32_t)node.getResponseBuffer(1));       memcpy(&amp;v1, &amp;val, 4);       val = ((uint32_t)node.getResponseBuffer(2))&lt;&lt;16 |((uint32_t)node.getResponseBuffer(3));       memcpy(&amp;v2, &amp;val, 4);       val = ((uint32_t)node.getResponseBuffer(4))&lt;&lt;16 |((uint32_t)node.getResponseBuffer(5));       memcpy(&amp;v3, &amp;val, 4);    }       return result; }  uint8_t ReadCurrents( void ) {    uint8_t  result;    uint32_t val;        result = node.readInputRegisters(0x0006, 6);  // read Modbus registers 6 to 11    if (result == node.ku8MBSuccess)     {       val = ((uint32_t)node.getResponseBuffer(0))&lt;&lt;16 |((uint32_t)node.getResponseBuffer(1));       memcpy(&amp;i1, &amp;val, 4);       val = ((uint32_t)node.getResponseBuffer(2))&lt;&lt;16 |((uint32_t)node.getResponseBuffer(3));       memcpy(&amp;i2, &amp;val, 4);       val = ((uint32_t)node.getResponseBuffer(4))&lt;&lt;16 |((uint32_t)node.getResponseBuffer(5));       memcpy(&amp;i3, &amp;val, 4);    }       return result; }  uint8_t ReadPowers( void ) {    uint8_t  result;    uint32_t val;        result = node.readInputRegisters(0x000C, 6);  // read Modbus registers 12 to 17    if (result == node.ku8MBSuccess)     {       val = ((uint32_t)node.getResponseBuffer(0))&lt;&lt;16 |((uint32_t)node.getResponseBuffer(1));       memcpy(&amp;p1, &amp;val, 4);       val = ((uint32_t)node.getResponseBuffer(2))&lt;&lt;16 |((uint32_t)node.getResponseBuffer(3));       memcpy(&amp;p2, &amp;val, 4);       val = ((uint32_t)node.getResponseBuffer(4))&lt;&lt;16 |((uint32_t)node.getResponseBuffer(5));       memcpy(&amp;p3, &amp;val, 4);    }       return result; } ]]></script></div><div><br /></div>
    
  </div>
  </article>
  <hr>
  
 
  <div class="pagination">
    
      <a class="btn pull-left" href="/posts/7">&larr; Older</a>
    

    
    <a class="btn pull-right" href="/posts/5">Newer &rarr;</a>
    
  </div>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">

  
  
  
     <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Categories</h1>
  <ul class="divided">
    
    
      <li><a href="/categories/air quality egg/">Air Quality Egg</a></li>
    
      <li><a href="/categories/android/">Android</a></li>
    
      <li><a href="/categories/antenna/">Antenna</a></li>
    
      <li><a href="/categories/building energy modelling/">Building Energy Modelling</a></li>
    
      <li><a href="/categories/china/">China</a></li>
    
      <li><a href="/categories/christmas/">Christmas</a></li>
    
      <li><a href="/categories/course/workshop/">Course/Workshop</a></li>
    
      <li><a href="/categories/dc/">DC</a></li>
    
      <li><a href="/categories/dc current sensing/">DC current sensing</a></li>
    
      <li><a href="/categories/esp8266/">ESP8266</a></li>
    
      <li><a href="/categories/heat pump/">Heat Pump</a></li>
    
      <li><a href="/categories/kaizen/">Kaizen</a></li>
    
      <li><a href="/categories/kicad/">KiCad</a></li>
    
      <li><a href="/categories/mqtt/">MQTT</a></li>
    
      <li><a href="/categories/nanoderf/">NanodeRF</a></li>
    
      <li><a href="/categories/nodered/">NodeRed</a></li>
    
      <li><a href="/categories/oem labs/">OEM Labs</a></li>
    
      <li><a href="/categories/okg/">OKG</a></li>
    
      <li><a href="/categories/oscilloscope/">Oscilloscope</a></li>
    
      <li><a href="/categories/rfm12/">RFM12</a></li>
    
      <li><a href="/categories/rfm69/">RFM69</a></li>
    
      <li><a href="/categories/rs485/">RS485</a></li>
    
      <li><a href="/categories/sap 2012/">SAP 2012</a></li>
    
      <li><a href="/categories/shw/">SHW</a></li>
    
      <li><a href="/categories/srf/">SRF</a></li>
    
      <li><a href="/categories/tasker/">Tasker</a></li>
    
      <li><a href="/categories/app/">app</a></li>
    
      <li><a href="/categories/arduino/">arduino</a></li>
    
      <li><a href="/categories/award/">award</a></li>
    
      <li><a href="/categories/backup/">backup</a></li>
    
      <li><a href="/categories/batteries/">batteries</a></li>
    
      <li><a href="/categories/benchmarking/">benchmarking</a></li>
    
      <li><a href="/categories/build sesh/">build sesh</a></li>
    
      <li><a href="/categories/business/">business</a></li>
    
      <li><a href="/categories/ciseco/">ciseco</a></li>
    
      <li><a href="/categories/community energy/">community energy</a></li>
    
      <li><a href="/categories/control/">control</a></li>
    
      <li><a href="/categories/current sensor/">current sensor</a></li>
    
      <li><a href="/categories/current transformer/">current transformer</a></li>
    
      <li><a href="/categories/dashboard/">dashboard</a></li>
    
      <li><a href="/categories/display/">display</a></li>
    
      <li><a href="/categories/diy drones/">diy drones</a></li>
    
      <li><a href="/categories/documentation/">documentation</a></li>
    
      <li><a href="/categories/efergy/">efergy</a></li>
    
      <li><a href="/categories/electronics/">electronics</a></li>
    
      <li><a href="/categories/elektrocamp/">elektrocamp</a></li>
    
      <li><a href="/categories/email notifications/">email notifications</a></li>
    
      <li><a href="/categories/embodied energy/">embodied energy</a></li>
    
      <li><a href="/categories/emonbase/">emonBase</a></li>
    
      <li><a href="/categories/emonctrl/">emonCtrl</a></li>
    
      <li><a href="/categories/emonglcd/">emonGLCD</a></li>
    
      <li><a href="/categories/emonpi/">emonPi</a></li>
    
      <li><a href="/categories/emonth/">emonTH</a></li>
    
      <li><a href="/categories/emontx/">emonTx</a></li>
    
      <li><a href="/categories/emontx v2/">emonTx V2</a></li>
    
      <li><a href="/categories/emontxsmt/">emonTxSMT</a></li>
    
      <li><a href="/categories/emontxshield/">emonTxShield</a></li>
    
      <li><a href="/categories/emoncms/">emoncms</a></li>
    
      <li><a href="/categories/end-to-end/">end to end</a></li>
    
      <li><a href="/categories/energy monitor/">energy monitor</a></li>
    
      <li><a href="/categories/energy monitoring/">energy monitoring</a></li>
    
      <li><a href="/categories/feed storage/">feed storage</a></li>
    
      <li><a href="/categories/github/">github</a></li>
    
      <li><a href="/categories/graphing/">graphing</a></li>
    
      <li><a href="/categories/hackathon/">hackathon</a></li>
    
      <li><a href="/categories/hall effect/">hall effect</a></li>
    
      <li><a href="/categories/hardware/">hardware</a></li>
    
      <li><a href="/categories/heating/">heating</a></li>
    
      <li><a href="/categories/home assistant/">home Assistant</a></li>
    
      <li><a href="/categories/home camp/">home camp</a></li>
    
      <li><a href="/categories/humidity/">humidity</a></li>
    
      <li><a href="/categories/integrations/">integrations</a></li>
    
      <li><a href="/categories/interface/">interface</a></li>
    
      <li><a href="/categories/interview/">interview</a></li>
    
      <li><a href="/categories/java/">java</a></li>
    
      <li><a href="/categories/job/">job</a></li>
    
      <li><a href="/categories/kickstarter/">kickstarter</a></li>
    
      <li><a href="/categories/linux/">linux</a></li>
    
      <li><a href="/categories/logo/">logo</a></li>
    
      <li><a href="/categories/manufacturing/">manufacturing</a></li>
    
      <li><a href="/categories/measurement/">measurement</a></li>
    
      <li><a href="/categories/media/">media</a></li>
    
      <li><a href="/categories/mobile/">mobile</a></li>
    
      <li><a href="/categories/modbus/">modbus</a></li>
    
      <li><a href="/categories/nanode/">nanode</a></li>
    
      <li><a href="/categories/open source/">open source</a></li>
    
      <li><a href="/categories/openhab/">openHAB</a></li>
    
      <li><a href="/categories/openenergymonitor/">openenergymonitor</a></li>
    
      <li><a href="/categories/optical pulse/">optical pulse</a></li>
    
      <li><a href="/categories/pcb/">pcb</a></li>
    
      <li><a href="/categories/pebble/">pebble</a></li>
    
      <li><a href="/categories/pluse/">pluse</a></li>
    
      <li><a href="/categories/presentation/">presentation</a></li>
    
      <li><a href="/categories/raspberry pi/">raspberry pi</a></li>
    
      <li><a href="/categories/renewable/">renewable</a></li>
    
      <li><a href="/categories/serial/">serial</a></li>
    
      <li><a href="/categories/shop/">shop</a></li>
    
      <li><a href="/categories/showcase/">showcase</a></li>
    
      <li><a href="/categories/smartwatch/">smartwatch</a></li>
    
      <li><a href="/categories/social energy monitoring/">social energy monitoring</a></li>
    
      <li><a href="/categories/solarpv/">solarPV</a></li>
    
      <li><a href="/categories/sparkfun/">sparkfun</a></li>
    
      <li><a href="/categories/sustainability/">sustainability</a></li>
    
      <li><a href="/categories/temperature/">temperature</a></li>
    
      <li><a href="/categories/three phase/">three phase</a></li>
    
      <li><a href="/categories/tutorials/">tutorials</a></li>
    
      <li><a href="/categories/upgrade/">upgrade</a></li>
    
      <li><a href="/categories/utility meters/">utility meters</a></li>
    
      <li><a href="/categories/voltage sensing/">voltage sensing</a></li>
    
      <li><a href="/categories/wind/">wind</a></li>
    
      <li><a href="/categories/wind turbine/">wind turbine</a></li>
    
      <li><a href="/categories/wireless/">wireless</a></li>
    
      <li><a href="/categories/workshop/">workshop</a></li>
    
  </ul>
</section>
  
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright">
  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor'><i class="icon-github"></i></a>
  <a rel="me" href='http://blog.openenergymonitor.org/atom.xml'><i class="icon-rss"></i></a>

  <div class="credit">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and the <a href='https://github.com/coogie/oscailte'>Oscalite theme</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>
</div>
    </div>
  </div>
</div>
    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script>
  var _gaq=[['_setAccount','UA-10321170-4'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
<script>
  var disqus_shortname = 'openenergymonitor';
  
    
    var disqus_script = 'count.js';
  
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>


<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

  </body>
</html>