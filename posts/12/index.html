<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Blog | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="OpenEnergyMonitor Blog">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="http://blog.openenergymonitor.org/posts/12/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Blog | OpenEnergyMonitor">
    <meta property="og:site_name" content="Blog | OpenEnergyMonitor">
    <meta property="og:url" content="http://blog.openenergymonitor.org/posts/12/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Blog | OpenEnergyMonitor">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Blog | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
    
    
    
    <link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
	<link rel="apple-touch-icon" href="/images/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/images/favicon-144.png">
	<meta name="msapplication-config" content="/images/browserconfig.xml">
	
  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <!--<img width='40' src='/images/favicon-192x192.png'> -->
    <span>Blog | OpenEnergyMonitor</span>
  </a>
</div>

<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a href="http://openenergymonitor.org">Home</a></li>
  <li><a href="http://shop.openenergymonitor.com">Online-Store</a></li>
  <li><a href="http://guide.openenergymonitor.org">User Guide</a></li>
  <li><a href="http://emoncms.org">Emoncms</a></li>
  <li><a href="http://community.openenergymonitor.org">Forum</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

            
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/09/faire-maus/">Faire Maus! A 'fair' USB optical mouse</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-09-16T15:36:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span>
    <span><i class='icon-time'></i> two minutes reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/sustainability/'>sustainability</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/09/faire-maus/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    A few weeks ago I wrote a <a href="http://openenergymonitor.blogspot.com/2013/08/ethical-and-sustainable-electronics.html">blog post about ethical and sustainable electronics</a>.<br /><br />In the post I mentioned a German project called <a href="https://www.nager-it.de/en">Nager IT</a> who have designed an optical USB mouse using low carbon materials and have gone to great lengths to source ethically produced components with a transparent supply chain and exploitation free manufacture.<br /><br />We have decided to support the Nager IT project by becoming a UK reseller of their 'Faire Maus' or fair mouse. This mouse is as good as it gets at the moment in terms of ethical and sustainable electronics.<br /><br /><i>The mouse is a well-made three-button USB optical scroll wheel mouse made using low carbon materials, ethically produced components with a transparent supply chain and exploitation free manufacture.</i><br /><br />The mouse is now available for purchase on a non profit basis (for us) in our shop: <a href="http://shop.openenergymonitor.com/fair-usb-optical-mouse/">http://shop.openenergymonitor.com/fair-usb-optical-mouse/</a><br /><br /><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-7sdg6VzJAtE/UjckC6z5G9I/AAAAAAAAkMM/OE4NglI0Nkw/s1600/NagerIT+flyer1.png" imageanchor="1"><img border="0" height="452" src="http://4.bp.blogspot.com/-7sdg6VzJAtE/UjckC6z5G9I/AAAAAAAAkMM/OE4NglI0Nkw/s640/NagerIT+flyer1.png" width="640" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-SGiD5PHvM0E/UjckC3mlDdI/AAAAAAAAkMQ/x2hp4S_ruUQ/s1600/NagerITflyer2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="450" src="http://1.bp.blogspot.com/-SGiD5PHvM0E/UjckC3mlDdI/AAAAAAAAkMQ/x2hp4S_ruUQ/s640/NagerITflyer2.png" width="640" /></a></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><em style="margin: 0px; outline: none; padding: 0px;"><strong style="margin: 0px; outline: none; padding: 0px;"><br /></strong></em></div>The mice are assembled by hand in Germany and feel very well made, the texture of the wood plastic enclosure feels good in the hand and the sleek and rubbery USB cable runs smoothy over the table.<br /><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-wsoOK0yG8U8/UjckqjNUlWI/AAAAAAAAkMc/geznhTZCmQU/s1600/2013_08_29_16.39.32__74936.1379344820.1280.1280.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="240" src="http://2.bp.blogspot.com/-wsoOK0yG8U8/UjckqjNUlWI/AAAAAAAAkMc/geznhTZCmQU/s320/2013_08_29_16.39.32__74936.1379344820.1280.1280.jpg" width="320" /></a></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><br />Every time I use the mouse it it reminds me that ethical and sustainable electronics is a goal which is worth pursuing.<br /><br /><i>Purchasing a fair mouse can be thought of like purchasing fair trade coffee; it might cost a little bit extra but you know that your doing good.</i><br /><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div>Checkout the <a href="https://www.nager-it.de/static/pdf/en_lieferkette.pdf">great graphic</a> Nager IT have produced illustrating their transparent supply chain behind this mouse.<br /><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-PMWAqYm35nk/UjclPvTHpdI/AAAAAAAAkMk/iogDpL-pMA8/s1600/2013-08-29+16.39.51.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="240" src="http://3.bp.blogspot.com/-PMWAqYm35nk/UjclPvTHpdI/AAAAAAAAkMk/iogDpL-pMA8/s320/2013-08-29+16.39.51.jpg" width="320" /></a></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/09/posting-data-from-adafruit-tweet-watt/">Posting data from Adafruit Tweet-A-Watt to emoncms</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-09-13T14:10:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span>
    <span><i class='icon-time'></i> 1 minute reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/09/posting-data-from-adafruit-tweet-watt/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <a href="http://www.ladyada.net/make/tweetawatt/">Tweet-a-watt</a> is a project from Ladyada / <a href="http://www.adafruit.com/blog/category/tweetawatt/">Adafruit</a> to modify a Kill-A-Watt appliance power monitor to transmit the power data via Xbee to a computer (could be a Raspberry Pi) and post the value to twitter. Chris Whiting has modified the python code to post the data to <a href="http://emoncms.org/">emoncms</a><br /><br /><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://www.adafruit.com/adablog/wp-content/uploads/2013/04/TweetAWattDiagram.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="476" src="http://www.adafruit.com/adablog/wp-content/uploads/2013/04/TweetAWattDiagram.png" width="640" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-CTH2OP7oMss/UjMcGDlyF8I/AAAAAAAAkEI/hLZ0oAdKLpQ/s1600/Selection_007.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="313" src="http://2.bp.blogspot.com/-CTH2OP7oMss/UjMcGDlyF8I/AAAAAAAAkEI/hLZ0oAdKLpQ/s640/Selection_007.png" width="640" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><br /><a href="http://twitter.com/civicsarecool">Chris Whiting</a>&nbsp;writes:&nbsp;<br /><i><br /></i><i>A Tweet-A-Watt is plugged into an outlet with a device plugged into it. A xbee is wired to the Kill-A-Watt electronics, which reads an analog voltage representing the power and current being used by the device plugged into the Kill-A-Watt. The xbee sends the data to a receiving xbee which is plugged into a computer using an USB FTDI TTL-232 cable.</i><br /><i><br /></i><i>I have a script called "wattcher.py" running on a Raspberry Pi which was originally developed by the folks at Adafruit. This script reads the data sent to the receiving xbee through the serial port. The script takes the raw data and processes the data to calculate the power being used. I modified the script to send the collected data to a web socket. The receiving web socket is the oem_gateway.py script that's running on my web server where Emoncms is currently installed.</i><br /><i><br /></i>Chris has kindly put his cod on GitHub for everyone to try:&nbsp;<a href="https://github.com/casestudies/tweetawatt">https://github.com/casestudies/tweetawatt</a><br /><div><br /></div><div><br /></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/emontx-v3-progress-update/">emonTx V3 Progress Update</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-31T10:50:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span>
    <span><i class='icon-time'></i> two minutes reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emontx/'>emonTx</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/08/emontx-v3-progress-update/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Since my last post<a href="http://openenergymonitor.blogspot.com/2013/02/emontx-smt-update-introducing-emontx-v3.html"> introducing the emonTx V3&nbsp;</a>&nbsp;prototype design progress has been steady. The design has undergone several iterations and has now reached a stage of maturity.<br /><br />The main features of the emonTx V3 have stayed the same:<br /><ul><li>ATmega328 Arduino IDE compatible microcontroller</li><li>RFM12B or Ciseco SRF 433/868/915Mhz RF wireless compatiable with <a href="http://openenergymonitor.org/emon/emonbase/raspberrypi">RFM12Pi </a>Raspberry Pi emoncms basestation</li><li>3 x Standard (23kW max) CT channels</li><li>1 x High sensitivity (4.5kW max) CT channel&nbsp;</li><li>Integrated <a href="http://openenergymonitor.blogspot.co.uk/2012/05/emontx-single-ac-power-supply.html">AC-DC power supply</a> to enable powering the unit from a single 9V AC adapter while also sampling the AC voltage to calculate Real Power and AC Vrms readings&nbsp;</li><li>Low power design with option to power from 3 x AA batteries for Apparent Power (current ony) measurement</li><li>Enclosed in wall mountable extruded aluminium enclosure</li><li>Terminal block connection for optical pulse sensor and DS18B20 temperature sensors</li><li>Pre-assembled SMT electronics</li></ul><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-rELQvkIfVK4/Uh5qYxm6q_I/AAAAAAAAj0k/Ol6i00TKDRo/s1600/emonTxV3.0.1+prototype.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="300" src="http://4.bp.blogspot.com/-rELQvkIfVK4/Uh5qYxm6q_I/AAAAAAAAj0k/Ol6i00TKDRo/s400/emonTxV3.0.1+prototype.jpg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx V3 with 3 x AA battery's and 1 x CT (Apparent Power setup)</td></tr></tbody></table><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-6xcrqx5UmJA/Ul-kNEaYNPI/AAAAAAAAmMo/q9Itg5zfVvc/s1600/PhotoGrid_1380621877488.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="400" src="http://4.bp.blogspot.com/-6xcrqx5UmJA/Ul-kNEaYNPI/AAAAAAAAmMo/q9Itg5zfVvc/s400/PhotoGrid_1380621877488.jpg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Fully assembled with antenna in wall-mount enclosure</td></tr></tbody></table><br />I am currently in the process of obtaining assembly quotes from manufactures as well as performing lots of testing. <br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-r1ge_LRe9Y8/UiHIW6texlI/AAAAAAAAj3U/ScYsMV3DyG0/s1600/emonTxV3.1_brd.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="585" src="http://2.bp.blogspot.com/-r1ge_LRe9Y8/UiHIW6texlI/AAAAAAAAj3U/ScYsMV3DyG0/s640/emonTxV3.1_brd.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx V3.1 PCB Design&nbsp;</td></tr></tbody></table><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-xYTpFrE1Uaw/UiHIWr_7mNI/AAAAAAAAj3Q/nbUg2CzpA4E/s1600/emonTxV3.1_sch_BW.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="473" src="http://4.bp.blogspot.com/-xYTpFrE1Uaw/UiHIWr_7mNI/AAAAAAAAj3Q/nbUg2CzpA4E/s640/emonTxV3.1_sch_BW.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx V3.1 Schematic</td></tr></tbody></table><br />The AC-DC circuit that was initially <a href="http://openenergymonitor.blogspot.com/2012/05/emontx-single-ac-power-supply.html">designed with the aid of simulation</a> then<a href="http://openenergymonitor.blogspot.com/2013/01/power-emontx-from-single-ac-power.html"> </a><a href="http://openenergymonitor.blogspot.co.uk/2013/01/power-emontx-from-single-ac-power.html">bench tested</a>&nbsp;is performing as expected.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-zv0FHUj1QWo/Uh5pwJk6RGI/AAAAAAAAj0c/TZX51OKfjpQ/s1600/DS2_QuickPrint7.bmp" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="384" src="http://1.bp.blogspot.com/-zv0FHUj1QWo/Uh5pwJk6RGI/AAAAAAAAj0c/TZX51OKfjpQ/s640/DS2_QuickPrint7.bmp" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Blue = output from 9V AC adapter Yellow = input to voltage regulator when unit is drawing 7.7mA &nbsp;@ 3.3V, sudden dip is caused by RFM12B firing up to transmit four integer data packets <a href="http://openenergymonitor.blogspot.co.uk/2013/07/ciseco-srf-vs-rfm12b-power-consumption.html">(approx 24mA for 2.7ms)</a></td></tr></tbody></table>If all goes well we're expecting to get the emonTx V3 into production in the next few of months.<br /><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/emonglcd-433-868-mhz-rf-scanner-signal/">emonGLCD 433 / 868 Mhz RF Scanner & Signal Strength Meter </a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-26T14:27:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span>
    <span><i class='icon-time'></i> 1 minute reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/rfm12/'>RFM12</a></li>
      
        <li><a class='category' href='/categories/emonglcd/'>emonGLCD</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/08/emonglcd-433-868-mhz-rf-scanner-signal/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <a href="http://openenergymonitor.org/emon/user/1824">Martin Roberts</a> has developed a fantastic bit of firmware for the emonGLCD to enable it to be used as an RF scanner and signal strength meter on the 433 / 868 Mhz RF band.<br /><br />&nbsp;This makes the emonGLCD running this firmware a useful tool for debugging RF transmission and checking out signal strength.  To run the firmware a small hardware modification is required to the emonGLCD to access the analogue signal strength output signal from the RFM12B.<br /><br />Martin's sketch has been added to the <a href="https://github.com/openenergymonitor/EmonGLCD/tree/master/GLCD_SSM">emonGLCD github repo</a>.<br /><br />Full details including build-guide and discussion can be found on the original&nbsp;<a href="http://openenergymonitor.org/emon/node/2395">forum thread</a>.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-S0m9P9FKx18/UhtmSquXvUI/AAAAAAAAjn8/d7rcJjPtYM0/s1600/glcdssm_intf.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="300" src="http://3.bp.blogspot.com/-S0m9P9FKx18/UhtmSquXvUI/AAAAAAAAjn8/d7rcJjPtYM0/s400/glcdssm_intf.jpg" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://openenergymonitor.org/emon/sites/default/files/GLCD_SSM_interface.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="579" src="http://openenergymonitor.org/emon/sites/default/files/GLCD_SSM_interface.jpg" width="640" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://openenergymonitor.org/emon/sites/default/files/GLCD_SSM_inside.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="302" src="http://openenergymonitor.org/emon/sites/default/files/GLCD_SSM_inside.jpg" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/notify-on-inactive-feeds/">Notify on inactive feeds</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-20T13:18:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> 1 minute reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/08/notify-on-inactive-feeds/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div class="separator" style="clear: both; text-align: left;">Here's a simple feature that sends an email whenever emoncms feeds become inactive for more than two hours, designed to stop those instances where you login to emoncms after a month and realise that something went wrong and it hasn't been updating for a while.</div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-SDlvNa2ke2Y/UhNjgMlbYrI/AAAAAAAACwI/4wTYyUem-R4/s1600/notify.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="182" src="http://2.bp.blogspot.com/-SDlvNa2ke2Y/UhNjgMlbYrI/AAAAAAAACwI/4wTYyUem-R4/s640/notify.png" width="640" /></a></div><div class="separator" style="clear: both; text-align: left;">The notify control page can be accessed via the Extras menu. It can be disabled or enabled and an email address that is different from you main account email can be used if needed.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">A cron job runs every 2 hours on the server to check if any feeds have become inactive for more than 2 hours but less than 4 hours. This ensures only one email is sent and historical inactivity is ignored.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">Notify is now running on emoncms.org, you may want to check that your email address is correct before turning it on.</div><div class="separator" style="clear: both; text-align: left;"><br /></div>To install notify on your raspberrypi or own server see installation details here:<br /><a href="http://github.com/emoncms/notify">http://github.com/emoncms/notify</a><br /><br /><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/pcb-manufacturer-meeting/">PCB Manufacturer Meeting</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-06T20:35:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span>
    <span><i class='icon-time'></i> three minutes reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/pcb/'>pcb</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/08/pcb-manufacturer-meeting/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div>A couple of months ago I met up with Stacey Driver who is the&nbsp;Business Development Manager of PCB manufacturer&nbsp;<a href="http://www.sticklebackuk.co.uk/">Stickleback Manufacturing Ltd</a>. We have been working with Stickleback for several years now, over that time they have grown in size and moved to a new factory. It's great to support (in the small way we can) a UK based manufacturer.<br /><br />Here's a copy of Stickleback's recent newsletter where our meeting is mentioned alongside details of their new water treatment plant they have recently installed. It's great to hear that they are continuing to invest in their manufacturing processes and reducing their environmental impact. This links in well with my previous blog post on&nbsp;<a href="http://openenergymonitor.blogspot.com/2013/08/ethical-and-sustainable-electronics.html">Ethical and Sustainable Electronics&nbsp;</a></div><div><br /></div><br /><table align="center" bgcolor="#FFFFFF" border="0" cellpadding="0" cellspacing="0" style="width: 599px;"><tbody><tr><td colspan="5"><img alt="Stickleback Chat - Official news of Stickleback PCBs" height="140" src="http://i6.createsend1.com/ti/r/A9/3F7/168/015226/stickleback-edm_01.gif" width="599" /></td></tr><tr><td background="http://i7.createsend1.com/ti/r/A9/3F7/168/015226/col-bg.gif" width="20"><br /></td><td valign="top"><table cellpadding="0" cellspacing="0" style="width: 366px;"><tbody><tr><td colspan="2"><a href="http://www.blogger.com/blogger.g?blogID=2472065242652647619" name="toc_item_1" style="color: #09aeef; font-weight: bold;"></a><img alt="Image" height="186" label="Single Large - Image" src="http://i2.createsend1.com/ei/r/75/CE4/235/csimport/WaterRecyclingTreatmentPlant.151358.jpg" width="366" /></td></tr><tr><td colspan="2"><div style="color: #666666; font-family: Verdana, Geneva, sans-serif; font-size: 11px; padding: 10px 0px 20px;"><h1 style="font-family: Arial, Helvetica, sans-serif; font-size: 18px; margin: 0px 0px 10px;">Water Recycling Treatment Plant</h1>As part of our continuing energy efficiency scheme we are thrilled to announce that we have installed a water recycling plant for our factory in Rochester, Kent. The introduction of the unit will significantly reduce the volume of waste water produced as a direct result of our processing.<br />Acids and alkalines used in our manufacturing processes are neutralised under controlled conditions. The ph. of the solution is carefully controlled allowing the water to be reused. This reduces the volume of water drawn by our company and removes the possibility of any polluting effects.<br />More and more companies are investing in waste water treatment. For Stickleback, we see it as part of our corporate responsibility to preserve and protect the natural resources we have wherever possible. We can’t wait until it is all put together and up and running.</div></td></tr><tr><td colspan="2"><a href="http://www.blogger.com/blogger.g?blogID=2472065242652647619" name="toc_item_2" style="color: #09aeef; font-weight: bold;"></a><img alt="Image" height="186" label="Single Large - Image" src="http://i3.createsend1.com/ei/r/75/CE4/235/csimport/OpenEnergyMonitorGoogleCampus.151523.jpg" width="366" /></td></tr><tr><td colspan="2"><div style="color: #666666; font-family: Verdana, Geneva, sans-serif; font-size: 11px; padding: 10px 0px 20px;"><h1 style="font-family: Arial, Helvetica, sans-serif; font-size: 18px; margin: 0px 0px 10px;">Open Energy Monitor and Google Campus</h1>Stacey Driver had a fantastic meeting with our long-standing, valued customer, Glyn Hudson, at the Google Campus.<br />Glyn is a highly ambitious and motivated young entrepreneur, who is proud to be manufacturing a British product. The Open source hardware product, manufactured by Open Energy monitoring, allows us to relate our use of energy to our energy systems and embrace the challenge of sustainable energy.<br />We’ve worked with Glyn from the prototype stage through to production and his quantities continue to grow as his products are sent worldwide.<br />We are proud to support growing business’; start-ups and SME’s and have developed smart prototyping systems to help minimise the required outlay at these costly development stages.<br />Contact Stacey today on&nbsp;<a href="mailto:stacey@sticklebackuk.com" style="color: #09aeef; font-weight: bold; text-decoration: none;">stacey@sticklebackuk.com</a>&nbsp;or&nbsp;01634 272416&nbsp;if you think we could become part of your businesses fantastic journey.<br />We would be delighted to discuss where Stickleback may be able to help!</div></td></tr></tbody></table></td><td background="http://i8.createsend1.com/ti/r/A9/3F7/168/015226/col-bg-line.gif" width="20"></td><td valign="top"><div style="padding: 0px 0px 0px 20px;"><div style="border-bottom-color: rgb(102, 102, 102); border-bottom-style: solid; border-bottom-width: 1px; margin: 0px 0px 15px; padding: 0px 0px 15px;"><h3 style="color: #09aeef; font-family: Arial, Helvetica, sans-serif; font-size: 13px; font-weight: normal; margin: 0px 0px 5px;"></h3></div></div></td><td background="http://i7.createsend1.com/ti/r/A9/3F7/168/015226/col-bg.gif" width="20"><br /></td></tr></tbody></table>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/ethical-and-sustainable-electronics/">Ethical and Sustainable Electronics</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-05T16:51:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span>
    <span><i class='icon-time'></i> four minutes reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/manufacturing/'>manufacturing</a></li>
      
        <li><a class='category' href='/categories/sustainability/'>sustainability</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/08/ethical-and-sustainable-electronics/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Like many of us I love technology and enjoy using the latest gadgets, but this often sits uncomfortably on my conscience since I also care deeply about the environment and try and do my best to reduce my energy consumption and carbon footprint where possible.<br /><br />The choices we make as consumers do make a difference, the stuff we buy accounts for about 40% of our current energy consumption, this is for the average person, it's probably a fair bit higher for 'techies'! The energy used to make the stuff we buy is more than the energy we use for personal transport and more than our energy demands for heating and cooling [1 – P.94]. Hi-tech electronic items have a large embodied energy carbon footprint and often contain '<a href="http://en.wikipedia.org/wiki/Conflict_minerals">conflict materials</a>' such as gold (contacts) , tantalum (capacitors), tungsten etc. Manufacturing a PC requires 11 times it's own weight in raw materials to produce compared to 1-2 times for a car [1 - P.94]<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-s5Tz7wPjxGE/Uf_PptDrQyI/AAAAAAAAilc/ke5HbwNHxx8/s1600/fairtrade.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://4.bp.blogspot.com/-s5Tz7wPjxGE/Uf_PptDrQyI/AAAAAAAAilc/ke5HbwNHxx8/s1600/fairtrade.png" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Fair Trade Graphic from<a href="https://www.nager-it.de/"> Nager IT</a></td></tr></tbody></table><br />In many areas of purchasing there is an ethical and lower carbon choice available, like buying local vegetables and fair trade coffee and chocolate etc. However when purchasing electronic items I have always assumed there was not this option, that no product is more ethical or lower carbon than another (they are all just as bad!).<br /><br />I would like to highlight two projects that I have discovered lately that are working together to try and improve the state of electronics manufacture. I should state that I have no connection with these projects other than reading their websites.<br /><br />The first is a German project called <a href="https://www.nager-it.de/">Nager-IT</a> who have produced a "Faire Maus" or Fair Mouse.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-jmQRDDomW9s/Uf_P9t2clLI/AAAAAAAAilk/TBnjfnXwij8/s1600/Selection_013.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="166" src="http://1.bp.blogspot.com/-jmQRDDomW9s/Uf_P9t2clLI/AAAAAAAAilk/TBnjfnXwij8/s400/Selection_013.png" width="400" /></a></div>They have designed the USB mouse using low carbon materials and have gone to great lengths to source ethically produced components and have pushed for transparency throughout the supply chain (something which is almost non existent in electronic production at the moment). Checkout this graphic they have produced illustrating their transparent supply chain:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-AMlYMCcldb8/Uf_PgrvqRiI/AAAAAAAAilU/bLrPgStjcHg/s1600/Selection_011.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="451" src="http://3.bp.blogspot.com/-AMlYMCcldb8/Uf_PgrvqRiI/AAAAAAAAilU/bLrPgStjcHg/s640/Selection_011.png" width="640" /></a></div><br /><br />&nbsp;The mouse they have produced can be purchased through their website.<br /><br />The second project is called <a href="http://www.fairphone.com/">FairPhone</a>, they are a social enterprise in the Netherlands with the aim of " designing, creating and producing our first smartphone and taking the next crucial step in uncovering the story behind the sourcing, production, distribution and recycling of electronics." They are developing and aiming to start stating in Autumn this year a 'fairer' Android powered smartphone.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-PbaEgV1ASFc/Uf_RSG6iEyI/AAAAAAAAil0/4r4F86OWAcA/s1600/Selection_018.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="640" src="http://1.bp.blogspot.com/-PbaEgV1ASFc/Uf_RSG6iEyI/AAAAAAAAil0/4r4F86OWAcA/s640/Selection_018.png" width="569" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Graphic from&nbsp;<a href="http://www.fairphone.com/">http://www.fairphone.com</a>&nbsp;website</td></tr></tbody></table><br />It's uplifting to hear of small independent companies taking on the big players in the consumer electronics industry by offering a 'fairer' alternative. We as consumers should do our best to show that there is demand for more ethically produced electronic projects.<br /><br />I have also discovered that <a href="http://www.greenpeace.org/international/en/campaigns/climate-change/cool-it/Campaign-analysis/Guide-to-Greener-Electronics/">GreenPeace produce an independent ranking of the large electronic companies</a> based on how 'green' they are.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/--5cgWv5gzYM/Uf_YWErGBtI/AAAAAAAAimE/47DhvhCTJcY/s1600/GG_1012_bg.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="240" src="http://2.bp.blogspot.com/--5cgWv5gzYM/Uf_YWErGBtI/AAAAAAAAimE/47DhvhCTJcY/s640/GG_1012_bg.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Graphic from <a href="http://www.greenpeace.org/international/en/campaigns/climate-change/cool-it/Campaign-analysis/Guide-to-Greener-Electronics/">GreenPeace</a></td></tr></tbody></table><br /><br />[1] – <a href="http://www.withouthotair.com/">Sustainable Energy Without the Hot Air</a> – David MacKay [2009]<br /><h2></h2><h2>How this relates to OpenEnergyMonitor&nbsp;</h2><h3>Steps we have taken so far</h3><ul><li>Choose RHOS and components which are free of conflict materials</li><li>Choose <a href="http://openenergymonitor.blogspot.com/2012/05/embodied-energy-of-electronic-enclosure.html">low embodied energy materials for enclosures which can be easily recycled</a></li><li>Use standard parts which can be easily re programmed and used for other purposes in the future</li><li>Use recyclable packaging (paper bags which are naturally antistatic) for our shipping&nbsp;</li><li>Choose low power equipment, LED lighting, recycled paper for our office and switch things off at the end of the day!&nbsp;</li><li>Choose surface freight (boat) rather than planes to ship stock (mainly power adapters) from China, this takes 3 months rather than 3 days but worth it for the 32 times less energy consumed [1 - P.92].&nbsp;</li><li>Choose a <a href="http://www.sticklebackuk.co.uk/uk-manufacturing/">PCB manufacture</a>&nbsp;who are based in the UK who uses lead free techniques, complies to the highest environmental industry standard and is actively investing in techniques and equipment to reduce wastage and environmental impact (e.g water treatment and recycling)&nbsp;</li><li>Strive to optimise electrical consumption in our hardware to be as low was possible&nbsp;</li></ul><h3>Steps we would like to take in the future&nbsp;</h3><ul><li>Produce an end-to-end supply chain map of our manufacture (possibly using http://sourcemap.com)</li><li>Try and calculate the embodied energy that goes into producing our designs and constantly try and find ways we can reduce this</li><li>Sell through local distributors to reduce air based shipping and investigate possibility of local manufacture</li><li>Use recycled plastic / other low embodied energy martial in the moulding of the housing for our next version of the emonGLCD and temperature monitoring node&nbsp;</li><li>Investigate how we can build recyclability into the design, checkout the video below from the&nbsp;<a href="http://www.greatrecovery.org.uk/">Great Recovery Project</a>:</li></ul><div><br /></div><iframe allowfullscreen="" frameborder="0" height="315" src="//www.youtube.com/embed/0ExzD-79aXw" width="560"></iframe>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/preparing-emoncmsorg-feeds-for/">Preparing emoncms.org feeds for conversion to timestore</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-01T14:16:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> two minutes reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/08/preparing-emoncmsorg-feeds-for/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    One of the central principles behind the <a href="http://www.blogger.com/blogger.g?blogID=2472065242652647619" src="mikestirling.co.uk/redmine/projects/timestore">Timestore data storage</a> approach is that datapoints are stored at a fixed interval. Because you know that there is a datapoint every 10s you dont need to store the timestamp for each datapoint, you only need to store the timestamp for the first datapoint. The timestamp for every other datapoint can be worked out i.e:<br /><br /><pre>timestamp = start + position * interval.</pre><br />Storing time series data in this way makes it really easy and very fast to query. The tests so far have shown timestore to be <a href="http://www.blogger.com/blogger.g?blogID=2472065242652647619" src="http://openenergymonitor.blogspot.co.uk/2013/07/from-13-minutes-to-196ms-timestore-on.html">several magnitudes faster</a> while also using significantly less disk space.<br /><br />If your logging to emoncms.org there is now an interface that can be used to select the interval rate that you would like your feeds converted too, its linked from the feeds page.<br /><br /><b>On the feed/convert page:</b><br /><br />The new interval column states the average interval rate of the existing feed and is calculated simply as the end time minus the start time divided by the number of datapoints in the feed. This interval rate can be skewed if the monitor dropped off for a period, so its worth double checking that it is correct.<br /><br />You may wish to change your interval rate, if your logging temperature data at 5s intervals and 60s is enough to see the changes in temperature you want to see then select 60s as this reduces the disk use of the feed considerably.<br /><br />To set the interval rate you wish your feed to be converted to, click on the <b>pencil button</b> to bring up in-line editing:<br /><img src="http://emoncms.org/Modules/feed/Views/step1.png" /> <br />Click on the drop down menu under convert to and select from the list the interval you wish to use. Click on the tick button to complete.<br /><img src="http://emoncms.org/Modules/feed/Views/step2.png" /> <br />Repeat the above steps for every feed you wish to convert and then once your done click on <b>Add feeds to conversion queue</b> button that is at the bottom of the conversion page.<br /><br />As mentioned in the last post, its going to take up to a month for the server to convert through all the feeds so you wont see anything straight away. I will update with conversion progress.<br /><br />I've put all the code for the above on github under an <a href="https://github.com/emoncms/emoncms/tree/emoncmsorg">emoncmsorg branch of emoncms</a>, the conversion scripts can also be found in the repo <a href="https://github.com/emoncms/usefulscripts">usefulscripts</a>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/07/from-13-minutes-to-196ms-timestore-on/">From 1.3 minutes to 196ms: timestore on emoncms.org</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-07-31T11:14:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> three minutes reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/07/from-13-minutes-to-196ms-timestore-on/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <br /><div style="margin-bottom: 0cm;">John Cantor who uses the openenergymonitor system for <a href="http://www.heatpumps.co.uk/">heatpump performance monitoring</a>&nbsp;got in contact the other day saying that graphs on emoncms.org where taking a really long time to load. I said that the work on using <a href="http://www.mike-stirling.com/redmine/projects/timestore">timestore</a> will soon speed things up significantly. He asked if there was a chance to convert the feeds before he went up to work on a system in Scotland as being able to zoom with speed through the graphs would make a big difference.</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">Clicking on the Y (Year) button in the rawdata visualisation has slowed down so much over the last year that it now takes over a minute to load the view.</div><div style="margin-bottom: 0cm;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-hOkV9mZtczY/UfjjBpy62ZI/AAAAAAAACvU/y1WT69TFM4U/s1600/mysql_yearview.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="281" src="http://3.bp.blogspot.com/-hOkV9mZtczY/UfjjBpy62ZI/AAAAAAAACvU/y1WT69TFM4U/s400/mysql_yearview.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">The same request on a raspberrypi takes <a href="http://openenergymonitor.blogspot.co.uk/2013/06/rethinking-data-input-and-storage-core.html">2.9 seconds</a>, The thinking to why its so much slower on emoncms.org is because of the use of the php loop doing individual requests to mysql which are added to the mysql process queue and have to wait in line&nbsp;amongst&nbsp;all the other mysql inserts and updates caused by all the updating feeds, the php loop method was<a href="http://emoncms.org/site/docs/developdatastorage"> initially faster than an equivalent mysql implementation</a> but clearly not for long.</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">Anyway I figured we could get timestore up and running on emoncms.org straight away if we run timestore in parallel with the current mysql storage and then slowly convert feeds over to timestore over time.&nbsp;The present input processing and visualisation implementation would be kept as is for the time being only initially using timestore to replace the realtime datatype<a href="http://openenergymonitor.blogspot.co.uk/2013/07/emoncms-powered-by-timestore.html"> rather than both realtime and daily</a>.</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">Conversion from mysql to timestore takes a long time especially as the process has to be throttled down in order to allow enough resources on the server for normal operation to continue. For example the conversion of a 568 day long, 5s datapoint interval feed (~152mb) takes about half an hour loading the server to an average 15min (quite high) load of 4.69 at that rate it will take about a month to convert all feeds over to timestore.</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">The results though are worth it!:</div><div style="margin-bottom: 0cm;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-xmRfvjUVfPk/UfjrE7OGHJI/AAAAAAAACvk/vtYOubE9enw/s1600/timestore.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="272" src="http://2.bp.blogspot.com/-xmRfvjUVfPk/UfjrE7OGHJI/AAAAAAAACvk/vtYOubE9enw/s400/timestore.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><span style="font-size: x-large;">196ms!</span></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div style="margin-bottom: 0cm;">1.3 minutes down to 196ms is a<b> 398x</b> speed increase! and its also possible to see another advantage of timestore the effect of the average layers showing a slight winter summer curve. A big thankyou and credit to Mike Stirling for developing timestore enabling this kind of performance, if you&nbsp;haven't&nbsp;already check out the timestore project website:</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;"><a href="http://www.mike-stirling.com/redmine/projects/timestore">http://www.mike-stirling.com/redmine/projects/timestore</a></div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">John Cantor has shared the Scottish heatpump dashboard publicly, take a look to try out the new timestore feeds:</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;"><a href="http://emoncms.org/mallard">http://emoncms.org/mallard</a></div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">Im currently working on an interface in emoncms to allow selection of the feed datapoint interval (5s, 10s, 30s etc) to convert to before the feeds are added to the conversion queue, more on this soon.</div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/07/oem-gateway-by-jerome/">OEM Gateway by Jerome Lafréchoux</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-07-29T22:28:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> three minutes reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
        <li><a class='category' href='/categories/raspberry-pi/'>raspberry pi</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2013/07/oem-gateway-by-jerome/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    I would like to highlight the good and interesting work that <a href="https://github.com/Jerome-github">Jerome Lafréchoux</a>&nbsp;has been doing on developing a gateway that is intended to go beyond the current RFM2Pi interface towards something that can be used on any linux system whether a pi or any computer to take say input from a serial RFM12Pi and forward it either to local instances of emoncms or remote instances of any service (without necessarily needing a local install of emoncms).<br /><br />Here's an exerpt from Jerome's last post on the<a href="https://github.com/emoncms/raspberrypi/issues/30">&nbsp;github topic on gateway development</a>:<br /><div style="background-color: #fbfbfb; color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 13px; line-height: 22px; margin-bottom: 15px; margin-top: 15px;">"The standalone gateway seems complete enough for me to be published, although I'd rather have a little feedback before recommending it.</div><div style="background-color: #fbfbfb; color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 13px; line-height: 22px; margin-bottom: 15px; margin-top: 15px;"><a href="https://github.com/Jerome-github/oem_gateway" style="color: #4183c4; text-decoration: initial;">https://github.com/Jerome-github/oem_gateway</a></div><div style="background-color: #fbfbfb; color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 13px; line-height: 22px; margin-bottom: 15px; margin-top: 15px;">It works basically the same way. Here are the main features:</div><ul style="background-color: #fbfbfb; color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 13px; line-height: 22px; margin: 15px 0px; padding: 0px 0px 0px 30px;"><li><div style="margin-bottom: 15px; margin-top: 15px;">Can be parameterized either via emoncms GUI (with current limitations of the interface) or through a configuration file. Useful for those who don't want to install a local emoncms just for the configuration of their gateway. This also allows to add features without the need for complex GUI edition.</div></li><li><div style="margin-bottom: 15px; margin-top: 15px;">Can read inputs from the RFM2Pi, but also inputs from the serial port of the form "NodeID val1 val2 ...", or even from a socket. This socket possibility means any application on the same machine or on the network can send data to the gateway. This even solves the inter-applications issue. It is better than writing to a file, in my opinion.</div></li><li><div style="margin-bottom: 15px; margin-top: 15px;">Extensibility. By design, it should be easy to create new inputs (data sources) or outputs (another server's API). It uses classes, so a new input (listener) or output (buffer) can be created through inheritance/overriding.</div></li></ul><div style="background-color: #fbfbfb; color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 13px; line-height: 22px; margin-bottom: 15px; margin-top: 15px;">See readme file for more explanations.</div><div style="background-color: #fbfbfb; color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 13px; line-height: 22px; margin-bottom: 15px; margin-top: 15px;">I should add a socket use sample, but it's pretty basic and require very few code. Here's a python example:</div><pre style="background-color: #f8f8f8; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(221, 221, 221); color: #333333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 13px; line-height: 19px; margin-bottom: 15px; margin-top: 15px; overflow: auto; padding: 6px 10px;"><code style="background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: none; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; margin: 0px; padding: 0px;">import socket<br />HOST = 'raspberrypi'    # The remote host, can be 'localhost' just the same<br />PORT = 50011            # The port chosen in the gateway config<br />s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)<br />s.connect((HOST, PORT))<br />s.send('14 15 26\r\n')<br />s.close()&nbsp;</code></pre><span style="background-color: #fbfbfb; color: #333333; font-family: Helvetica, arial, freesans, clean, sans-serif; font-size: 13px; line-height: 22px;">Currently, each buffer instantiated in the gateway buffers a given amount of data when network is down. This is limited (we don't want to eat up all memory). Next step could be to add the possibility to buffer samples in a file (with care for SD card wearout)."</span><br /><br />To try it out see the github repository here: <a href="https://github.com/Jerome-github/oem_gateway">https://github.com/Jerome-github/oem_gateway</a>. Jerome is looking for testers and would appreciate feedback on it.
    
  </div>
  </article>
  <hr>
  
 
  <div class="pagination">
    
      <a class="btn pull-left" href="/posts/13">&larr; Older</a>
    

    
    <a class="btn pull-right" href="/posts/11">Newer &rarr;</a>
    
  </div>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">

  
  
  
     <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Categories</h1>
  <ul class="divided">
    
    
      <li><a href="/categories/3phases/">3phases</a></li>
    
      <li><a href="/categories/air quality egg/">Air Quality Egg</a></li>
    
      <li><a href="/categories/android/">Android</a></li>
    
      <li><a href="/categories/antenna/">Antenna</a></li>
    
      <li><a href="/categories/building energy modelling/">Building Energy Modelling</a></li>
    
      <li><a href="/categories/china/">China</a></li>
    
      <li><a href="/categories/christmas/">Christmas</a></li>
    
      <li><a href="/categories/course/workshop/">Course/Workshop</a></li>
    
      <li><a href="/categories/dc/">DC</a></li>
    
      <li><a href="/categories/dc current sensing/">DC current sensing</a></li>
    
      <li><a href="/categories/esp8266/">ESP8266</a></li>
    
      <li><a href="/categories/heat pump/">Heat Pump</a></li>
    
      <li><a href="/categories/kaizen/">Kaizen</a></li>
    
      <li><a href="/categories/kicad/">KiCad</a></li>
    
      <li><a href="/categories/mqtt/">MQTT</a></li>
    
      <li><a href="/categories/nanoderf/">NanodeRF</a></li>
    
      <li><a href="/categories/nodered/">NodeRed</a></li>
    
      <li><a href="/categories/oem labs/">OEM Labs</a></li>
    
      <li><a href="/categories/okg/">OKG</a></li>
    
      <li><a href="/categories/oscilloscope/">Oscilloscope</a></li>
    
      <li><a href="/categories/rfm12/">RFM12</a></li>
    
      <li><a href="/categories/rfm69/">RFM69</a></li>
    
      <li><a href="/categories/rs485/">RS485</a></li>
    
      <li><a href="/categories/sap 2012/">SAP 2012</a></li>
    
      <li><a href="/categories/shw/">SHW</a></li>
    
      <li><a href="/categories/srf/">SRF</a></li>
    
      <li><a href="/categories/tasker/">Tasker</a></li>
    
      <li><a href="/categories/test/">Test</a></li>
    
      <li><a href="/categories/ad/">ad</a></li>
    
      <li><a href="/categories/app/">app</a></li>
    
      <li><a href="/categories/arduino/">arduino</a></li>
    
      <li><a href="/categories/award/">award</a></li>
    
      <li><a href="/categories/backup/">backup</a></li>
    
      <li><a href="/categories/batteries/">batteries</a></li>
    
      <li><a href="/categories/benchmarking/">benchmarking</a></li>
    
      <li><a href="/categories/build sesh/">build sesh</a></li>
    
      <li><a href="/categories/business/">business</a></li>
    
      <li><a href="/categories/ciseco/">ciseco</a></li>
    
      <li><a href="/categories/community energy/">community energy</a></li>
    
      <li><a href="/categories/control/">control</a></li>
    
      <li><a href="/categories/current sensor/">current sensor</a></li>
    
      <li><a href="/categories/current transformer/">current transformer</a></li>
    
      <li><a href="/categories/dashboard/">dashboard</a></li>
    
      <li><a href="/categories/display/">display</a></li>
    
      <li><a href="/categories/diy drones/">diy drones</a></li>
    
      <li><a href="/categories/documentation/">documentation</a></li>
    
      <li><a href="/categories/efergy/">efergy</a></li>
    
      <li><a href="/categories/electronics/">electronics</a></li>
    
      <li><a href="/categories/elektrocamp/">elektrocamp</a></li>
    
      <li><a href="/categories/email notifications/">email notifications</a></li>
    
      <li><a href="/categories/embodied energy/">embodied energy</a></li>
    
      <li><a href="/categories/emocms/">emocms</a></li>
    
      <li><a href="/categories/emonbase/">emonBase</a></li>
    
      <li><a href="/categories/emonctrl/">emonCtrl</a></li>
    
      <li><a href="/categories/emonglcd/">emonGLCD</a></li>
    
      <li><a href="/categories/emonpi/">emonPi</a></li>
    
      <li><a href="/categories/emonth/">emonTH</a></li>
    
      <li><a href="/categories/emontx/">emonTx</a></li>
    
      <li><a href="/categories/emontx v2/">emonTx V2</a></li>
    
      <li><a href="/categories/emontxsmt/">emonTxSMT</a></li>
    
      <li><a href="/categories/emontxshield/">emonTxShield</a></li>
    
      <li><a href="/categories/emoncms/">emoncms</a></li>
    
      <li><a href="/categories/end-to-end/">end to end</a></li>
    
      <li><a href="/categories/energy monitor/">energy monitor</a></li>
    
      <li><a href="/categories/energy monitoring/">energy monitoring</a></li>
    
      <li><a href="/categories/feed storage/">feed storage</a></li>
    
      <li><a href="/categories/film/">film</a></li>
    
      <li><a href="/categories/graphing/">graphing</a></li>
    
      <li><a href="/categories/hackathon/">hackathon</a></li>
    
      <li><a href="/categories/hall effect/">hall effect</a></li>
    
      <li><a href="/categories/hardware/">hardware</a></li>
    
      <li><a href="/categories/heating/">heating</a></li>
    
      <li><a href="/categories/home camp/">home camp</a></li>
    
      <li><a href="/categories/humidity/">humidity</a></li>
    
      <li><a href="/categories/interface/">interface</a></li>
    
      <li><a href="/categories/interview/">interview</a></li>
    
      <li><a href="/categories/java/">java</a></li>
    
      <li><a href="/categories/job/">job</a></li>
    
      <li><a href="/categories/kickstarter/">kickstarter</a></li>
    
      <li><a href="/categories/linux/">linux</a></li>
    
      <li><a href="/categories/logo/">logo</a></li>
    
      <li><a href="/categories/manufacturing/">manufacturing</a></li>
    
      <li><a href="/categories/measurement/">measurement</a></li>
    
      <li><a href="/categories/media/">media</a></li>
    
      <li><a href="/categories/mobile/">mobile</a></li>
    
      <li><a href="/categories/modbus/">modbus</a></li>
    
      <li><a href="/categories/n/">n</a></li>
    
      <li><a href="/categories/nanode/">nanode</a></li>
    
      <li><a href="/categories/open source/">open source</a></li>
    
      <li><a href="/categories/openhab/">openHAB</a></li>
    
      <li><a href="/categories/openenergymonitor/">openenergymonitor</a></li>
    
      <li><a href="/categories/optical pulse/">optical pulse</a></li>
    
      <li><a href="/categories/pcb/">pcb</a></li>
    
      <li><a href="/categories/pebble/">pebble</a></li>
    
      <li><a href="/categories/pluse/">pluse</a></li>
    
      <li><a href="/categories/presentation/">presentation</a></li>
    
      <li><a href="/categories/raspberry pi/">raspberry pi</a></li>
    
      <li><a href="/categories/renewable/">renewable</a></li>
    
      <li><a href="/categories/serial/">serial</a></li>
    
      <li><a href="/categories/shop/">shop</a></li>
    
      <li><a href="/categories/showcase/">showcase</a></li>
    
      <li><a href="/categories/smartwatch/">smartwatch</a></li>
    
      <li><a href="/categories/social energy monitoring/">social energy monitoring</a></li>
    
      <li><a href="/categories/solarpv/">solarPV</a></li>
    
      <li><a href="/categories/sparkfun/">sparkfun</a></li>
    
      <li><a href="/categories/sustainability/">sustainability</a></li>
    
      <li><a href="/categories/temperature/">temperature</a></li>
    
      <li><a href="/categories/three phase/">three phase</a></li>
    
      <li><a href="/categories/tutorials/">tutorials</a></li>
    
      <li><a href="/categories/upgrade/">upgrade</a></li>
    
      <li><a href="/categories/utility meters/">utility meters</a></li>
    
      <li><a href="/categories/voltage sensing/">voltage sensing</a></li>
    
      <li><a href="/categories/wind/">wind</a></li>
    
      <li><a href="/categories/wind turbine/">wind turbine</a></li>
    
      <li><a href="/categories/wireless/">wireless</a></li>
    
      <li><a href="/categories/workshop/">workshop</a></li>
    
  </ul>
</section>
  
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright">
  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor'><i class="icon-github"></i></a>

  <div class="credit">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and the <a href='https://github.com/coogie/oscailte'>Oscalite theme</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>
</div>
    </div>
  </div>
</div>
    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script>
  var _gaq=[['_setAccount','UA-10321170-4'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
<script>
  var disqus_shortname = 'openenergymonitor';
  
    
    var disqus_script = 'count.js';
  
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>


<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

  </body>
</html>