<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Blog | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="OpenEnergyMonitor Blog">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="http://blog.openenergymonitor.org/posts/12/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Blog | OpenEnergyMonitor">
    <meta property="og:site_name" content="Blog | OpenEnergyMonitor">
    <meta property="og:url" content="http://blog.openenergymonitor.org/posts/12/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Blog | OpenEnergyMonitor">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Blog | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
    
    
    
    <link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
	<link rel="apple-touch-icon" href="/images/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/images/favicon-144.png">
	<meta name="msapplication-config" content="/images/browserconfig.xml">
	
  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <!--<img width='40' src='/images/favicon-192x192.png'> -->
    
    <span style="color:#555;font-weight:bold;font-family:Arial;font-size:20"'>
Open</span><span style="color:#0699fa;font-weight:bold;font-family:Arial;font-size:20"'>EnergyMonitor</span>

  </a>
</div>

<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a href="http://openenergymonitor.org">Home</a></li>
  <li><a href="http://shop.openenergymonitor.com">Online-Store</a></li>
  <li><a href="http://guide.openenergymonitor.org">User Guide</a></li>
  <li><a href="http://emoncms.org">Emoncms</a></li>
  <li><a href="http://community.openenergymonitor.org">Forum</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

            
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/10/website-backup/">Website Backup</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-10-01T10:47:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-10-01 10:47:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> three minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/backup/'>backup</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/10/website-backup/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    In the interest of open-source I thought I would share the backup setup we have running for the OpenEnergyMonitor website. I'm relatively new to sys-admin tasks and writing bash scripts so please suggest if you think if something could be implemented better.<br /><br />Backing up our Drupal SQL databases which contain the user credentials and all the forum and text content of the website was relatively easy since the disk space they take up is relatively small. A nightly SQL dump then a scheduled secure FTP bash script running as a nightly cronjob on a Raspberry Pi with external hard drive to download the zipped SQL database does the trick. The FTP login credentials are stored away from prying eyes in .netrc file (with chmod 600), two sets of credentials are required and the relevant .netrc file is copied to the home folder when needed.<br /> <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=css&amp;skin=sunburst"></script> <br /><pre class="prettyprint">cp netrc/.netrc1 .netrc<br />today=$(date +"%d-%b-%Y")<br />ftp -vp -z secure $HOST &lt;&lt; EOT<br />ascii<br />cd /LOCATION OF SQL DUMP ON SERVER<br />get $db_name-$today_backup.gz $LOCAL_BACKUP/$db_name-$today_backup.gz<br />bye<br />EOT<br />rm .netrc<br /><br /></pre><br />&nbsp;Backing up the files (images, documents etc) is a bit more of an issue since the ever increasing size of the content mean it's impractical and would unnecessary load the server and bandwidth to download a full snapshot every night.<br /><br />I found wget has many customisable options. A nightly scheduled bash script running on a Raspberry Pi with an external hard drive with the following wget options looks at files have been created or modified since the last time the command was run and only downloads the changes. Once the initial download is done the command only takes less then a minute to execute and often only downloads a few Mb of data. The option '-N' tells wget only to download new or modified files<br /><br /><pre class="prettyprint">cp netrc/.netrc2 .netrc<br />wget -m -nv -N -l 0 -P $LOCAL_BACKUP ftp://$HOST/public_html/FILES_LOCATION -o $LOCAL_BACKUP/filelog=$today.txt<br />rm .netrc<br /># This is what the other options do:<br /># -l 0 infinite level of recursive (folder depth)<br /># -m mirror<br /># -N only download new files<br /># -o logfile<br /># -b run in the background<br /># -q turn off logs<br /># -nv non-verbose logs<br /></pre>This setup seems to be working well. It has a few weak points and limitations that I can think of:<br /><ul><li>The wget files backup script only downloads new and modified files, it does not mirror the fact that a file could have been deleted on the server, the file would remain in the backup.&nbsp;</li></ul><ul><li>The wget script does not keep historical snapshots meaning that if something bad was to happen it would not be possible to rollback to a certain date in history. <i>Update: I have since had recommend to me Rsnapshot which is a backup utility based on Rsync. Rsnapshot looks great and can work over FTPS. My friend <a href="https://twitter.com/spikeheap">Ryan Brooks</a> wrote a good blog post on how to <a href="http://www.ryanbrooks.co.uk//blog/2013/08/22/simple-rsnapshot-backup-over-ftps/">set up Rsnapshot over FTPS</a>.&nbsp;</i></li></ul><ul><li>Currently the Raspberry Pi only has the one external 1TB hard drive used for backup, ideally this would be two hard drives in a raid array for double safety Backups are only done nightly, this is plenty good enough for us at the moment but might need to be improved in the future.&nbsp;</li></ul><br />I think it's amazing that a little Â£25 Raspberry Pi is powerful enough to handle backup for several websites. the Pi with an external 1TB hard drive connected through a USB hub consumes only 5.7W making it not too bad to leave on 24/7.<br /><br />&nbsp;One issue that I had initially with the Pi is that the external hard driver would move from /dev/sdb to /dev/sdc therefore loosing it's mount point. I think this was caused by the HDD momentarily losing power. Switching to using a<a href="http://shop.pimoroni.com/products/pihub"> Pimoroni PiHub</a> to power the setup and mounting the drive by it's UUID instead of /dev/xxx reference in fstab fixed the problem:&nbsp; <br /><br /><pre class="prettyprint">UUID=2921-FCE8 /home/pi/1TB vfat  user,umask=0000   0   0</pre><br />I would be interested to hear if you think how the backup could be implemented more efficiently or more securely.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/09/backing-up-your-raspberrypi-emoncms-or/">Backing up your raspberrypi emoncms or emoncms.org account</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-09-30T20:00:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-09-30 20:00:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/backup/'>backup</a></li>
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/09/backing-up-your-raspberrypi-emoncms-or/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div class="separator" style="clear: both; text-align: left;">I've added a couple of scripts to the emoncms usefulscripts directory that makes backing up an emoncms account whether on a local raspberrypi or emoncms.org much easier than the sync module solution, although still not as easy as I would like it to be, I would like setting up a backup to be as easy as installing a dropbox client.&nbsp;</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">The scripts work with Linux at the moment, hopefully soon I'l get a solution running on Windows. I would highly recommend keeping your own backup of your data, a backup of your emoncms data on your main computer can also be useful for both quicker access to the data and doing additional analysis of the data.</div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-MIl8j4hmkjA/UknQBGmTKMI/AAAAAAAACxE/QOk0JRh5EKQ/s1600/backup.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="238" src="http://3.bp.blogspot.com/-MIl8j4hmkjA/UknQBGmTKMI/AAAAAAAACxE/QOk0JRh5EKQ/s640/backup.png" width="640" /></a></div><b>1) Install emoncms</b> <b>on your backup machine</b> following the guide here:&nbsp;<a href="http://emoncms.org/site/docs/installlinux">http://emoncms.org/site/docs/installlinux</a><br />Create an account and note down your mysql credentials.<br /><br /><b>2) Download the usefulscripts repository</b><br /><a href="https://github.com/emoncms/usefulscripts">https://github.com/emoncms/usefulscripts</a><br /><br />There are two scripts available under usefulscripts/replication<br /><br /><ul><li>import_full.php</li><li>import_inputs.php</li></ul><br />3) Try<b> importing your inputs</b> first to test that it works: Open to edit <i>import_inputs.php</i>.<br />Set your mysql database name, username and password, the same credentials as for the settings.php step of the emoncms installation. Set the $server variable to the location of the raspberrypi or emoncms.org account you want to backup and set the $apikey to the write apikey of that account.<br /><br />In terminal, goto the usefulscripts/replication directory. Run import_inputs.php:<br /><br />&nbsp; &nbsp; php import_inputs.php<br /><br />If successful you should now see your input list and all input processing information backed up in your local emoncms account.<br /><br /><b>4) Backup all your feed data:</b><br /><br />As for importing inputs open import_full.php and set the database credentials and remote emoncms account details.<br /><br />Run the backup script with <b>sudo</b><br /><b><br /></b>&nbsp; &nbsp; sudo php import_full.php<br /><br />That's it, it should now work through all your feeds whether mysql or timestore (no phptimeseries support yet) making a local backup. When you first run this script it can take a long time. When you run this script again it will only download the most recent data and so will complete much faster. I run this script once every few days to keep an up-to-date backup.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/09/raspberrypi-sd-cards-hdd-gateway/">RaspberryPI: SD Cards, HDD, Gateway Forwarder</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-09-25T16:44:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-09-25 16:44:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> four minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emonbase/'>emonBase</a></li>
      
        <li><a class='category' href='/categories/raspberry-pi/'>raspberry pi</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/09/raspberrypi-sd-cards-hdd-gateway/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div class="separator" style="clear: both; text-align: left;">After several&nbsp;<a href="http://openenergymonitor.blogspot.co.uk/2013/04/introducing-rfm12pi-v2-raspberry-pi.html?q=raspberry+pi">Raspberry Pi emonBase</a>&nbsp;SD card failures between myself and Glyn in the last two weeks and the general experience of short SD card lifespan&nbsp;<a href="http://openenergymonitor.org/emon/node/2292">on the forums</a>&nbsp;(SD cards have a limited number of writes), we thought we'd make a concerted effort this week to move the openenergymonitor Raspberry Pi documentation, pi images and pre-installed SD cards over to the more stable solutions:</div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-0z_9GxPBEr0/UkKqHnyLZRI/AAAAAAAAkmA/5m3pIXesesA/s1600/20130820_191803.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="240" src="http://3.bp.blogspot.com/-0z_9GxPBEr0/UkKqHnyLZRI/AAAAAAAAkmA/5m3pIXesesA/s320/20130820_191803.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Raspberry Pi emonBase with <a href="http://shop.openenergymonitor.com/raspberry-pi/">RFM12Pi</a> in Pibow Timber Case</td></tr></tbody></table><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">1. We read <a href="http://harizanov.com/2013/08/rock-solid-rfm2pi-gateway-solution/">Martin Harizanov's blog post</a> on creating a rock-solid gateway using a read-only filesystem with&nbsp;<a href="http://openenergymonitor.org/emon/user/1531">Jerome&nbsp;LafrÃ©choux's</a> excellent python <a href="https://github.com/Jerome-github/oem_gateway">oem_gateway</a> to forward data to <a href="http://emoncms.org/">emoncms.org</a></div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">This is a reliable solution which is simple to setup and works well if you just want to forward data to a remote emoncms server like emoncms.org. We have created a Raspberry Pi SD card image for this read-only filesystem oem_gateway setup, see documentation page for full details, there's a link to download it there too:</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;"><a href="http://emoncms.org/site/docs/raspberrypigateway">http://emoncms.org/site/docs/raspberrypigateway</a></div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">The ready-to-go pre-loaded SD card available in the shop will be pre-loaded with this image from now on.&nbsp;</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">2. We also heard from <a href="http://openenergymonitor.org/emon/node/2292">Paul Reed about his setup</a> where the SD card is just used to boot an external hard drive (powered by a USB hub) with the Pi's root partition running a web server and the full version of emoncms on the external hard drive. This solution is great if you want to keep your data locally or have an additional backup. This could also double up as a 24/7 file server running in your home for music streaming, document backup etc.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">Glyn's using the read-only gateway for his setup and I'm going to setup the hard drive local backup in addition to forwarding to emoncms.org for mine.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">Here's a diagram that illustrates these different options, including the NanodeRF, local and remote storage, backup options and emoncms data storage options (mysql, timestore etc):</div><div class="separator" style="clear: both; text-align: left;"><a href="http://3.bp.blogspot.com/-1yBlyXKWE8k/UkBuY7OxrbI/AAAAAAAACww/Hbm3i0PkobM/s1600/overview.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="452" src="http://3.bp.blogspot.com/-1yBlyXKWE8k/UkBuY7OxrbI/AAAAAAAACww/Hbm3i0PkobM/s640/overview.png" width="640" /></a></div>If your not sure which way to go, its probably easiest to start with the Raspberry Pi oem_gateway forwarder to emoncms.org, you can re-configure it for local storage and backup via an external harddrive if you want later. If your more comfortable with Arduino code than the Raspberry Pi and linux then the <a href="http://shop.openenergymonitor.com/nanoderf/">NanodeRF (pre-assembled SMT)</a> may be best for you.<br /><div><br /></div><div>To summarise the above with pros and cons, here are the two main emonBase Raspberry Pi options:<br /><div><br /><b>1. Run a read only filesystem on the Pi and forward data straight to a remote emoncms server.</b><br /><b>Developed by Jerome&nbsp;LafrÃ©choux and&nbsp;Martin Harizanov's</b><br /><a href="http://harizanov.com/2013/08/rock-solid-rfm2pi-gateway-solution/">http://harizanov.com/2013/08/rock-solid-rfm2pi-gateway-solution/</a><br /><ul><li>+ More robust and easier to setup</li><li>+&nbsp;Cheaper and lower power than using an external HDD</li><li>- Does not utilise the full potential of the Pi</li></ul><ul><li>Run IPE â Industrial Perennial Environment a special blackout-proof flavour of Raspbian which can be locked down after setup to work in read only mode</li><li>The <a href="https://github.com/Jerome-github/oem_gateway">Oem Gateway Python scrip</a>t by&nbsp;JÃ©rÃ´me LafrÃ©choux to forward the data received by the RFM12Pi straight to emoncms.org</li></ul><div><b>2. Move the Pi's file system to an external HDD using the SD card only to boot&nbsp;</b><br />This option requires an external hard drive connected to the Pi through a powered USB hub. This does require extra expense and an increase in power consumption, the hard drive we tested here a 1TB USB hard drive adds 1.8W to the power consumption of the Pi (3.9W). However this option does have several advantages:<br /><ul><li>+&nbsp;Ability to run emoncms on the Pi to log data locally and have full control over your setup as well as forwarding data to a remote emoncms server.</li><li>+&nbsp;You now have the potential to have 24/7 file server running in your house for music streaming document backup etc.</li><li>- More complicated to setup</li><li>- Higher cost and power consumption</li></ul></div></div></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/09/measuring-building-thermal-performance/">Measuring building thermal performance - coheating tests</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-09-20T13:58:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-09-20 13:58:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> three minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/building-energy-modelling/'>Building Energy Modelling</a></li>
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/09/measuring-building-thermal-performance/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Improving the thermal performance of buildings is an area where some of the largest energy and carbon savings can be made. Building energy use and carbon emissions can be reduced by as much as 60-80% through better insulation, draught proofing (improved thermal performance) and heating efficiency and controls. But how do you go about working out the performance of your house and what measures are best to undertake to reach this level of performance improvement? Improving building fabric is expensive, how do you work out which measures will be most cost-effective? and how do you make sure that your house actually achieves the target performance? how do you measure and check it?<br /><br />These are the questions Iâm currently grappling with for my own house and the openenergymonitor lab, these are also the questions weâre trying to develop improved processes for answering with our work with <a href="http://openenergymonitor.blogspot.co.uk/2013/05/carbon-coop.html">Carbon Coop</a>.<br /><br />Hereâs a graphic from the <a href="http://zerocarbonbritain.com/">Centre for Alternative Technologyâs Zero Carbon Report</a>&nbsp;illustrating the kind of performance improvements that are possible:<br /><div><br /></div><div><div style="text-align: center;"><img height="408" src="https://lh4.googleusercontent.com/IawY7i3x1WLGkRDyl0mv-SMap9VzNxzfvjWNw933ikxI0BPythd58a1asyYHwGl6NqBhLhqltkykbtuWJbht2YCIsB3IyF58fQUKW6KL2EgSnHqbAwOjDErMEg" width="640" /></div><br />The most common way to investigate domestic building performance is by using simple building energy models such as SAP:</div><div><a href="http://openenergymonitor.blogspot.co.uk/2013/06/building-energy-modelling-carbon-coop.html">http://openenergymonitor.blogspot.co.uk/2013/06/building-energy-modelling-carbon-coop.html</a><br /><br />The accuracy of a model is always dependent on its input data and assumptions, work that has been done on comparing modelled energy consumption as calculated by SAP vs actual energy consumption show that there is often a discrepancy and in some cases the discrepancy is so large (even a 100% or more) as to undermine decisions made based on model outputs.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><img height="245" src="https://lh4.googleusercontent.com/VlT6g2k6w09l4anb5WRV47GYtIQKvn8FZApwUafwiQzvqzrzLsN3KxL3wY9FcKoF4BvNte15jX2PBRMyY9R-0roymQSh8PH0aju-oL_Xjeu_BLXVtp7PV9SM2A" style="margin-left: auto; margin-right: auto;" width="400" /></td></tr><tr><td class="tr-caption" style="text-align: center;"><a class="src-url" href="https://www.bsria.co.uk/download/asset/agm-2011-co-heating-tests-sarah-birchall.pdf" style="color: #5566dd; display: inline-block; font-family: Ubuntu, Arial, sans-serif; font-size: 12px; max-width: 500px; overflow: hidden; padding-bottom: 1px; padding-top: 4px; text-align: start; text-decoration: none; text-overflow: ellipsis; white-space: nowrap;" target="_blank">https://www.bsria.co.uk/download/asset/agm-2011-co-heating-tests-sarah-birchall.pdf</a></td></tr></tbody></table><div style="text-align: left;">To rely therefore on modelled performance only can be misleading.</div><br />It is possible however to measure the total building thermal performance by measuring how much energy it takes to heat a building up to a given temperature above the outside temperature. This procedure is known as a coheating test and was <a href="http://www.leedsmet.ac.uk/as/cebe/projects/coheating_test_protocol.pdf">pioneered by the Center for the Built Environment at Leeds Met University</a>. (There's also a good info sheet on coheating tests here by Peter Warm&nbsp;<span id="docs-internal-guid-079ade9d-3ba6-00da-229a-975b3d49fdab"><span style="color: #1155cc; font-family: Arial; font-size: 15px; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;"><a href="http://www.peterwarm.co.uk/?dl_id=6" style="text-decoration: none;">www.peterwarm.co.uk/?dl_id=6</a> </span></span>)</div><div><br />The standard co-heating test involves heating building when unoccupied to an elevated internal temperature of 25C over a period of 1-3 weeks with electric heating and monitoring the electrical heat input, internal and external temperatures. Keeping the building unoccupied reduces unknown variables and so increases the accuracy of the measurement but it alongside the elevated temperature makes widespread testing of this kind difficult.<br /><br />The question that several people have been asking and Iâm aware of several groups working on this (<a href="http://www.housahedron.co.uk/">@Housahedron</a> and <a href="http://www.lboro.ac.uk/departments/cv/docs/docSem/121213/Jack.pdf">Richard Jack, lboro</a>)  is; can a method be developed for undertaking an ongoing co-heating equivalent test that can be undertaken while the building is being used, that could even measure thermal performance over time as measures are undertaken. The analogy is a car MPG meter but for your house.<br /><br />Over the last few weeks Iâve been working on an approach that I think is showing promising results, it involves applying a dynamic model to realtime monitored heating input and external temperature data to model indoor temperature. The modelled internal temperature is then compared to the actual indoor temperature.<br /><br /><div style="text-align: center;"><img height="508" src="https://lh6.googleusercontent.com/fZyZiAT9XcS6B6OwzBbWQiR9AKsp7oZXoNCdx-AVNHIlxZeIxLiwofbjGX8wMhfSXKUpq0cEhk6zqW93cp1uo57dkAHJGRr1TZoikCl1No9lQN2R7UBL7T4arA" width="640" /></div><br />The model parameters that give a good match tell you the heat loss factor of your building and also itâs thermal mass. The heat loss factor is your MPG equivalent for household fabric thermal performance.<br /><br />The model type is a multi stage resistor-capacitor model, using the resistor-capacitor analogy for thermal modelling is a standard approach used in many thermal models, there's an interesting page on it here: <a href="http://lpsa.swarthmore.edu/Systems/Thermal/SysThermalModel.html">http://lpsa.swarthmore.edu/Systems/Thermal/SysThermalModel.html</a><br /><br /><div style="text-align: center;"><img height="177" src="https://lh6.googleusercontent.com/nnfKC3yzKI9FTo1b3RfaZAhRDFWqDA8uNJDKnCCbtdjE-wIj5J6fn4-Z69w6ars3BZfFiKOcVXmlvC8qY_67e4Kg_SsshZ-BlYUpWQCoMXpW5fTkJC7err3aZg" width="640" /></div><br />This is all open source and the code so far is up on github here: <a href="https://github.com/emoncms/openbem">https://github.com/emoncms/openbem</a>, <br />There's also a forum thread here with a bit more information on the model and tests&nbsp;<a href="http://openenergymonitor.org/emon/node/2783">http://openenergymonitor.org/emon/node/2783</a></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/09/faire-maus/">Faire Maus! A 'fair' USB optical mouse</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-09-16T15:36:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-09-16 15:36:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/sustainability/'>sustainability</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/09/faire-maus/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    A few weeks ago I wrote a <a href="http://openenergymonitor.blogspot.com/2013/08/ethical-and-sustainable-electronics.html">blog post about ethical and sustainable electronics</a>.<br /><br />In the post I mentioned a German project called <a href="https://www.nager-it.de/en">Nager IT</a> who have designed an optical USB mouse using low carbon materials and have gone to great lengths to source ethically produced components with a transparent supply chain and exploitation free manufacture.<br /><br />We have decided to support the Nager IT project by becoming a UK reseller of their 'Faire Maus' or fair mouse. This mouse is as good as it gets at the moment in terms of ethical and sustainable electronics.<br /><br /><i>The mouse is a well-made three-button USB optical scroll wheel mouse made using low carbon materials, ethically produced components with a transparent supply chain and exploitation free manufacture.</i><br /><br />The mouse is now available for purchase on a non profit basis (for us) in our shop: <a href="http://shop.openenergymonitor.com/fair-usb-optical-mouse/">http://shop.openenergymonitor.com/fair-usb-optical-mouse/</a><br /><br /><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-7sdg6VzJAtE/UjckC6z5G9I/AAAAAAAAkMM/OE4NglI0Nkw/s1600/NagerIT+flyer1.png" imageanchor="1"><img border="0" height="452" src="http://4.bp.blogspot.com/-7sdg6VzJAtE/UjckC6z5G9I/AAAAAAAAkMM/OE4NglI0Nkw/s640/NagerIT+flyer1.png" width="640" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-SGiD5PHvM0E/UjckC3mlDdI/AAAAAAAAkMQ/x2hp4S_ruUQ/s1600/NagerITflyer2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="450" src="http://1.bp.blogspot.com/-SGiD5PHvM0E/UjckC3mlDdI/AAAAAAAAkMQ/x2hp4S_ruUQ/s640/NagerITflyer2.png" width="640" /></a></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><em style="margin: 0px; outline: none; padding: 0px;"><strong style="margin: 0px; outline: none; padding: 0px;"><br /></strong></em></div>The mice are assembled by hand in Germany and feel very well made, the texture of the wood plastic enclosure feels good in the hand and the sleek and rubbery USB cable runs smoothy over the table.<br /><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-wsoOK0yG8U8/UjckqjNUlWI/AAAAAAAAkMc/geznhTZCmQU/s1600/2013_08_29_16.39.32__74936.1379344820.1280.1280.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="240" src="http://2.bp.blogspot.com/-wsoOK0yG8U8/UjckqjNUlWI/AAAAAAAAkMc/geznhTZCmQU/s320/2013_08_29_16.39.32__74936.1379344820.1280.1280.jpg" width="320" /></a></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><br />Every time I use the mouse it it reminds me that ethical and sustainable electronics is a goal which is worth pursuing.<br /><br /><i>Purchasing a fair mouse can be thought of like purchasing fair trade coffee; it might cost a little bit extra but you know that your doing good.</i><br /><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div>Checkout the <a href="https://www.nager-it.de/static/pdf/en_lieferkette.pdf">great graphic</a> Nager IT have produced illustrating their transparent supply chain behind this mouse.<br /><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-PMWAqYm35nk/UjclPvTHpdI/AAAAAAAAkMk/iogDpL-pMA8/s1600/2013-08-29+16.39.51.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="240" src="http://3.bp.blogspot.com/-PMWAqYm35nk/UjclPvTHpdI/AAAAAAAAkMk/iogDpL-pMA8/s320/2013-08-29+16.39.51.jpg" width="320" /></a></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.333333969116211px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/09/posting-data-from-adafruit-tweet-watt/">Posting data from Adafruit Tweet-A-Watt to emoncms</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-09-13T14:10:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-09-13 14:10:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/09/posting-data-from-adafruit-tweet-watt/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <a href="http://www.ladyada.net/make/tweetawatt/">Tweet-a-watt</a> is a project from Ladyada / <a href="http://www.adafruit.com/blog/category/tweetawatt/">Adafruit</a> to modify a Kill-A-Watt appliance power monitor to transmit the power data via Xbee to a computer (could be a Raspberry Pi) and post the value to twitter. Chris Whiting has modified the python code to post the data to <a href="http://emoncms.org/">emoncms</a><br /><br /><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://www.adafruit.com/adablog/wp-content/uploads/2013/04/TweetAWattDiagram.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="476" src="http://www.adafruit.com/adablog/wp-content/uploads/2013/04/TweetAWattDiagram.png" width="640" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-CTH2OP7oMss/UjMcGDlyF8I/AAAAAAAAkEI/hLZ0oAdKLpQ/s1600/Selection_007.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="313" src="http://2.bp.blogspot.com/-CTH2OP7oMss/UjMcGDlyF8I/AAAAAAAAkEI/hLZ0oAdKLpQ/s640/Selection_007.png" width="640" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><br /><a href="http://twitter.com/civicsarecool">Chris Whiting</a>&nbsp;writes:&nbsp;<br /><i><br /></i><i>A Tweet-A-Watt is plugged into an outlet with a device plugged into it. A xbee is wired to the Kill-A-Watt electronics, which reads an analog voltage representing the power and current being used by the device plugged into the Kill-A-Watt. The xbee sends the data to a receiving xbee which is plugged into a computer using an USB FTDI TTL-232 cable.</i><br /><i><br /></i><i>I have a script called "wattcher.py" running on a Raspberry Pi which was originally developed by the folks at Adafruit. This script reads the data sent to the receiving xbee through the serial port. The script takes the raw data and processes the data to calculate the power being used. I modified the script to send the collected data to a web socket. The receiving web socket is the oem_gateway.py script that's running on my web server where Emoncms is currently installed.</i><br /><i><br /></i>Chris has kindly put his cod on GitHub for everyone to try:&nbsp;<a href="https://github.com/casestudies/tweetawatt">https://github.com/casestudies/tweetawatt</a><br /><div><br /></div><div><br /></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/emontx-v3-progress-update/">emonTx V3 Progress Update</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-31T10:50:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-08-31 10:50:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emontx/'>emonTx</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/08/emontx-v3-progress-update/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Since my last post<a href="http://openenergymonitor.blogspot.com/2013/02/emontx-smt-update-introducing-emontx-v3.html"> introducing the emonTx V3&nbsp;</a>&nbsp;prototype design progress has been steady. The design has undergone several iterations and has now reached a stage of maturity.<br /><br />The main features of the emonTx V3 have stayed the same:<br /><ul><li>ATmega328 Arduino IDE compatible microcontroller</li><li>RFM12B or Ciseco SRF 433/868/915Mhz RF wireless compatiable with <a href="http://openenergymonitor.org/emon/emonbase/raspberrypi">RFM12Pi </a>Raspberry Pi emoncms basestation</li><li>3 x Standard (23kW max) CT channels</li><li>1 x High sensitivity (4.5kW max) CT channel&nbsp;</li><li>Integrated <a href="http://openenergymonitor.blogspot.co.uk/2012/05/emontx-single-ac-power-supply.html">AC-DC power supply</a> to enable powering the unit from a single 9V AC adapter while also sampling the AC voltage to calculate Real Power and AC Vrms readings&nbsp;</li><li>Low power design with option to power from 3 x AA batteries for Apparent Power (current ony) measurement</li><li>Enclosed in wall mountable extruded aluminium enclosure</li><li>Terminal block connection for optical pulse sensor and DS18B20 temperature sensors</li><li>Pre-assembled SMT electronics</li></ul><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-rELQvkIfVK4/Uh5qYxm6q_I/AAAAAAAAj0k/Ol6i00TKDRo/s1600/emonTxV3.0.1+prototype.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="300" src="http://4.bp.blogspot.com/-rELQvkIfVK4/Uh5qYxm6q_I/AAAAAAAAj0k/Ol6i00TKDRo/s400/emonTxV3.0.1+prototype.jpg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx V3 with 3 x AA battery's and 1 x CT (Apparent Power setup)</td></tr></tbody></table><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-6xcrqx5UmJA/Ul-kNEaYNPI/AAAAAAAAmMo/q9Itg5zfVvc/s1600/PhotoGrid_1380621877488.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="400" src="http://4.bp.blogspot.com/-6xcrqx5UmJA/Ul-kNEaYNPI/AAAAAAAAmMo/q9Itg5zfVvc/s400/PhotoGrid_1380621877488.jpg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Fully assembled with antenna in wall-mount enclosure</td></tr></tbody></table><br />I am currently in the process of obtaining assembly quotes from manufactures as well as performing lots of testing. <br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-r1ge_LRe9Y8/UiHIW6texlI/AAAAAAAAj3U/ScYsMV3DyG0/s1600/emonTxV3.1_brd.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="585" src="http://2.bp.blogspot.com/-r1ge_LRe9Y8/UiHIW6texlI/AAAAAAAAj3U/ScYsMV3DyG0/s640/emonTxV3.1_brd.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx V3.1 PCB Design&nbsp;</td></tr></tbody></table><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-xYTpFrE1Uaw/UiHIWr_7mNI/AAAAAAAAj3Q/nbUg2CzpA4E/s1600/emonTxV3.1_sch_BW.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="473" src="http://4.bp.blogspot.com/-xYTpFrE1Uaw/UiHIWr_7mNI/AAAAAAAAj3Q/nbUg2CzpA4E/s640/emonTxV3.1_sch_BW.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx V3.1 Schematic</td></tr></tbody></table><br />The AC-DC circuit that was initially <a href="http://openenergymonitor.blogspot.com/2012/05/emontx-single-ac-power-supply.html">designed with the aid of simulation</a> then<a href="http://openenergymonitor.blogspot.com/2013/01/power-emontx-from-single-ac-power.html"> </a><a href="http://openenergymonitor.blogspot.co.uk/2013/01/power-emontx-from-single-ac-power.html">bench tested</a>&nbsp;is performing as expected.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-zv0FHUj1QWo/Uh5pwJk6RGI/AAAAAAAAj0c/TZX51OKfjpQ/s1600/DS2_QuickPrint7.bmp" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="384" src="http://1.bp.blogspot.com/-zv0FHUj1QWo/Uh5pwJk6RGI/AAAAAAAAj0c/TZX51OKfjpQ/s640/DS2_QuickPrint7.bmp" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Blue = output from 9V AC adapter Yellow = input to voltage regulator when unit is drawing 7.7mA &nbsp;@ 3.3V, sudden dip is caused by RFM12B firing up to transmit four integer data packets <a href="http://openenergymonitor.blogspot.co.uk/2013/07/ciseco-srf-vs-rfm12b-power-consumption.html">(approx 24mA for 2.7ms)</a></td></tr></tbody></table>If all goes well we're expecting to get the emonTx V3 into production in the next few of months.<br /><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/emonglcd-433-868-mhz-rf-scanner-signal/">emonGLCD 433 / 868 Mhz RF Scanner & Signal Strength Meter </a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-26T14:27:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-08-26 14:27:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/rfm12/'>RFM12</a></li>
      
        <li><a class='category' href='/categories/emonglcd/'>emonGLCD</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/08/emonglcd-433-868-mhz-rf-scanner-signal/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <a href="http://openenergymonitor.org/emon/user/1824">Martin Roberts</a> has developed a fantastic bit of firmware for the emonGLCD to enable it to be used as an RF scanner and signal strength meter on the 433 / 868 Mhz RF band.<br /><br />&nbsp;This makes the emonGLCD running this firmware a useful tool for debugging RF transmission and checking out signal strength.  To run the firmware a small hardware modification is required to the emonGLCD to access the analogue signal strength output signal from the RFM12B.<br /><br />Martin's sketch has been added to the <a href="https://github.com/openenergymonitor/EmonGLCD/tree/master/GLCD_SSM">emonGLCD github repo</a>.<br /><br />Full details including build-guide and discussion can be found on the original&nbsp;<a href="http://openenergymonitor.org/emon/node/2395">forum thread</a>.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-S0m9P9FKx18/UhtmSquXvUI/AAAAAAAAjn8/d7rcJjPtYM0/s1600/glcdssm_intf.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="300" src="http://3.bp.blogspot.com/-S0m9P9FKx18/UhtmSquXvUI/AAAAAAAAjn8/d7rcJjPtYM0/s400/glcdssm_intf.jpg" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://openenergymonitor.org/emon/sites/default/files/GLCD_SSM_interface.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="579" src="http://openenergymonitor.org/emon/sites/default/files/GLCD_SSM_interface.jpg" width="640" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://openenergymonitor.org/emon/sites/default/files/GLCD_SSM_inside.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="302" src="http://openenergymonitor.org/emon/sites/default/files/GLCD_SSM_inside.jpg" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/notify-on-inactive-feeds/">Notify on inactive feeds</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-20T13:18:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-08-20 13:18:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/08/notify-on-inactive-feeds/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div class="separator" style="clear: both; text-align: left;">Here's a simple feature that sends an email whenever emoncms feeds become inactive for more than two hours, designed to stop those instances where you login to emoncms after a month and realise that something went wrong and it hasn't been updating for a while.</div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-SDlvNa2ke2Y/UhNjgMlbYrI/AAAAAAAACwI/4wTYyUem-R4/s1600/notify.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="182" src="http://2.bp.blogspot.com/-SDlvNa2ke2Y/UhNjgMlbYrI/AAAAAAAACwI/4wTYyUem-R4/s640/notify.png" width="640" /></a></div><div class="separator" style="clear: both; text-align: left;">The notify control page can be accessed via the Extras menu. It can be disabled or enabled and an email address that is different from you main account email can be used if needed.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">A cron job runs every 2 hours on the server to check if any feeds have become inactive for more than 2 hours but less than 4 hours. This ensures only one email is sent and historical inactivity is ignored.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">Notify is now running on emoncms.org, you may want to check that your email address is correct before turning it on.</div><div class="separator" style="clear: both; text-align: left;"><br /></div>To install notify on your raspberrypi or own server see installation details here:<br /><a href="http://github.com/emoncms/notify">http://github.com/emoncms/notify</a><br /><br /><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/08/pcb-manufacturer-meeting/">PCB Manufacturer Meeting</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-08-06T20:35:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-08-06 20:35:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> three minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/pcb/'>pcb</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/08/pcb-manufacturer-meeting/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div>A couple of months ago I met up with Stacey Driver who is the&nbsp;Business Development Manager of PCB manufacturer&nbsp;<a href="http://www.sticklebackuk.co.uk/">Stickleback Manufacturing Ltd</a>. We have been working with Stickleback for several years now, over that time they have grown in size and moved to a new factory. It's great to support (in the small way we can) a UK based manufacturer.<br /><br />Here's a copy of Stickleback's recent newsletter where our meeting is mentioned alongside details of their new water treatment plant they have recently installed. It's great to hear that they are continuing to invest in their manufacturing processes and reducing their environmental impact. This links in well with my previous blog post on&nbsp;<a href="http://openenergymonitor.blogspot.com/2013/08/ethical-and-sustainable-electronics.html">Ethical and Sustainable Electronics&nbsp;</a></div><div><br /></div><br /><table align="center" bgcolor="#FFFFFF" border="0" cellpadding="0" cellspacing="0" style="width: 599px;"><tbody><tr><td colspan="5"><img alt="Stickleback Chat - Official news of Stickleback PCBs" height="140" src="http://i6.createsend1.com/ti/r/A9/3F7/168/015226/stickleback-edm_01.gif" width="599" /></td></tr><tr><td background="http://i7.createsend1.com/ti/r/A9/3F7/168/015226/col-bg.gif" width="20"><br /></td><td valign="top"><table cellpadding="0" cellspacing="0" style="width: 366px;"><tbody><tr><td colspan="2"><a href="http://www.blogger.com/blogger.g?blogID=2472065242652647619" name="toc_item_1" style="color: #09aeef; font-weight: bold;"></a><img alt="Image" height="186" label="Single Large - Image" src="http://i2.createsend1.com/ei/r/75/CE4/235/csimport/WaterRecyclingTreatmentPlant.151358.jpg" width="366" /></td></tr><tr><td colspan="2"><div style="color: #666666; font-family: Verdana, Geneva, sans-serif; font-size: 11px; padding: 10px 0px 20px;"><h1 style="font-family: Arial, Helvetica, sans-serif; font-size: 18px; margin: 0px 0px 10px;">Water Recycling Treatment Plant</h1>As part of our continuing energy efficiency scheme we are thrilled to announce that we have installed a water recycling plant for our factory in Rochester, Kent. The introduction of the unit will significantly reduce the volume of waste water produced as a direct result of our processing.<br />Acids and alkalines used in our manufacturing processes are neutralised under controlled conditions. The ph. of the solution is carefully controlled allowing the water to be reused. This reduces the volume of water drawn by our company and removes the possibility of any polluting effects.<br />More and more companies are investing in waste water treatment. For Stickleback, we see it as part of our corporate responsibility to preserve and protect the natural resources we have wherever possible. We canât wait until it is all put together and up and running.</div></td></tr><tr><td colspan="2"><a href="http://www.blogger.com/blogger.g?blogID=2472065242652647619" name="toc_item_2" style="color: #09aeef; font-weight: bold;"></a><img alt="Image" height="186" label="Single Large - Image" src="http://i3.createsend1.com/ei/r/75/CE4/235/csimport/OpenEnergyMonitorGoogleCampus.151523.jpg" width="366" /></td></tr><tr><td colspan="2"><div style="color: #666666; font-family: Verdana, Geneva, sans-serif; font-size: 11px; padding: 10px 0px 20px;"><h1 style="font-family: Arial, Helvetica, sans-serif; font-size: 18px; margin: 0px 0px 10px;">Open Energy Monitor and Google Campus</h1>Stacey Driver had a fantastic meeting with our long-standing, valued customer, Glyn Hudson, at the Google Campus.<br />Glyn is a highly ambitious and motivated young entrepreneur, who is proud to be manufacturing a British product. The Open source hardware product, manufactured by Open Energy monitoring, allows us to relate our use of energy to our energy systems and embrace the challenge of sustainable energy.<br />Weâve worked with Glyn from the prototype stage through to production and his quantities continue to grow as his products are sent worldwide.<br />We are proud to support growing businessâ; start-ups and SMEâs and have developed smart prototyping systems to help minimise the required outlay at these costly development stages.<br />Contact Stacey today on&nbsp;<a href="mailto:stacey@sticklebackuk.com" style="color: #09aeef; font-weight: bold; text-decoration: none;">stacey@sticklebackuk.com</a>&nbsp;or&nbsp;01634 272416&nbsp;if you think we could become part of your businesses fantastic journey.<br />We would be delighted to discuss where Stickleback may be able to help!</div></td></tr></tbody></table></td><td background="http://i8.createsend1.com/ti/r/A9/3F7/168/015226/col-bg-line.gif" width="20"></td><td valign="top"><div style="padding: 0px 0px 0px 20px;"><div style="border-bottom-color: rgb(102, 102, 102); border-bottom-style: solid; border-bottom-width: 1px; margin: 0px 0px 15px; padding: 0px 0px 15px;"><h3 style="color: #09aeef; font-family: Arial, Helvetica, sans-serif; font-size: 13px; font-weight: normal; margin: 0px 0px 5px;"></h3></div></div></td><td background="http://i7.createsend1.com/ti/r/A9/3F7/168/015226/col-bg.gif" width="20"><br /></td></tr></tbody></table>
    
  </div>
  </article>
  <hr>
  
 
  <div class="pagination">
    
      <a class="btn pull-left" href="/posts/13">&larr; Older</a>
    

    
    <a class="btn pull-right" href="/posts/11">Newer &rarr;</a>
    
  </div>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">

 
 <section id="recent-posts" class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Recent Posts</h1>
  <ul class="divided">
    
      
        <li class="post">
          <a href="/2016/05/Part3-Aggregated-supply-and-demand/">Part 3: Aggregated supply and demand across multiple households</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2016/04/Part-2-Exploring-carbon-intensity/">Part 2: Exploring carbon intensity and renewable energy matching: real-time grid CO2 intensity + on-site and grid renewable energy</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2016/04/Understand-CO2-intensity-grid-electricity/">Part 1: Attempting to measure and understand the CO2 intensity of grid electricity</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2016/04/Git-Sub-Modules/">GitHub Submodules</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2016/04/Home-Assistant/">Home Assistant and emonPi</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2016/03/raspberry-pi-3/">Raspberry Pi 3 </a>
        </li>
      
    
      
        <li class="post">
          <a href="/2016/02/outdoor-temperature-data-from-weather/">Outdoor Temperature Data from Weather Underground to Emoncms & MQTT</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2016/02/heat-pump-testing-initial-results/">Heat pump Testing: Initial results</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2016/01/french-low-carbon-energy-film-featuring/">Low carbon energy film featuring OpenEnergyMonitor</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2015/12/heatpumps-in-zerocarbonbritain-model-by/">Heatpumps in the ZeroCarbonBritain model by the Centre for Alternative Technology.</a>
        </li>
      
    
  </ul>
</section>
  
  
     <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Categories</h1>
  <ul class="divided">
    
    
      <li><a href="/categories/air quality egg/">Air Quality Egg</a></li>
    
      <li><a href="/categories/android/">Android</a></li>
    
      <li><a href="/categories/antenna/">Antenna</a></li>
    
      <li><a href="/categories/building energy modelling/">Building Energy Modelling</a></li>
    
      <li><a href="/categories/china/">China</a></li>
    
      <li><a href="/categories/christmas/">Christmas</a></li>
    
      <li><a href="/categories/course/workshop/">Course/Workshop</a></li>
    
      <li><a href="/categories/dc/">DC</a></li>
    
      <li><a href="/categories/dc current sensing/">DC current sensing</a></li>
    
      <li><a href="/categories/esp8266/">ESP8266</a></li>
    
      <li><a href="/categories/heat pump/">Heat Pump</a></li>
    
      <li><a href="/categories/kaizen/">Kaizen</a></li>
    
      <li><a href="/categories/kicad/">KiCad</a></li>
    
      <li><a href="/categories/mqtt/">MQTT</a></li>
    
      <li><a href="/categories/nanoderf/">NanodeRF</a></li>
    
      <li><a href="/categories/nodered/">NodeRed</a></li>
    
      <li><a href="/categories/oem labs/">OEM Labs</a></li>
    
      <li><a href="/categories/okg/">OKG</a></li>
    
      <li><a href="/categories/oscilloscope/">Oscilloscope</a></li>
    
      <li><a href="/categories/rfm12/">RFM12</a></li>
    
      <li><a href="/categories/rfm69/">RFM69</a></li>
    
      <li><a href="/categories/rs485/">RS485</a></li>
    
      <li><a href="/categories/sap 2012/">SAP 2012</a></li>
    
      <li><a href="/categories/shw/">SHW</a></li>
    
      <li><a href="/categories/srf/">SRF</a></li>
    
      <li><a href="/categories/tasker/">Tasker</a></li>
    
      <li><a href="/categories/app/">app</a></li>
    
      <li><a href="/categories/arduino/">arduino</a></li>
    
      <li><a href="/categories/award/">award</a></li>
    
      <li><a href="/categories/backup/">backup</a></li>
    
      <li><a href="/categories/batteries/">batteries</a></li>
    
      <li><a href="/categories/benchmarking/">benchmarking</a></li>
    
      <li><a href="/categories/build sesh/">build sesh</a></li>
    
      <li><a href="/categories/business/">business</a></li>
    
      <li><a href="/categories/ciseco/">ciseco</a></li>
    
      <li><a href="/categories/community energy/">community energy</a></li>
    
      <li><a href="/categories/community smart grid/">community smart grid</a></li>
    
      <li><a href="/categories/control/">control</a></li>
    
      <li><a href="/categories/current sensor/">current sensor</a></li>
    
      <li><a href="/categories/current transformer/">current transformer</a></li>
    
      <li><a href="/categories/dashboard/">dashboard</a></li>
    
      <li><a href="/categories/display/">display</a></li>
    
      <li><a href="/categories/diy drones/">diy drones</a></li>
    
      <li><a href="/categories/documentation/">documentation</a></li>
    
      <li><a href="/categories/efergy/">efergy</a></li>
    
      <li><a href="/categories/electronics/">electronics</a></li>
    
      <li><a href="/categories/elektrocamp/">elektrocamp</a></li>
    
      <li><a href="/categories/email notifications/">email notifications</a></li>
    
      <li><a href="/categories/embodied energy/">embodied energy</a></li>
    
      <li><a href="/categories/emonbase/">emonBase</a></li>
    
      <li><a href="/categories/emonctrl/">emonCtrl</a></li>
    
      <li><a href="/categories/emonglcd/">emonGLCD</a></li>
    
      <li><a href="/categories/emonpi/">emonPi</a></li>
    
      <li><a href="/categories/emonth/">emonTH</a></li>
    
      <li><a href="/categories/emontx/">emonTx</a></li>
    
      <li><a href="/categories/emontx v2/">emonTx V2</a></li>
    
      <li><a href="/categories/emontxsmt/">emonTxSMT</a></li>
    
      <li><a href="/categories/emontxshield/">emonTxShield</a></li>
    
      <li><a href="/categories/emoncms/">emoncms</a></li>
    
      <li><a href="/categories/end-to-end/">end to end</a></li>
    
      <li><a href="/categories/energy monitor/">energy monitor</a></li>
    
      <li><a href="/categories/energy monitoring/">energy monitoring</a></li>
    
      <li><a href="/categories/feed storage/">feed storage</a></li>
    
      <li><a href="/categories/github/">github</a></li>
    
      <li><a href="/categories/graphing/">graphing</a></li>
    
      <li><a href="/categories/hackathon/">hackathon</a></li>
    
      <li><a href="/categories/hall effect/">hall effect</a></li>
    
      <li><a href="/categories/hardware/">hardware</a></li>
    
      <li><a href="/categories/heating/">heating</a></li>
    
      <li><a href="/categories/home assistant/">home Assistant</a></li>
    
      <li><a href="/categories/home camp/">home camp</a></li>
    
      <li><a href="/categories/humidity/">humidity</a></li>
    
      <li><a href="/categories/integrations/">integrations</a></li>
    
      <li><a href="/categories/interface/">interface</a></li>
    
      <li><a href="/categories/interview/">interview</a></li>
    
      <li><a href="/categories/java/">java</a></li>
    
      <li><a href="/categories/job/">job</a></li>
    
      <li><a href="/categories/kickstarter/">kickstarter</a></li>
    
      <li><a href="/categories/linux/">linux</a></li>
    
      <li><a href="/categories/logo/">logo</a></li>
    
      <li><a href="/categories/manufacturing/">manufacturing</a></li>
    
      <li><a href="/categories/measurement/">measurement</a></li>
    
      <li><a href="/categories/media/">media</a></li>
    
      <li><a href="/categories/mobile/">mobile</a></li>
    
      <li><a href="/categories/modbus/">modbus</a></li>
    
      <li><a href="/categories/nanode/">nanode</a></li>
    
      <li><a href="/categories/open source/">open source</a></li>
    
      <li><a href="/categories/openhab/">openHAB</a></li>
    
      <li><a href="/categories/openenergymonitor/">openenergymonitor</a></li>
    
      <li><a href="/categories/optical pulse/">optical pulse</a></li>
    
      <li><a href="/categories/pcb/">pcb</a></li>
    
      <li><a href="/categories/pebble/">pebble</a></li>
    
      <li><a href="/categories/pluse/">pluse</a></li>
    
      <li><a href="/categories/presentation/">presentation</a></li>
    
      <li><a href="/categories/raspberry pi/">raspberry pi</a></li>
    
      <li><a href="/categories/renewable/">renewable</a></li>
    
      <li><a href="/categories/serial/">serial</a></li>
    
      <li><a href="/categories/shop/">shop</a></li>
    
      <li><a href="/categories/showcase/">showcase</a></li>
    
      <li><a href="/categories/smartwatch/">smartwatch</a></li>
    
      <li><a href="/categories/social energy monitoring/">social energy monitoring</a></li>
    
      <li><a href="/categories/solarpv/">solarPV</a></li>
    
      <li><a href="/categories/sparkfun/">sparkfun</a></li>
    
      <li><a href="/categories/sustainability/">sustainability</a></li>
    
      <li><a href="/categories/temperature/">temperature</a></li>
    
      <li><a href="/categories/three phase/">three phase</a></li>
    
      <li><a href="/categories/tutorials/">tutorials</a></li>
    
      <li><a href="/categories/upgrade/">upgrade</a></li>
    
      <li><a href="/categories/utility meters/">utility meters</a></li>
    
      <li><a href="/categories/voltage sensing/">voltage sensing</a></li>
    
      <li><a href="/categories/wind/">wind</a></li>
    
      <li><a href="/categories/wind turbine/">wind turbine</a></li>
    
      <li><a href="/categories/wireless/">wireless</a></li>
    
      <li><a href="/categories/workshop/">workshop</a></li>
    
  </ul>
</section>
  
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright">
  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor'><i class="icon-github"></i></a>
  <a rel="me" href='http://blog.openenergymonitor.org/atom.xml'><i class="icon-rss"></i></a>

  <div class="credit">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and the <a href='https://github.com/coogie/oscailte'>Oscalite theme</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>
</div>
    </div>
  </div>
</div>
    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script>
  var _gaq=[['_setAccount','UA-10321170-4'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
<script>
  var disqus_shortname = 'openenergymonitor';
  
    
    var disqus_script = 'count.js';
  
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>


<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

  </body>
</html>