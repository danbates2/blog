<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Blog | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="OpenEnergyMonitor Blog">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="http://blog.openenergymonitor.org/posts/33/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Blog | OpenEnergyMonitor">
    <meta property="og:site_name" content="Blog | OpenEnergyMonitor">
    <meta property="og:url" content="http://blog.openenergymonitor.org/posts/33/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Blog | OpenEnergyMonitor">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Blog | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
    
    
    
    <link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
	<link rel="apple-touch-icon" href="/images/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/images/favicon-144.png">
	<meta name="msapplication-config" content="/images/browserconfig.xml">
	
  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <!--<img width='40' src='/images/favicon-192x192.png'> -->
    <span>Blog | OpenEnergyMonitor</span>
  </a>
</div>

<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a href="http://openenergymonitor.org">Home</a></li>
  <li><a href="http://shop.openenergymonitor.com">Online-Store</a></li>
  <li><a href="http://guide.openenergymonitor.org">User Guide</a></li>
  <li><a href="http://emoncms.org">Emoncms</a></li>
  <li><a href="http://community.openenergymonitor.org">Forum</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

            
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2010/01/main-documentation-page-started/">Main documentation page started</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2010-01-21T19:26:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> Less than one minute reading time</span>
    
    
      <a class='comments'
         href="/2010/01/main-documentation-page-started/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Made a start on the main documentation page for the whole house energy monitor. It can be found here:<br /><br /><a href="http://openenergymonitor.org/emon/node/43">How to build a whole home energy monitor</a>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2010/01/measurment-board-documentation/">Measurement board documentation</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2010-01-21T16:08:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> Less than one minute reading time</span>
    
    
      <a class='comments'
         href="/2010/01/measurment-board-documentation/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Just finished the measurement board documentation it can be found here:<br /><a href="http://openenergymonitor.org/emon/node/42">http://openenergymonitor.org/emon/node/42</a><br /><br />The <span class="blsp-spelling-corrected" id="SPELLING_ERROR_0">measurement</span> board contains the voltage and current measurement electronics and the power electronics for providing power to the <span class="blsp-spelling-error" id="SPELLING_ERROR_1">arduino</span> in the main unit.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2010/01/finished-working-functional-home-energy/">Finished, working, functional home energy monitor!</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2010-01-13T21:47:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> three minutes reading time</span>
    
    
      <a class='comments'
         href="/2010/01/finished-working-functional-home-energy/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    I have spent some time over the last couple of weeks working on getting a finished energy monitor for the house together and installed in a more permanent way. I managed to finished the build yesterday and it's now working away logging energy consumption data, giving some informative readouts and nice looking graphs :)<br /><br />I decided on having a real time display that can be mounted in some ware visible with a cable running to the main unit that holds the sensor electronics situated near were the mains comes in to the house. The main unit also has a USB pen data logger in it to store detailed data. I also wanted to send data to be graphed on the net and so I have another box near my router that has a second arduino and an arduino ethernet shield in it. The ethernet box is connected to the main unit with a wireless xbee connection.<br /><br />Its quite a complex setup and a bit pricey but I wanted to learn about each element and since I had bought a couple of arduinos, xbee's etc I thought I'd through it all together and make something with lots of crazy and useful things going on in it...<br /><br />Here are some pics of the setup:<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_Yqa3j9ZhET8/S05CSiL2pvI/AAAAAAAAA-E/i7-MUpDQu1Y/s1600-h/display.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 300px;" src="http://1.bp.blogspot.com/_Yqa3j9ZhET8/S05CSiL2pvI/AAAAAAAAA-E/i7-MUpDQu1Y/s400/display.jpg" alt="" id="BLOGGER_PHOTO_ID_5426347487209629426" border="0" /></a>The display unit consisting of 4 large green led 7 segments. On the right is a 6 mode – mode chooser so that you can select by turning the potentiometer (bottom – right) whether the display shows real power, apparent power, power factor, RMS Voltage, RMS Current, frequency or cumulative kWh used. The display is connected to the main unit by a cable that goes through the wall at the back of the display.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_Yqa3j9ZhET8/S05Chj5YALI/AAAAAAAAA-U/3yWAbDS1W5M/s1600-h/mainunit.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 300px;" src="http://3.bp.blogspot.com/_Yqa3j9ZhET8/S05Chj5YALI/AAAAAAAAA-U/3yWAbDS1W5M/s400/mainunit.jpg" alt="" id="BLOGGER_PHOTO_ID_5426347745367031986" border="0" /></a>The main unit is the small box in the far left of pic with the white CT sensor wire crossing the shelf over to the sensor clipped on to the main mains wire on the right.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_Yqa3j9ZhET8/S05ChJXJryI/AAAAAAAAA-M/2-y9ijDq798/s1600-h/ethernet.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 300px;" src="http://2.bp.blogspot.com/_Yqa3j9ZhET8/S05ChJXJryI/AAAAAAAAA-M/2-y9ijDq798/s400/ethernet.jpg" alt="" id="BLOGGER_PHOTO_ID_5426347738244165410" border="0" /></a>The ethernet unit connected to the router, the small box on top of the larger box houses the xbee and can be detached if one wanted a wire connection instead.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_Yqa3j9ZhET8/S05C8Uepv6I/AAAAAAAAA-c/sUFFU9whVjw/s1600-h/graph.PNG"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 339px;" src="http://3.bp.blogspot.com/_Yqa3j9ZhET8/S05C8Uepv6I/AAAAAAAAA-c/sUFFU9whVjw/s400/graph.PNG" alt="" id="BLOGGER_PHOTO_ID_5426348205084884898" border="0" /></a>A screenshot of the web based graphing that can be seen live <a href="http://power.openenergymonitor.org/">here</a>.<br />Graphing is done using flot – a very nice piece of software.<br />I'd like to thank John from <a href="http://jarv.org/projects.shtml">jarv.org</a> for his work and help on logging using the ethernet board although he is using open flash charts much of the implementation is very similar.<br /><br />For more pictures of the setup check out the picassa album <a href="http://picasaweb.google.com/trystan.lea/FinishedEnergyMonitor?feat=directlink">here</a>.<br /><br />Over the next two weeks I hope to document it the setup. I hope to manage a section every couple of days in the order of the features below:<br /><br /><span style="font-weight: bold;">Main Features</span><br /><ul><li>Voltage measurement with step down AC to AC adapter,</li><li>Current measurement with CT sensor.</li><li>Power for sensor board provided with same AC to AC adapter used for voltage measurement.</li><li>Calculation of Real power, Apparent power, power factor, RMS voltage, RMS current, frequency, cumulative kWh.<br /></li></ul><ul><li>Display unit consisting of large green 7 segment display, 6 mode – mode chooser and red/green led indicator to indicate when grid is below and above 50Hz.</li></ul><ul><li>USB pen data logging using VDIP1 board</li></ul><ul><li>Xbee wireless link from sensor unit to the Ethernet unit.</li></ul><ul><li>Ethernet board for logging and graphing on internet. </li></ul><ul><li>Flot based graphing on website.</li></ul><br /><span style="font-weight: bold;">Block diagram of the setup:</span><br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_Yqa3j9ZhET8/S05DXGPOrSI/AAAAAAAAA-k/aU-100yqgik/s1600-h/block.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 283px;" src="http://3.bp.blogspot.com/_Yqa3j9ZhET8/S05DXGPOrSI/AAAAAAAAA-k/aU-100yqgik/s400/block.png" alt="" id="BLOGGER_PHOTO_ID_5426348665118567714" border="0" /></a>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2009/10/micro-maker-fair-wales/">Micro Maker Fair Wales</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2009-10-22T23:34:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> Less than one minute reading time</span>
    
    
      <a class='comments'
         href="/2009/10/micro-maker-fair-wales/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Myself and Suneil will be exhibiting the energy monitor and wind turbine at Micro Maker Fair Wales in Chapter arts center in Cardiff tomorrow and Saturday 11am - 4pm. The Maker Fair is a part of the may you live in interesting times festival, read more about it here:<br /><a href="http://www.mayyouliveininterestingtimes.org.uk/makersfaire.html">http://www.mayyouliveininterestingtimes.org.uk/makersfaire.html</a><br /><br />Come along if your in the area!
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2009/10/7-segment-display-and-more-internet/">7 segment display and more internet stuff</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2009-10-09T21:44:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> 1 minute reading time</span>
    
    
      <a class='comments'
         href="/2009/10/7-segment-display-and-more-internet/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Finally got the 7 segment display I've been meaning to build for a while built, its great being able to see power usage without having to have the computer on and the big green digits are really nice and clear.<br /><br />Here's a video of it in action with a bit on pachube and appspot at the end:<br /><br /><object height="300" width="400"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id=6987923&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=00ADEF&amp;fullscreen=1"><embed src="http://vimeo.com/moogaloop.swf?clip_id=6987923&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=00ADEF&amp;fullscreen=1" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" height="300" width="400"></embed></object><p><a href="http://vimeo.com/6987923">CT sensor with Display and Internet</a> from <a href="http://vimeo.com/user853442">Trystan Lea</a> on <a href="http://vimeo.com/">Vimeo</a>.</p><br />I using a MAX7221CNG driver chip with four 1" green digits, following the tutorial (a very good tutorial I may add!) on the arduino site by <span class="diffauthor" title="80.130.103.5">wayoda</span> here:<br /><br /><a href="http://www.arduino.cc/playground/Main/MAX72XXHardware?action=diff">http://www.arduino.cc/playground/Main/MAX72XXHardware?action=diff</a><br /><br />Here's the arduino sketch I used in the above video:<br /><br /><a href="http://openenergymonitor.org/emon/sites/default/files/CTDisplaySerial.pde"><small>http://openenergymonitor.org/emon/sites/default/files/CTDisplaySerial.pde</small></a><br /><br />and after playing about with ladyada's python code from tweet-a-watt Im now using python on the computer side.<br /><br />Here's the python script that outputs values to terminal, a file, pachube and google appspot:<br /><br /><a href="http://openenergymonitor.org/emon/sites/default/files/main9oct.tar.gz"> <small>http://openenergymonitor.org/emon/sites/default/files/main9oct.tar.gz</small></a><br /><br />Feels like things are coming together :)<br /><br />Ive got an asus rooter on order and an arduino ethernet board to play about with so hopefully will not need the computer to be on all the time for data logging soon. Id also like to have a look at enclosures for the display to make things look nice.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2009/10/pachube/">Pachube</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2009-10-05T21:23:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> Less than one minute reading time</span>
    
    
      <a class='comments'
         href="/2009/10/pachube/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Got a pachube feed going. See the gadget on the side -><br /><br />To check out my pachube feed page in more detail:<br /><br /><a href="http://www.pachube.com/feeds/2801">http://www.pachube.com/feeds/2801</a><br /><br />From pachube's website:<br /><br /><span style="font-style: italic;">"Pachube is a web service available at http://www.pachube.com that enables you to store, share &amp; discover realtime sensor, energy and environment data from objects, devices &amp; buildings around the world. Pachube is a convenient, secure &amp; scalable platform that helps you connect to &amp; build the 'internet of things'."</span><br /><br /><object height="344" width="425"><param name="movie" value="http://www.youtube.com/v/6kzNKONUGQ8&amp;hl=en&amp;fs=1&amp;"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="http://www.youtube.com/v/6kzNKONUGQ8&amp;hl=en&amp;fs=1&amp;" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" height="344" width="425"></embed></object>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2009/10/internet-connectivity-and-xbee-wireless/">Internet connectivity and xbee wireless - what a day!</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2009-10-04T20:59:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> 1 minute reading time</span>
    
    
      <a class='comments'
         href="/2009/10/internet-connectivity-and-xbee-wireless/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Decided to have a go at getting my xbee's to work this morning so that data can be sent wirelessly from the sensors to the computer.<br /><br />Followed ladyada's tutorial here:<br /><br /><a href="http://www.ladyada.net/make/xbee/point2point.html">http://www.ladyada.net/make/xbee/point2point.html</a><br /><br />and it works!<br /><br />I then thought id have a go at following her tweet-a-watt internet connectivity tutorial using google appspot and visualizations here:<br /><br /><a href="http://www.ladyada.net/make/tweetawatt/database.html">http://www.ladyada.net/make/tweetawatt/database.html</a><br /><a href="http://www.ladyada.net/make/tweetawatt/graph.html">http://www.ladyada.net/make/tweetawatt/graph.html</a><br /><br />also works! great tutorials!<br /><br />Here's a couple of minutes of realpower measurements graphed with google visualizations:<br /><br /><a href="http://openenergymonitor.appspot.com/graph?bhours=1"></a><a href="http://openenergymonitor.appspot.com/graph">http://openenergymonitor.appspot.com/graph</a><br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://openenergymonitor.appspot.com/graph?bhours=1"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 131px;" src="http://4.bp.blogspot.com/_Yqa3j9ZhET8/SskSjNi4S7I/AAAAAAAAAaY/Nc3fl9XK-4Y/s400/vis.png" alt="" id="BLOGGER_PHOTO_ID_5388858825266187186" border="0" /></a><br />and the last 10 power values:<br /><br /><a href="http://openenergymonitor.appspot.com/">http://openenergymonitor.appspot.com/</a><br /><br />I had to modify a couple of things to get it all to work with the <a href="http://openenergymonitor.org/emon/node/28"><strong><strong></strong></strong>Mains AC: non-invasive</a> method, I will post up a how to and source code soon as I can.<br /><br />Next id like to try to use the Asus wifi router to remove the computer altogether that ladyada details here:<br /><br /><a href="http://www.ladyada.net/make/tweetawatt/expand.html">http://www.ladyada.net/make/tweetawatt/expand.html</a><br /><br />and Ive got components for a 7 segment display on order.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2009/09/hall-effect-sensor-circuit-diagram/">Hall effect sensor circuit diagram</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2009-09-03T23:23:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> Less than one minute reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/current-sensor/'>current sensor</a></li>
      
        <li><a class='category' href='/categories/energy-monitoring/'>energy monitoring</a></li>
      
        <li><a class='category' href='/categories/hall-effect/'>hall effect</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2009/09/hall-effect-sensor-circuit-diagram/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    The circuit is an inverting amplifier circuit. The 100k pot level shifts the input signal. It can be set so that the output lies within the arduino's 0 to 5V input range.  The 1k pot sets the amplification factor. By varying both pot's it is possible to set the current measurement range of the circuit. Note the output is inverted so that when the current increases the signal input to the arduino decreases from 5V to 0V.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_Yqa3j9ZhET8/SqBP73s9otI/AAAAAAAAAZ4/DhH-QrpshxA/s1600-h/circuit.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 178px;" src="http://3.bp.blogspot.com/_Yqa3j9ZhET8/SqBP73s9otI/AAAAAAAAAZ4/DhH-QrpshxA/s400/circuit.png" alt="" id="BLOGGER_PHOTO_ID_5377385845063787218" border="0" /></a>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2009/09/experiments-with-hall-effect-current/">Experiments with a hall effect current sensor</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2009-09-02T21:58:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> 1 minute reading time</span>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/dc/'>DC</a></li>
      
        <li><a class='category' href='/categories/energy-monitor/'>energy monitor</a></li>
      
        <li><a class='category' href='/categories/hall-effect/'>hall effect</a></li>
      
    
    </ul>
  </span>
    
      <a class='comments'
         href="/2009/09/experiments-with-hall-effect-current/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Thought Id have a go at using a hall effect sensor to measure current. A hall effect sensor can measure DC and AC current, Ive had a go at the DC and it seems to work quite nicely, its also quite a bit cheaper than the other DC current measuring method I detail <a href="http://openenergymonitor.org/emon/node/31">here</a>, which is always good!<br /><br />Here's a pic of the setup:<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_Yqa3j9ZhET8/Sp7rzwtaMVI/AAAAAAAAAZY/4j-iT2YeQ8Q/s1600-h/hall.JPG"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 300px;" src="http://2.bp.blogspot.com/_Yqa3j9ZhET8/Sp7rzwtaMVI/AAAAAAAAAZY/4j-iT2YeQ8Q/s400/hall.JPG" alt="" id="BLOGGER_PHOTO_ID_5376994279608168786" border="0" /></a><br />I bought the hall sensor from farnell <a href="http://uk.farnell.com/jsp/search/productdetail.jsp?CMP=i-ddd7-00001003&amp;sku=1082269">here</a>.<br /><br />It requires a supply voltage of between 6 and 12. Its output is centred around Vcc/2. The output voltage increases about 50mV per Amp when the supply voltage is 12V. When measuring DC current the output looks like this:<br />0.0A - 6.0V<br />1.0A - 6.05V<br />2.0A - 6.10V<br />...<br /><br />I've used an inverting amplifier to invert the signal about a set voltage so that the voltage going to the Arduino's analog in is between 0 and 5V. I will upload the circuit diagram and further details soon when I get a chance.<br /><br />So far it looks like a promising method.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2009/08/openco2monitor-collaboration/">OpenCO2Monitor collaboration</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2009-08-25T08:51:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> </time>
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span>
    <span><i class='icon-time'></i> 1 minute reading time</span>
    
    
      <a class='comments'
         href="/2009/08/openco2monitor-collaboration/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    A couple of days ago I was contacted by <span class="blsp-spelling-error" id="SPELLING_ERROR_0">Ronic</span> Concepcion and  <span class="blsp-spelling-error" id="SPELLING_ERROR_1">Ymreb</span> <span class="blsp-spelling-error" id="SPELLING_ERROR_2">Momville</span> from the University Southeastern Philippines who are undertaking a technical research project called <span class="blsp-spelling-error" id="SPELLING_ERROR_3">OpenCO</span>2Monitor as a part of their BS Information Technology degrees.<br /><br />Their project will be a collaboration with this project using the <a href="http://openenergymonitor.org/emon/node/28">Mains AC:Non-invasive method</a> of energy monitoring to supply energy consumption information to their software.<br /><br />From their blog: <a href="http://openco2monitor.exofire.net/">http://openco2monitor.exofire.net</a><blockquote>"<span class="blsp-spelling-error" id="SPELLING_ERROR_4">OpenCO</span>2Monitor is an open source software which is capable of monitoring CO2 emissions on a house/building. When the emitted CO2 reaches danger levels, the software will automatically sound an alarm and show a message dialog on the computer screen tell the user what to do.<br /><br /><span class="blsp-spelling-error" id="SPELLING_ERROR_5">OpenCO</span>2Monitor is not only capable of monitoring CO2 levels but also monitoring the electric energy consumption of a house/building. It is also capable of showing your current monthly bill based on the Davao Light and Power Company generation charge per kilowatt hour.<br /><br /><span class="blsp-spelling-error" id="SPELLING_ERROR_6">OpenCO</span>2Monitor also shows how many number of full grown trees a house/building should have in its surroundings to offset its CO2 Emissions. It also displays the house/building’s current contribution to temperature rise.<br /><br /><span class="blsp-spelling-error" id="SPELLING_ERROR_7">OpenCO</span>2Monitor uses the Mains AC:Non-invasive method from <span class="blsp-spelling-error" id="SPELLING_ERROR_8">OpenEnergyMonitor</span>.org to read the <span class="blsp-spelling-error" id="SPELLING_ERROR_9">Kwh</span> Usage of a house/building."<br /></blockquote>All really useful information that aims to help the user to  "save money and energy while lessening their contribution to greenhouse gasses."
    
  </div>
  </article>
  <hr>
  
 
  <div class="pagination">
    
      <a class="btn pull-left" href="/posts/34">&larr; Older</a>
    

    
    <a class="btn pull-right" href="/posts/32">Newer &rarr;</a>
    
  </div>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">

  
  
  
     <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Categories</h1>
  <ul class="divided">
    
    
      <li><a href="/categories/3phases/">3phases</a></li>
    
      <li><a href="/categories/air quality egg/">Air Quality Egg</a></li>
    
      <li><a href="/categories/android/">Android</a></li>
    
      <li><a href="/categories/antenna/">Antenna</a></li>
    
      <li><a href="/categories/building energy modelling/">Building Energy Modelling</a></li>
    
      <li><a href="/categories/china/">China</a></li>
    
      <li><a href="/categories/christmas/">Christmas</a></li>
    
      <li><a href="/categories/course/workshop/">Course/Workshop</a></li>
    
      <li><a href="/categories/dc/">DC</a></li>
    
      <li><a href="/categories/dc current sensing/">DC current sensing</a></li>
    
      <li><a href="/categories/esp8266/">ESP8266</a></li>
    
      <li><a href="/categories/heat pump/">Heat Pump</a></li>
    
      <li><a href="/categories/kaizen/">Kaizen</a></li>
    
      <li><a href="/categories/kicad/">KiCad</a></li>
    
      <li><a href="/categories/mqtt/">MQTT</a></li>
    
      <li><a href="/categories/nanoderf/">NanodeRF</a></li>
    
      <li><a href="/categories/nodered/">NodeRed</a></li>
    
      <li><a href="/categories/oem labs/">OEM Labs</a></li>
    
      <li><a href="/categories/okg/">OKG</a></li>
    
      <li><a href="/categories/oscilloscope/">Oscilloscope</a></li>
    
      <li><a href="/categories/rfm12/">RFM12</a></li>
    
      <li><a href="/categories/rfm69/">RFM69</a></li>
    
      <li><a href="/categories/rs485/">RS485</a></li>
    
      <li><a href="/categories/sap 2012/">SAP 2012</a></li>
    
      <li><a href="/categories/shw/">SHW</a></li>
    
      <li><a href="/categories/srf/">SRF</a></li>
    
      <li><a href="/categories/tasker/">Tasker</a></li>
    
      <li><a href="/categories/test/">Test</a></li>
    
      <li><a href="/categories/ad/">ad</a></li>
    
      <li><a href="/categories/app/">app</a></li>
    
      <li><a href="/categories/arduino/">arduino</a></li>
    
      <li><a href="/categories/award/">award</a></li>
    
      <li><a href="/categories/backup/">backup</a></li>
    
      <li><a href="/categories/batteries/">batteries</a></li>
    
      <li><a href="/categories/benchmarking/">benchmarking</a></li>
    
      <li><a href="/categories/build sesh/">build sesh</a></li>
    
      <li><a href="/categories/business/">business</a></li>
    
      <li><a href="/categories/ciseco/">ciseco</a></li>
    
      <li><a href="/categories/community energy/">community energy</a></li>
    
      <li><a href="/categories/control/">control</a></li>
    
      <li><a href="/categories/current sensor/">current sensor</a></li>
    
      <li><a href="/categories/current transformer/">current transformer</a></li>
    
      <li><a href="/categories/dashboard/">dashboard</a></li>
    
      <li><a href="/categories/display/">display</a></li>
    
      <li><a href="/categories/diy drones/">diy drones</a></li>
    
      <li><a href="/categories/documentation/">documentation</a></li>
    
      <li><a href="/categories/efergy/">efergy</a></li>
    
      <li><a href="/categories/electronics/">electronics</a></li>
    
      <li><a href="/categories/elektrocamp/">elektrocamp</a></li>
    
      <li><a href="/categories/email notifications/">email notifications</a></li>
    
      <li><a href="/categories/embodied energy/">embodied energy</a></li>
    
      <li><a href="/categories/emocms/">emocms</a></li>
    
      <li><a href="/categories/emonbase/">emonBase</a></li>
    
      <li><a href="/categories/emonctrl/">emonCtrl</a></li>
    
      <li><a href="/categories/emonglcd/">emonGLCD</a></li>
    
      <li><a href="/categories/emonpi/">emonPi</a></li>
    
      <li><a href="/categories/emonth/">emonTH</a></li>
    
      <li><a href="/categories/emontx/">emonTx</a></li>
    
      <li><a href="/categories/emontx v2/">emonTx V2</a></li>
    
      <li><a href="/categories/emontxsmt/">emonTxSMT</a></li>
    
      <li><a href="/categories/emontxshield/">emonTxShield</a></li>
    
      <li><a href="/categories/emoncms/">emoncms</a></li>
    
      <li><a href="/categories/end-to-end/">end to end</a></li>
    
      <li><a href="/categories/energy monitor/">energy monitor</a></li>
    
      <li><a href="/categories/energy monitoring/">energy monitoring</a></li>
    
      <li><a href="/categories/feed storage/">feed storage</a></li>
    
      <li><a href="/categories/film/">film</a></li>
    
      <li><a href="/categories/graphing/">graphing</a></li>
    
      <li><a href="/categories/hackathon/">hackathon</a></li>
    
      <li><a href="/categories/hall effect/">hall effect</a></li>
    
      <li><a href="/categories/hardware/">hardware</a></li>
    
      <li><a href="/categories/heating/">heating</a></li>
    
      <li><a href="/categories/home camp/">home camp</a></li>
    
      <li><a href="/categories/humidity/">humidity</a></li>
    
      <li><a href="/categories/interface/">interface</a></li>
    
      <li><a href="/categories/interview/">interview</a></li>
    
      <li><a href="/categories/java/">java</a></li>
    
      <li><a href="/categories/job/">job</a></li>
    
      <li><a href="/categories/kickstarter/">kickstarter</a></li>
    
      <li><a href="/categories/linux/">linux</a></li>
    
      <li><a href="/categories/logo/">logo</a></li>
    
      <li><a href="/categories/manufacturing/">manufacturing</a></li>
    
      <li><a href="/categories/measurement/">measurement</a></li>
    
      <li><a href="/categories/media/">media</a></li>
    
      <li><a href="/categories/mobile/">mobile</a></li>
    
      <li><a href="/categories/modbus/">modbus</a></li>
    
      <li><a href="/categories/n/">n</a></li>
    
      <li><a href="/categories/nanode/">nanode</a></li>
    
      <li><a href="/categories/open source/">open source</a></li>
    
      <li><a href="/categories/openhab/">openHAB</a></li>
    
      <li><a href="/categories/openenergymonitor/">openenergymonitor</a></li>
    
      <li><a href="/categories/optical pulse/">optical pulse</a></li>
    
      <li><a href="/categories/pcb/">pcb</a></li>
    
      <li><a href="/categories/pebble/">pebble</a></li>
    
      <li><a href="/categories/pluse/">pluse</a></li>
    
      <li><a href="/categories/presentation/">presentation</a></li>
    
      <li><a href="/categories/raspberry pi/">raspberry pi</a></li>
    
      <li><a href="/categories/renewable/">renewable</a></li>
    
      <li><a href="/categories/serial/">serial</a></li>
    
      <li><a href="/categories/shop/">shop</a></li>
    
      <li><a href="/categories/showcase/">showcase</a></li>
    
      <li><a href="/categories/smartwatch/">smartwatch</a></li>
    
      <li><a href="/categories/social energy monitoring/">social energy monitoring</a></li>
    
      <li><a href="/categories/solarpv/">solarPV</a></li>
    
      <li><a href="/categories/sparkfun/">sparkfun</a></li>
    
      <li><a href="/categories/sustainability/">sustainability</a></li>
    
      <li><a href="/categories/temperature/">temperature</a></li>
    
      <li><a href="/categories/three phase/">three phase</a></li>
    
      <li><a href="/categories/tutorials/">tutorials</a></li>
    
      <li><a href="/categories/upgrade/">upgrade</a></li>
    
      <li><a href="/categories/utility meters/">utility meters</a></li>
    
      <li><a href="/categories/voltage sensing/">voltage sensing</a></li>
    
      <li><a href="/categories/wind/">wind</a></li>
    
      <li><a href="/categories/wind turbine/">wind turbine</a></li>
    
      <li><a href="/categories/wireless/">wireless</a></li>
    
      <li><a href="/categories/workshop/">workshop</a></li>
    
  </ul>
</section>
  
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright">
  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor'><i class="icon-github"></i></a>

  <div class="credit">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and the <a href='https://github.com/coogie/oscailte'>Oscalite theme</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>
</div>
    </div>
  </div>
</div>
    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script>
  var _gaq=[['_setAccount','UA-10321170-4'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
<script>
  var disqus_shortname = 'openenergymonitor';
  
    
    var disqus_script = 'count.js';
  
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>


<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

  </body>
</html>