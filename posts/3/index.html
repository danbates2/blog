<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Blog | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="OpenEnergyMonitor Blog">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="http://blog.openenergymonitor.org/posts/3/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Blog | OpenEnergyMonitor">
    <meta property="og:site_name" content="Blog | OpenEnergyMonitor">
    <meta property="og:url" content="http://blog.openenergymonitor.org/posts/3/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Blog | OpenEnergyMonitor">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Blog | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
    
    
    
    <link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
	<link rel="apple-touch-icon" href="/images/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/images/favicon-144.png">
	<meta name="msapplication-config" content="/images/browserconfig.xml">
	
  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <!--<img width='40' src='/images/favicon-192x192.png'> -->
    
    <span style="color:#555;font-weight:bold;font-family:Arial;font-size:20"'>
Open</span><span style="color:#0699fa;font-weight:bold;font-family:Arial;font-size:20"'>EnergyMonitor</span>

  </a>
</div>

<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a href="http://openenergymonitor.org">Home</a></li>
  <li><a href="http://shop.openenergymonitor.com">Online-Store</a></li>
  <li><a href="http://guide.openenergymonitor.org">User Guide</a></li>
  <li><a href="http://emoncms.org">Emoncms</a></li>
  <li><a href="http://community.openenergymonitor.org">Forum</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

            
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/09/pulse-counting-with-rfm69pi-and/">Pulse counting with the RFM69PI and RaspberryPi EmonBase basestation</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-09-06T21:08:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-09-06 21:08:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emonbase/'>emonBase</a></li>
      
        <li><a class='category' href='/categories/optical-pulse/'>optical pulse</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/09/pulse-counting-with-rfm69pi-and/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    The latest version of the RFMPi Adapter board made much of the spare digital and analog IO available for use directly on the RFMPi adapter board. D3 is one of the digital inputs available and can have an interrupt attached (INT 1) which makes it useful for pulse counting.<br /><br />By connecting a<a href="http://shop.openenergymonitor.com/optical-utility-meter-led-pulse-sensor/"> optical pulse sensor</a> directly to the <a href="http://shop.openenergymonitor.com/emonbase-raspberry-pi-web-connected-base-station/">rfm69pi adapter board</a> this can make a relatively low cost solution for internet connected pulse counting (or local logging to emoncms running on the raspberrypi). <br /><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-EScDwqHXgyw/VeylN7yKW2I/AAAAAAAAT2w/HzWr5pXAwMg/s1600/rfmpi_pulse.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="223" src="http://3.bp.blogspot.com/-EScDwqHXgyw/VeylN7yKW2I/AAAAAAAAT2w/HzWr5pXAwMg/s400/rfmpi_pulse.JPG" width="400" /></a></div><br /><b>Setup</b><br /><br />1) The RJ45 connector on the optical pulse counter needs to be removed and individual wires exposed. Connect the red wire to 3.3V, the black wire to GND and the blue wire to D3:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-svvRwhAQZc4/VeylOJ16QRI/AAAAAAAAT20/2s3CJ9OcOlw/s1600/rfmpi_pulse_connections.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="300" src="http://4.bp.blogspot.com/-svvRwhAQZc4/VeylOJ16QRI/AAAAAAAAT20/2s3CJ9OcOlw/s400/rfmpi_pulse_connections.JPG" width="400" /></a></div><br />2) To use the rfm69pi adapter with pulse counting the pulse counting firmware needs to be uploaded to the rfm69pi adapter board, the steps to upload this firmware are:<br /><ol><li>SSH into your raspberrypi running the standard OpenEnergyMonitor image.</li><li>Place raspberrypi in write mode: <br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$ rpi-rw</span></li><li>Stop emonhub: <br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$ sudo service emonhub stop</span></li><li>Pull in latest changes to RFM2PI git directory: <br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$ cd RFM2PI<br />$ git pull</span></li><li>Upload pulse counting firmware:<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$ avrdude -v -c arduino -p ATMEGA328P -P /dev/ttyAMA0 -b 38400 -U flash:w:/home/pi/RFM2Pi/firmware/RFM69CW_RF_Demo_ATmega328/RFM69CW_RF12_Demo_ATmega328_Pulse/RFM69CW_RF12_Demo_ATmega328_Pulse.cpp.hex</span></li><li>Start emonhub:<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$ sudo service emonhub start</span></li></ol>Next login to the local emoncms installation on the raspberrypi and navigate to the emonhub.conf editor. Add the following node definition in the nodes section of emonhub.conf:<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">[[15]]<br />&nbsp;&nbsp;&nbsp; nodename = rfmpi_pulse<br />&nbsp;&nbsp;&nbsp; firmware = RFM69CW_RF12_Demo_ATmega328_Pulse<br />&nbsp;&nbsp;&nbsp; hardware = rfm69pi<br />&nbsp;&nbsp;&nbsp; [[[rx]]]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; names = power,count<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; datacodes = h,L<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scales = 1,1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; units = W,Wh&nbsp;</span><br /><br />The pulse count is accumulated on the rfm69pi until the rfm69pi is reset either by an outage or by turning off and on the power.<br /><br />To record the total accumulated pulse count in emoncms use the  wh_accumulator input process which detects resets continuing the total  pulse count accumulation from the last value before the reset.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/09/at-watt-cost-review-of-emonpi-raspberry/">At Watt Cost? A review of the emonPi Raspberry Pi based energy monitor</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-09-04T15:10:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-09-04 15:10:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> 13 minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emonpi/'>emonPi</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/09/at-watt-cost-review-of-emonpi-raspberry/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 18.666666666666664px; font-style: normal; font-variant: normal; font-weight: 700; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">At Watt Cost ?</span></div><h3 style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.6667px; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><i>A review of the emonPi, a Raspberry Pi based energy monitoring system developed by OpenEnergyMonitor, by <a href="https://twitter.com/irlionel">Lionel Smith</a> : </i></span></h3><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><i><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.6667px; font-variant: normal; font-weight: 700; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Measurement is the first step that leads to control and eventually to improvement</span><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.6667px; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">. If you can’t measure something, you can’t understand it. If you can’t understand it, you can’t control it. If you can’t control it, you can’t improve it.” </span></i><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br class="kix-line-break" /></span><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">― H. James Harrington</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="emoncms_solarPV_laptop_mobile.png" height="335px;" src="https://lh4.googleusercontent.com/FSDua1EX8hwKoqYpyipDLNH-c9JjigVa5wmOBUH8XwV0xqRBNCk5M4C0DhrYIxBcrvP0ENLcnKr-Ps4voKdXI_QM_MKFkDwz4NSBWv3V_VzLe5XtS0U14VkJx4J0Q3zL6kSiCJw" style="border: none; transform: rotate(0rad);" width="602px;" /></span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Do we know how much electricity can be saved by using low energy lighting such as LED's or how much electricity is saved by turning off lighting when not in use?</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Finding out how much electricity is being used by one or all of your appliances, is the first step in being able to cut down on consumption, and in doing so spend less on electricity. It goes without saying that reducing your consumption equates to doing your bit towards creating a sustainable world. </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Glyn Hudson, Trystan Lea and the rest of the team at </span><a href="http://openenergymonitor.org/" style="text-decoration: none;"><span style="background-color: transparent; color: #1155cc; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;">OpenEnergyMonitor.org</span></a><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> have developed some monitoring technology to help us understand and optimise our energy consumption and generation. This allows us to approach the problem of energy consumption in a logical and informed way.</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The Raspberry Pi isn't great at measuring analogue voltages, so various Arduino based measurement boards have been developed which process and digitise the inputs and transfer them to the Pi. </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">In early 2014 an idea was born to create a shield which plugged directly onto a Raspberry Pi to make a single unit energy monitoring solution, primarily aimed at domestic users. A whole bunch of discussions and a fair amount of blood, sweat and tears culminated in a </span><a href="https://www.kickstarter.com/projects/openenergymonitor/emonpi-open-hardware-raspberry-pi-based-energy-mon" style="text-decoration: none;"><span style="background-color: transparent; color: #1155cc; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;">Kickstarter campaign</span></a><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> which raised £24,723 to help bring the project to life</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">This piece of kit is dubbed the emonPi, which is a Raspberry Pi based, open-source, web-connected, energy &amp; environmental monitor. This unit gives you the ability to measure home energy, solar PV, heatpump generation and temperature.</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="emonPi_MyElectric_Daffs.JPG" height="452px;" src="https://lh5.googleusercontent.com/eiPQWuAtp9R9R8VOjaSv2TPwYXRj2D9vtDQUJl2p7qYykBRrpGLpn4PKgt3riBqPC-SAFr1Kwt-8rnaD8W_M1lDoVEys_urRtx3dYhaFKrb1YtpqTb8usAUM1pdNtNCnDO4Yg9Fk" style="border: none; transform: rotate(0rad);" width="602px;" /></span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Everything on the site is fully open-source, which means you are free to tinker and improve to suit your needs. There is a very active community so help is readily available.</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Aside from the obvious current and voltage values, temperature and humidity can also be measured by adding the appropriate nodes. All this information is then formatted on the Pi and either stored locally or uploaded via an Internet connection to a hosted application called EmonCMS. </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Once you've built up some data, various visualisations can be applied to create some really informative graphs. </span><br /><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-5Zvy6qVObaM/VemzJ06LFOI/AAAAAAABdWY/EIVz8qafdio/s1600/emoncms_dashboards.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="297" src="http://4.bp.blogspot.com/-5Zvy6qVObaM/VemzJ06LFOI/AAAAAAABdWY/EIVz8qafdio/s640/emoncms_dashboards.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Emoncms MyElectric and SolarPV Dashboards</td></tr></tbody></table></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 700; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"></span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The emonPi is available in both kit form or as a complete unit. Complete units are housed in a professional looking case sourced from Lincoln Binns. Even if you can’t resist the urge to experiment and order your system in kit form, it is highly recommended that you order the aluminium case to house the finished unit in. Aside from protecting everything inside, the case really gives the unit a polished, professional look.</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Inside the case you will find a standard Raspberry Pi 2, the GPIO serial connected Arduino measurement shield and an I2C connected 2 x 16-character display.</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><img alt="Emonpibare (1).png" height="322" src="https://lh5.googleusercontent.com/yA_duDSWg-ocGt9Rolim0p7rdi5sMTZtLtR6WX_jc62IiRBvw2r1yfZ8sFPvUYl--9tP0ImpYc2HgNl9K-_34HeQJ4qCm6O8aabOZUwlKCvKasCE55HGIjn8MpJ7n0GDQm1Kym-ZJns7EyO7" style="-webkit-transform: rotate(0.00rad); border: none; transform: rotate(0.00rad);" width="400" /></span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The unit contains built in 433Mhz low power RF which is used for communicating with its external nodes. These nodes can be used to add additional power readings (emonTx) or remote temperature and humidity (emonTH) . </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Fire up the system with a LAN cable plugged in and the on board display conveniently displays its IP address. Punch that into your favourite browser ( on a PC in the same LAN ) and you get to the login page. Once logged in, you are able to setup the WiFi if you have added an external USB WiFi adapter.</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The built in 16 x 2 display will also confirm the status of connected devices. In order to measure temperature, an optional DS18B20 temperature sensor needs to be connected. The emonPi can talk to multiple (up to 6) of these sensors as they are individually addressable. </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Power can be measured using a clip-on CT current sensor and a 9VAC reference supply. You can cheat and omit the 9VAC supply input resulting in the AC voltage being fixed in the software, but then you are not reading true Real Power or Power Factor, so this is not recommended. If measuring solar PV two clip-on CT sensors are required and the 9VAC voltage input is essential as it's required to tell the unit if you generating or consuming power. The second CT can be used to isolate a particular load and see how much that draws. As an example CT 1 could be measuring the total of your house while CT 2 could tell you how much just your water heater or stove uses.</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Another method to measure power is to use an optical pulse counter sensor that picks up the LED flashes generated by most modern electricity and gas meters.</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Being able to visualise the power used by your appliances gives a whole new insight into the power needed to run them. The author used the system to evaluate the claims made by the supplier of a hot water boiler control unit that only allows the boiler to heat the water 3 times a day based on your predicted usage. Using the emonPi and Emoncms system it was easy to see exactly how much saving was achieved after installing the control unit. </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The emonPi is a fantastic piece of kit and well worth having if you would like to contribute towards a greener future.</span></div><b style="font-weight: normal;"><br /></b><br /><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Weblinks for more information:</span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Home Page –<a href="https://www.blogger.com/goog_615289264"><span id="goog_615289265"></span> </a></span><a href="https://www.blogger.com/"><span style="background-color: transparent; color: #666600; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">http://openenergymonitor.org/</span><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> <span id="goog_615289266"></span></span></a></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">emonPi User Guide - </span><a href="http://openenergymonitor.org/emon/modules/emonpi" style="text-decoration: none;"><span style="background-color: transparent; color: #1155cc; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;">http://openenergymonitor.org/emon/modules/emonpi</span></a></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Wiki - </span><a href="http://wiki.openenergymonitor.org/" style="text-decoration: none;"><span style="background-color: transparent; color: #666600; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">http://wiki.openenergymonitor.org</span></a><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Shop - </span><a href="http://shop.openenergymonitor.com/" style="text-decoration: none;"><span style="background-color: transparent; color: #666600; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">http://shop.openenergymonitor.com/</span></a><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">User Forum - </span><a href="http://openenergymonitor.org/emon/forum" style="text-decoration: none;"><span style="background-color: transparent; color: #666600; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">http://openenergymonitor.org/emon/forum</span></a><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Blog - </span><a href="http://openenergymonitor.blogspot.com/" style="text-decoration: none;"><span style="background-color: transparent; color: #666600; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">http://openenergymonitor.blogspot.com/</span></a><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> </span></div><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Emoncms - </span><a href="http://emoncms.org/" style="text-decoration: none;"><span style="background-color: transparent; color: #666600; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">http://emoncms.org</span></a><span style="background-color: transparent; color: black; font-family: Calibri; font-size: 14.666666666666666px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> </span></div><b style="font-weight: normal;"><br /></b><br /><div dir="ltr" style="line-height: 1.295; margin-bottom: 8pt; margin-top: 0pt;"><span style="background-color: transparent; color: red; font-family: Calibri; font-size: 14.6667px; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><b>Safety Warning: Interfacing with mains voltages can be potentially lethal. If you are not competent, or not sure of what you are doing rather seek the assistance of a qualified professional.</b></span></div><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/09/optical-pulse-counting-with-emonth/">Optical pulse counting with the EmonTH</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-09-02T12:53:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-09-02 12:53:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emonth/'>emonTH</a></li>
      
        <li><a class='category' href='/categories/optical-pulse/'>optical pulse</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/09/optical-pulse-counting-with-emonth/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <style type="text/css">p { margin-bottom: 0.25cm; line-height: 120%; }</style>  <br /><div style="line-height: 100%; margin-bottom: 0cm;"><br /></div><div style="line-height: 100%; margin-bottom: 0cm;">In addition to temperature and humidity sensing the <a href="http://openenergymonitor.org/emon/modules/emonTH">EmonTH</a> has a digital input (with interrupt) that can be used for pulse counting.   </div><div style="line-height: 100%; margin-bottom: 0cm;"><br /></div><div style="line-height: 100%; margin-bottom: 0cm;">This can be used for <a href="http://openenergymonitor.org/emon/buildingblocks/introduction-to-pulse-counting">wired pulse counting</a> or with the <a href="http://shop.openenergymonitor.com/optical-utility-meter-led-pulse-sensor/">Optical LED pulse sensor</a>.</div><div style="line-height: 100%; margin-bottom: 0cm;"><br /></div><div style="line-height: 100%; margin-bottom: 0cm;">To use the Optical LED Pulse sensor the easiest way is to remove the RJ45 connector and then strip back the black sheathing to reveal the red (3.3V power), black (GND) and blue (pulse) wires.</div><div style="line-height: 100%; margin-bottom: 0cm;"><br /></div><div style="line-height: 100%; margin-bottom: 0cm;">Connect the red wire to the 3.3V terminal, the black wire to the GND terminal and the blue wire to the terminal labelled D3 (top) or IRQ1/D3 Pulse Counting (bottom of the board).<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://wiki.openenergymonitor.org/images/thumb/Emonth_pulse.jpg/1600px-Emonth_pulse.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://wiki.openenergymonitor.org/images/thumb/Emonth_pulse.jpg/1600px-Emonth_pulse.jpg" height="347" width="640" /></a></div><br /></div><div style="line-height: 100%; margin-bottom: 0cm;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-Mq6ZFJuLqcc/VebtplQo9rI/AAAAAAAAT14/NtBwwglgdxo/s1600/SAM_1228.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="240" src="http://3.bp.blogspot.com/-Mq6ZFJuLqcc/VebtplQo9rI/AAAAAAAAT14/NtBwwglgdxo/s320/SAM_1228.JPG" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-JKBIFoch2cU/VebtpvkXfcI/AAAAAAAAT18/4NYrBdD0Nlo/s1600/SAM_1229.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="240" src="http://2.bp.blogspot.com/-JKBIFoch2cU/VebtpvkXfcI/AAAAAAAAT18/4NYrBdD0Nlo/s320/SAM_1229.JPG" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-rIL3qPNNzt0/VebtpevfL6I/AAAAAAAAT10/ooswSPyzU_g/s1600/SAM_1230.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="480" src="http://1.bp.blogspot.com/-rIL3qPNNzt0/VebtpevfL6I/AAAAAAAAT10/ooswSPyzU_g/s640/SAM_1230.JPG" width="640" /></a></div><div style="line-height: 100%; margin-bottom: 0cm;"><br /></div><div style="line-height: 100%; margin-bottom: 0cm;"><br /></div>There are two firmware examples available for the EmonTH for pulse counting, the first is for Pulse counting in addition to DHT22 Temperature + Humidity sensing or DS18B20 temperature sensing:<br /><a href="https://github.com/openenergymonitor/emonTH/tree/master/emonTH_DHT22_DS18B20_RFM69CW_Pulse">https://github.com/openenergymonitor/emonTH/tree/master/emonTH_DHT22_DS18B20_RFM69CW_Pulse</a><br /><br />The second is for pulse counting only if the temperature and humidity sensing is not needed:<br /><a href="https://github.com/openenergymonitor/emonTH/tree/master/emonTH_pulse_lowpower">https://github.com/openenergymonitor/emonTH/tree/master/emonTH_pulse_lowpower</a><br /><br />To upload these firmware examples you will need the <a href="http://openenergymonitor.org/emon/buildingblocks/setting-up-the-arduino-environment">Arduino IDE and libraries installed</a> and a <a href="http://shop.openenergymonitor.com/programmer-usb-to-serial-uart/">USB to serial programmer</a> to upload the firmware to the EmonTH.<br /><br />The pulse count is accumulated on the EmonTH until the EmonTH is reset either by an outage or by turning off and on the power.<br /><br />To record the total accumulated pulse count in emoncms use the wh_accumulator input process which detects resets continuing the total pulse count accumulation from the last value before the reset.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/08/3ch-wifi-relay-control-board/">3CH WiFi Relay Control Board</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-08-22T12:38:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-08-22 12:38:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> eight minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/esp8266/'>ESP8266</a></li>
      
        <li><a class='category' href='/categories/control/'>control</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/08/3ch-wifi-relay-control-board/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;">We have recently started stocking in the shop a Three Channel WiFi Relay / Thermostat Board designed by our friend <a href="https://harizanov.com/">Martin&nbsp;Harizanov</a>.</span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;"><br /></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;">The board has been well designed to physically separate high voltage AC mains from the low voltage logic. The board has an optional power supply to enable the board to be powered directly from 100-240V AC. A wall-mountable plastic enclosure is included.&nbsp;</span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;"><br /></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="font-size: 12.8px; line-height: 16.64px;">The board can be used to control a heating / AC /&nbsp;humidifier via local control loop from on-board sensor. The unit can be programmed with a schedule and or manually&nbsp;controlled&nbsp;via web UI via WIFI. Sensor&nbsp;data and relay status can be posted to <a href="http://emoncms.org/">Emoncms</a> for logging and graphing.&nbsp;</span></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;"><br /></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;"><strong style="background-color: white; color: red; font-size: 12.8px; line-height: 16.64px; margin: 0px; outline: none; padding: 0px;">NOTE: The board connects to and controls high voltage, knowledge and attention&nbsp;is required when installing to prevent electrical shock.</strong></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;"><strong style="background-color: white; color: red; font-size: 12.8px; line-height: 16.64px; margin: 0px; outline: none; padding: 0px;"><br /></strong></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: 12.8px; line-height: 16.64px;"><b><u>Overview</u></b></span></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;"><strong style="background-color: white; color: red; font-size: 12.8px; line-height: 16.64px; margin: 0px; outline: none; padding: 0px;"><br /></strong></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;">The relay board is a open software/hardware multi-purpose relay board based on the&nbsp;</span><a href="https://espressif.com/en/products/esp8266/" style="color: #3399cc; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; font-weight: bold; line-height: 1.3; margin: 0px; outline: none; padding: 0px;" target="_blank">ESP8266</a><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; margin: 0px; outline: none; padding: 0px;">&nbsp;WiFi SoC. It can&nbsp;control up to three AC or DC loads over the Internet using web UI or MQTT.</span></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; outline: none; padding: 0px;"><br /></div><ul style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 19.2px; margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Powered by the popular&nbsp;<a href="https://espressif.com/en/products/esp8266/" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;" target="_blank">ESP8266&nbsp;</a>WiFi SoC</li></ul><ul style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 19.2px; margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Powerd direct from 230V AC via isolated on-board PSU (optional extra) or 5V DC via micro USB</li></ul><ul style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 19.2px; margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Up to three&nbsp;<a href="http://www.te.com/catalog/pn/en/3-1393239-6" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;" target="_blank">high quality 10A relays</a>&nbsp;for switching AC or DC loads (see DC switching notes)</li></ul><ul style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 19.2px; margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Built-in web server with mobile device friendly UI and HTTP API to control the relays</li><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Thermostat function with weekly scheduling</li><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Manual relay control via the UI</li></ul><ul style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 19.2px; margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;"><a href="http://en.wikipedia.org/wiki/MQTT" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;" target="_blank">MQTT&nbsp;</a>support</li></ul><ul style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 19.2px; margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;"><a href="http://en.wikipedia.org/wiki/Network_Time_Protocol" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;" target="_blank">NTP</a>&nbsp;for network time and scheduling functionality</li></ul><ul style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 19.2px; margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Web server settings, including HTTP&nbsp;port and basic HTTP authentication setup</li></ul><ul style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 19.2px; margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Broadcast relay/sensor data using HTTP GET to services like&nbsp;<a href="https://thingspeak.com/" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;" target="_blank">ThingSpeak</a>&nbsp;or&nbsp;<a href="http://emoncms.org/" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;" target="_blank">Emoncms</a></li><ul style="margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Integration with ThingSpeak for charting/analytics visualization</li></ul></ul><ul style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 19.2px; margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">Temperature sensor support (one of them, not both at the same time) -&nbsp;(optional extra)</li><ul style="margin: 0px 0px 10px 30px; outline: none; padding: 0px;"><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">DS18B20 one-wire temperature:&nbsp;supports multiple sensors</li><li style="margin: 0px 0px 2px; outline: none; padding: 0px;">DHT22 (AM2302) Humidity &amp; Temperature</li></ul></ul><div><h3 style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 1.4em; font-weight: normal; margin: 0px 0px 5px; outline: none; padding: 0px;"></h3><h3 style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 1.4em; font-weight: normal; margin: 0px 0px 5px; outline: none; padding: 0px;">Shop:</h3><div><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 16.64px;">The relay board can now be purchased direct from our shop:&nbsp;</span><span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="font-size: 12.8px; line-height: 16.64px;"><a href="http://shop.openenergymonitor.com/three-channel-wifi-relay-thermostat/">http://shop.openenergymonitor.com/three-channel-wifi-relay-thermostat/</a></span></span></div><h3 style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 1.4em; font-weight: normal; margin: 0px 0px 5px; outline: none; padding: 0px;"></h3><h3 style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 1.4em; font-weight: normal; margin: 0px 0px 5px; outline: none; padding: 0px;">Documentation &amp; Set-up:&nbsp;</h3></div><div><span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="font-size: 12.8px; line-height: 19.2px;">Full technical details and set-up guide are available on Martin's Wiki:&nbsp;<a href="https://harizanov.com/wiki/wiki-home/three-channel-wifi-relaythermostat-board/">https://harizanov.com/wiki/wiki-home/three-channel-wifi-relaythermostat-board/</a></span></span></div><div><span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="font-size: 12.8px; line-height: 19.2px;"><br /></span></span></div><div><h3 style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 1.4em; font-weight: normal; margin: 0px 0px 5px; outline: none; padding: 0px;">Related Blog Posts:</h3><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; outline: none; padding: 0px;"><a href="https://harizanov.com/2015/03/diy-internet-connected-smart-humidifier/" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;">DIY Internet Connected Smart Humidifier</a></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; outline: none; padding: 0px;"><a href="https://harizanov.com/2015/02/wifi-thermostat-with-weekly-scheduler/" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;">WIFI Thermostat with weekly scheduler</a></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; outline: none; padding: 0px;"><a href="https://harizanov.com/2014/12/wifi-iot-3-channel-relay-board-with-mqtt-and-http-api-using-esp8266/" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;">WiFi IoT 3 channel relay board with MQTT and HTTP API using ESP8266</a></div><div style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12.8px; line-height: 1.3; outline: none; padding: 0px;"><a href="https://harizanov.com/2015/06/firmware-over-the-air-fota-for-esp8266-soc/" style="color: #3399cc; font-weight: bold; margin: 0px; outline: none; padding: 0px;">ESP8266 OTA Update</a>&nbsp;</div></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">Overview demo of the board in action by Paul Reed:&nbsp;</div><div class="separator" style="clear: both; text-align: center;"><br /><iframe width="320" height="266" class="YOUTUBE-iframe-video" data-thumbnail-src="https://i.ytimg.com/vi/nDaiUxO4Lt8/0.jpg" src="https://www.youtube.com/embed/nDaiUxO4Lt8?feature=player_embedded" frameborder="0" allowfullscreen></iframe></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-AXCP04Y4q_Q/Vdhb8REc4lI/AAAAAAABcVc/IsQrc2I1ctE/s1600/WIFI_relay.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="478" src="http://4.bp.blogspot.com/-AXCP04Y4q_Q/Vdhb8REc4lI/AAAAAAABcVc/IsQrc2I1ctE/s640/WIFI_relay.jpg" width="640" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-h7XcnL4hayU/Vdhb8QAGl6I/AAAAAAABcVY/n7eM8fuIaiQ/s1600/WIFI_relay_case.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="467" src="http://1.bp.blogspot.com/-h7XcnL4hayU/Vdhb8QAGl6I/AAAAAAABcVY/n7eM8fuIaiQ/s640/WIFI_relay_case.jpg" width="640" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-E6G7l8gqJmQ/VdhcAUnnYLI/AAAAAAABcV0/5ZqMX6jjwk0/s1600/control_relay_html__44590.1438788811.1280.1280.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="392" src="http://4.bp.blogspot.com/-E6G7l8gqJmQ/VdhcAUnnYLI/AAAAAAABcV0/5ZqMX6jjwk0/s400/control_relay_html__44590.1438788811.1280.1280.png" width="400" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-ybbRIxjCfB4/VdhcAven0ZI/AAAAAAABcV4/4vt8Yh5uqrw/s1600/control_thermostat_html2__38976.1438788811.1280.1280.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="http://4.bp.blogspot.com/-ybbRIxjCfB4/VdhcAven0ZI/AAAAAAABcV4/4vt8Yh5uqrw/s640/control_thermostat_html2__38976.1438788811.1280.1280.png" width="387" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-TZkjMmosL60/Vdhs1u7JTLI/AAAAAAABcWk/ZyJfxkDadyw/s1600/index_tpl__78496.1438788812.1280.1280.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://3.bp.blogspot.com/-TZkjMmosL60/Vdhs1u7JTLI/AAAAAAABcWk/ZyJfxkDadyw/s400/index_tpl__78496.1438788812.1280.1280.png" width="395" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-rEUBDK0yMok/Vdhb_7OuXcI/AAAAAAABcWA/DoFnIeb9_tk/s1600/config_mqtt_tpl__60101.1438788811.1280.1280.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://3.bp.blogspot.com/-rEUBDK0yMok/Vdhb_7OuXcI/AAAAAAABcWA/DoFnIeb9_tk/s400/config_mqtt_tpl__60101.1438788811.1280.1280.png" width="325" /></a></div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-t4AHCjHPYu0/Vdhb_177o8I/AAAAAAABcWM/OHUS0dqh_g8/s1600/config_wifi_wifi_tpl__56418.1438788813.1280.1280.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="640" src="http://3.bp.blogspot.com/-t4AHCjHPYu0/Vdhb_177o8I/AAAAAAABcWM/OHUS0dqh_g8/s640/config_wifi_wifi_tpl__56418.1438788813.1280.1280.png" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><br /></td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-Z-6CsvcGQGs/Vdwf2FNVuLI/AAAAAAABc7M/npUBFYU1euo/s1600/wifi_realy_post_emoncms.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="140" src="http://2.bp.blogspot.com/-Z-6CsvcGQGs/Vdwf2FNVuLI/AAAAAAABc7M/npUBFYU1euo/s640/wifi_realy_post_emoncms.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Posting status &amp; sensor readings to Emoncms</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-VmWNhox2qmo/Vdhs9WwjSRI/AAAAAAABcWs/jZITz2d54Os/s1600/esp8266_relay_board_brd__51754.1438788657.1280.1280.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://2.bp.blogspot.com/-VmWNhox2qmo/Vdhs9WwjSRI/AAAAAAABcWs/jZITz2d54Os/s400/esp8266_relay_board_brd__51754.1438788657.1280.1280.png" width="385" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><br /><div class="separator" style="clear: both; text-align: center;"></div><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/08/understanding-zero-carbon-energy/">Understanding zero carbon energy systems: Energy storage (part 1)</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-08-02T08:37:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-08-02 08:37:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> five minutes reading time</span> <br>
     <br>
    
      <a class='comments'
         href="/2015/08/understanding-zero-carbon-energy/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    The last zero carbon energy model example in the series investigating the matching between different energy demands and a variable renewable supply reached 89% supply/demand matching with a mixture of solar and wind supply, traditional electricity demand, space heating with heatpumps, electric vehicles with smart charging and two small stores one 7 kWh li-ion store and one 10 kWh heatstore.<br /><br />Blog post: <a href="http://openenergymonitor.blogspot.co.uk/2015/07/open-source-hourly-zero-carbon-energy.html">Open source hourly zero carbon energy model, combining traditional electric, heating and electric vehicle demand.</a><br /><br />How do we achieve that final 10% of supply/demand matching? Is it possible to just scale up the li-ion storage or do we need something else? What is the nature of that final unmet demand and the final storage requirement?<br /><br />One of the good things about having the model written as a program rather than spreadsheet is that its really easy to run the model iteratively for different input values, you can quickly go through hundreds of model runs. You don’t need to manually run the model for each value. <br /><br />The following graph shows how the percentage of supply/demand matching increases as the storage size increases. The python source code for the model used to produce this can be found here: <a href="https://github.com/TrystanLea/zcem/blob/master/python/storagerequirements.py">https://github.com/TrystanLea/zcem/blob/master/python/storagerequirements.py</a><br /><br />In order to capture all of the storage requirement in this analysis the heatstore was removed from the <a href="http://openenergymonitor.blogspot.co.uk/2015/07/open-source-hourly-zero-carbon-energy.html">last model</a> and the EV charging was set to a constant charge profile rather than smart charging. This configuration achieves 78.3% supply/demand matching with no storage, an unmet electricity demand of 13,628 kWh over 10 years out of a total of 62,771 kWh.<br /><br />% Supply/demand matching vs storage size in kWh:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Abx9aCP9W7c/Vb3YfvwKL2I/AAAAAAAATrM/vQvu6kMp3n8/s1600/matchingvsstoresize.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="384" src="http://2.bp.blogspot.com/-Abx9aCP9W7c/Vb3YfvwKL2I/AAAAAAAATrM/vQvu6kMp3n8/s640/matchingvsstoresize.png" width="640" /></a></div>We can see clearly that the degree of supply/demand matching increases very quickly as we add the first kWh's of storage but then the gains taper off quickly requiring orders of magnitude more storage to reach the final 5%.<br /><br />The first 10% of supply/demand matching, bringing us up to 90% needs around 25 kWh of storage. The next 5% up to 95% requires an additional 120 kWh of storage. The final 5% requires 1536 kWh.<br /><br /><b>Note:</b> see added section below for calculations of total storage capacity required if the oversupply is 20% or 30% instead of the 4% here.<br /><br />The first 1.5% of the storage capacity provides 50% of the required supply/demand matching gain.<br /><br />Its interesting to look at what the use of the 1680 kWh store looks like across the 10 year model period:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-nhFBpcMlbbo/Vb3Y0qBKDgI/AAAAAAAATrc/G1vtEdv6ts0/s1600/storeSOC.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="358" src="http://1.bp.blogspot.com/-nhFBpcMlbbo/Vb3Y0qBKDgI/AAAAAAAATrc/G1vtEdv6ts0/s640/storeSOC.png" width="640" /></a></div>The store is used most over winter, where electricity demand is highest due to heatpump space heating. We can see that the winters of 2010 and 2011 where particularly cold and that the extent of the storage requirement in this model is largely driven by these successive harsh winters and a less strong summer. If the modelling had only considered 2002 to 2010 we might have under specified the storage amount needed by half which highlights the importance of modelling over as many years as possible.<br /><br /><b>Utilisation, cycling</b><br /><br />We can see roughly that the full extent of the store is only used once in 10 years and is largely needed to cover just 3.5 months at the start of 2011. Even if the store was half its size it would only be used fully 3 times in 10 years. The extend to which the store is cycled is an important consideration in store choice, both from the perspective of wear and financial payback.<br /><br />The following graph charts annual cycle requirements vs storage size, highlighting how most of the storage requirement is cycled very infrequently. A 25 kWh store delivers the equivalent charge/discharge energy of 30 full cycles a year, 100% depth of discharge (DOD). The next 120 kWh would only be cycled 7.3 times a year. A 625 kWh store would only be cycled twice in a year and the full 1680 kWh store only 0.8 times a year.<br /><br />Cycles per year vs store size:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-p7Wlm4jfR4U/Vb3YqXb0CLI/AAAAAAAATrU/gKPaudwDSM0/s1600/cycles.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="382" src="http://3.bp.blogspot.com/-p7Wlm4jfR4U/Vb3YqXb0CLI/AAAAAAAATrU/gKPaudwDSM0/s640/cycles.png" width="640" /></a></div>The above gives us an initial degree of insight into the nature of the storage requirements and how reaching the final 10% of supply/demand matching requires magnitude more storage than the first 10%.<br /><br />Its important to note that the results above are for a model based on uk climate and weather, it would be worth repeating this kind of modelling for warmer countries where air conditioning that matched solar pv generation was a large component of demand rather than winter heating.<br /><br />The next blog post will look at some of the different storage technologies available and how they are suitable for different segments of the overall storage requirement.<br /><br /><b>Reducing storage requirements by oversupply&nbsp; </b><br />Following the conversation with Dominic Zapman here <a href="https://twitter.com/Zapaman/status/627806828865409024">https://twitter.com/Zapaman/status/627806828865409024</a>, I decided to re-run the model with a higher degree of oversupply - nearer the oversupply level used by ZeroCarbonBritain. The results above are for an oversupply of 4% with 65391 kWh supplied over 10 years for a demand of 62771 kWh. A 1680 kWh store is 27% of the annual demand.<br /><br />If we re-run the model with an oversupply of 20%, 100% supply/demand matching is reached with a 676 kWh store, 11% of annual demand.<br /><br />If the oversupply is 30%, the storage requirement is reduced to 484 kWh, 8% of annual demand.<br /><br />The ZeroCarbonBritain model exports 165 TWh out of the 738 TWh generated which is an oversupply of 22%. A further 180 TWh is used to generate synthetic fuels including power to gas methane storage. A high percentage of this demand will also be oversupply. The long term power to gas storage capacity in ZCB is 60 TWh, delivering on average 14 TWh/year of backup supply covering about 402 TWh of final demand excluding exports. Delivered backup is 3.5% of final demand.<br /><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/07/new-myelectric-app-realtime-power-graph/">New MyElectric Emoncms app, realtime power graph and energy totals</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-07-30T15:26:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-07-30 15:26:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/dashboard/'>dashboard</a></li>
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/07/new-myelectric-app-realtime-power-graph/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <br /><a href="http://1.bp.blogspot.com/-YHIAud8fvlg/Vbo1wbdWU3I/AAAAAAAATqI/zORntneXFnM/s1600/newmyelectric.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="400" src="http://1.bp.blogspot.com/-YHIAud8fvlg/Vbo1wbdWU3I/AAAAAAAATqI/zORntneXFnM/s400/newmyelectric.png" width="281" /></a><a href="http://3.bp.blogspot.com/-zX3yeWqv0Ug/Vbo10IpEtBI/AAAAAAAATqQ/lm637JsnEbg/s1600/SAM_0929.JPG" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://3.bp.blogspot.com/-zX3yeWqv0Ug/Vbo10IpEtBI/AAAAAAAATqQ/lm637JsnEbg/s400/SAM_0929.JPG" width="300" />&nbsp;</a><br /><br />The MyElectric app has long been needing some work so that it both provides more useful information and also reports the daily kwh data correctly for different timezones and when the app is used as an always on display and the day changes.<br /><br />There is now a new version available that adds a real-time power graph as well as totals for the week, month, year and all time and the daily kwh bar graph as before.<br /><br />To generate the kWh per day graph this version focuses on supporting feeds either created with the "power to kWh" processor or "Wh accumulator" processor rather than the "power to kWh/d" processor and average power feeds. Trying to support each one was leading to quite a lot of bugs in addition to more fundamental issues with time zones present with the power to Kwh/d daily feed approach. <br /><br />The "power to kWh" and "Wh accumulator" processors are both fully supported on the emonPi and emonBase running the low-write image. There's more on how this accumulating watt hour or kWh approach works here: <a href="http://openenergymonitor.org/emon/node/3995">Development: Calculating Wh totals on the emontx</a><br /><br />I now have the new MyElectric app running alongside the MySolarPV app in my home and I'm really quite pleased with the results. The totals at the bottom and average kWh per day for each period gives me most of what data to see at a glance how my electricity consumption is fairing and having this information available on a wall mounted tablet really makes all the difference compared with having to login to emoncms on my computer to see the data.<br /><br />I would like to make it easier to switch in between the different apps, a side swipe would be really nice. I would also like to look into a way to make it possible to download apps from an app repository from within emoncms itself so that new apps could be added without them having to be in the app repository on github, there's quite a bit of work needed to get there thought.<br /><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/07/adding-rtc-to-emonpi/">Adding a RTC to the emonPi</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-07-09T14:05:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-07-09 14:05:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emonpi/'>emonPi</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/07/adding-rtc-to-emonpi/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    The emonPi updates its internal linux time from NTP when connected to the internet. However if the emonPi is to be used on an offline network or for an application when accurate timestamp is essential then a hardware Real Time Clock (RTC) can easily be added to the Pi's GPIO. We have tested using a<a href="http://thepihut.com/products/mini-rtc-module-for-raspberry-pi"> DS3231 based RTC module</a>. This RTC module communicates with the emonPi via I2C, it can be easily connected as follows by soldering a four-pin header onto the emonPi aux GPIO pins:<div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-NhuNmTOJlvQ/VZ59RssXeMI/AAAAAAABXOw/EuMNn_MsO-k/s1600/EmonPi_RTC.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="380" src="http://4.bp.blogspot.com/-NhuNmTOJlvQ/VZ59RssXeMI/AAAAAAABXOw/EuMNn_MsO-k/s640/EmonPi_RTC.JPG" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonPi with hardware RTC module added</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://www.bashpi.org/wp-content/uploads/2015/03/DS3231rtc.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://www.bashpi.org/wp-content/uploads/2015/03/DS3231rtc.jpg" height="294" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><a href="http://thepihut.com/products/mini-rtc-module-for-raspberry-pi" style="font-size: medium; text-align: start;">DS3231 based RTC module</a></td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://wiki.openenergymonitor.org/images/Emonpi_rtc_i2c.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://wiki.openenergymonitor.org/images/Emonpi_rtc_i2c.png" height="153" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">I2C bus scan showing LCD &amp; RTC</td></tr></tbody></table><br />Full install guide can be found on the wiki:<br /><a href="http://wiki.openenergymonitor.org/index.php/EmonPi#Adding_a_Real_Time_Clock_.28RTC.29">http://wiki.openenergymonitor.org/index.php/EmonPi#Adding_a_Real_Time_Clock_.28RTC.29</a></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/07/what-is-embodied-energy-of/">What is the embodied energy of a microcontroller?</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-07-06T09:51:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-07-06 09:51:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> eight minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/embodied-energy/'>embodied energy</a></li>
      
        <li><a class='category' href='/categories/manufacturing/'>manufacturing</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/07/what-is-embodied-energy-of/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Continuing with the <a href="http://openenergymonitor.blogspot.co.uk/2015/06/investigating-embodied-energy-of-emonpi.html">investigation into the embodied energy that it takes to make an energy monitor</a>, I thought I would explore in a little more detail the embodied energy of the microcontroller which is often associated with the most energy intensive aspect of electronics manufacture.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-Atk61lU9PJg/VZm5VQZtIlI/AAAAAAAATbw/WKqu8g7mhh4/s1600/atmegaemonpi.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-Atk61lU9PJg/VZm5VQZtIlI/AAAAAAAATbw/WKqu8g7mhh4/s1600/atmegaemonpi.jpg" /></a></div><br />As I mentioned before I wouldn’t put a large amount of confidence in the accuracy of the figures below, computer chips are incredibly complex things that take a large number of manufacturing processes to make and I have found it hard to find open detailed information on energy requirements of these. The calculations below are based on the datasets that I could find including the EU <a href="http://ec.europa.eu/enterprise/policies/sustainable-business/ecodesign/methodology/index_en.htm">ecodesign dataset</a> which I'm told is one of the higher quality freely available sources. But I could not find much detail on how the figures where derived to know what it does and does not include and the breakdown of energy use in its manufacture.<br /><br />The idea here is more to get an initial set of numbers that could be improved upon in the future. My motivation for looking into this started by being inspired by <a href="http://www.howies.co.uk/">howies</a> and <a href="http://www.patagonia.com/us/footprint">patagonia's</a> efforts on footprint and supply chain analysis, partly by reading <a href="http://withouthotair.com/c15/page_88.shtml">sustainable energy without the hot air</a> that identifies industry as being a significant part of overall energy use and also after reading the article here about <a href="http://www.lowtechmagazine.com/2009/06/embodied-energy-of-digital-technology.html">'the monster footprint of digital technology'.</a><br /><br />The following starts by looking at the available datasets and then investigates deriving figures for the embodied energy of a chip by calculation of the actual semiconductor volume contained which compares well for the small IC embodied energy value.<br /><br /><b>1) Datasets</b><br /><br /><b>EU Ecodesign methodology</b><br />The EU ecodesign methodology downloadable here <a href="http://ec.europa.eu/DocsRoom/documents/5308/attachments/1/translations/en/renditions/native">http://ec.europa.eu/DocsRoom/documents/5308/attachments/1/translations/en/renditions/native</a> provides embodied energy values for a variety of electronic component categories, it provides two embodied energy values for IC's (integrated circuits) these are:<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Large IC&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 8021.88 MJ/kg</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Small IC&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 1786.73 MJ/kg</span><br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">MJ/kg: 1,000,000 Joules per kg </span><br /><br />The question is what constitutes a small or large IC? Dimensions? processing power? and there is a large difference between both of these values!<br /><br />Another paper that lists sources for embodied energy values including the EU ecodesign dataset is this paper on the embodied energy of an offgrid light<a href="http://users.humboldt.edu/arne/Alstone_etal_Lumina-TR9-Embodied-Energy_Jan11.pdf">: http://users.humboldt.edu/arne/Alstone_etal_Lumina-TR9-Embodied-Energy_Jan11.pdf</a>. It lists two other useful values:<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Semiconductor Grade Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 35000 MJ/kg, Taiariol et al. 2001</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">EPROM Chip (M27C1001, 0.36 W IC)&nbsp;&nbsp; 12.5 MJ/chip,&nbsp; Taiariol et al. 2001</span><br /><br />Jean Claude Wippler of JeeLabs did an interesting post a couple of years ago on what is inside an ATmega8 chip. The Silicon part was extracted by dissolving the outer casing with sulphuric and nitric acid. <a href="http://jeelabs.org/2013/06/09/whats-inside-that-chip">http://jeelabs.org/2013/06/09/whats-inside-that-chip</a><br /><br />The size of the semiconductor part inside the ATmega8 is 2855 x 2795 um, less than 3x3mm:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-QvJnGzXeRLg/VZmgRUCvqgI/AAAAAAAATbM/Keu1ATBsQ0g/s1600/siliconchip.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="387" src="http://4.bp.blogspot.com/-QvJnGzXeRLg/VZmgRUCvqgI/AAAAAAAATbM/Keu1ATBsQ0g/s400/siliconchip.png" width="400" /></a></div><br />Is it possible to estimate the embodied energy of a microcontroller by working out the embodied energy of the silicon part and the casing part separately? and how would the figure compare with the embodied energy values given for a small and large IC in the EU ecodesign dataset?<br /><br /><b>Thickness</b><br />To find the embodied energy of the silicon part we need to first work out the weight of that part. To do this we will need the density and thickness of the silicon wafer. The thickness of a silicon wafer can be anywhere between 275um and 926um.<br /><br /><b>Density of silicon:</b> 2.3290 g.cm3 https://en.wikipedia.org/?title=Silicon<br /><br /><b>Weight</b><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">2855 x 2795 um x 275 um = 0.00219 cm3 x 2.329 g.m3 = 0.0051 g</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">2855 x 2795 um x 625 um = 0.00499 cm3 x 2.329 g.m3 = 0.0116 g</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">2855 x 2795 um x 926 um = 0.00739 cm3 x 2.329 g.m3 = 0.0172 g</span><br /><br />The embodied energy of silicon grade Si is around 35000 MJ/kg, 35 MJ/g<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></span><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">0.0051 g x 35MJ/g = 0.178 MJ = 0.049 kWh</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">0.0116 g x 35 MJ/g = 0.406 MJ = 0.113 kWh</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">0.0172 g x 35 MJ/g = 0.602 MJ = 0.167 kWh</span><br /><br />The weight of a SMT Atmega 328 is 0.14375g:<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Large IC: 8021.88 MJ/kg = 1.153 MJ = 0.320 kWh</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Small IC: 1786.73 MJ/kg = 0.257 MJ = 0.071 kWh</span><br /><br />The EPROM Chip (M27C1001, 0.36 W IC) example is 12.5 MJ/chip = 3.47 kWh<br />Which is between 10 and 50x the large/small IC estimates and 20 to 70x the wafer only estimates.<br /><br />The large IC is between 2x and 6x the wafer only and small IC is between 0.5x to 1.5x the wafer only estimate.<br /><br />The weight of the silicon part of the chip for the ATmega8 should be between 3.5% to 12% of the total chip weight.<br /><br />The rest of the weight is metal and plastic. Copper has an embodied energy of between 38MJ/kg and 142MJ/kg depending on manufacturing process and plastic is anywhere between 80-120MJ/kg. If we assume a copper/plastic mix of around 100MJ/kg as a rough estimate.<br /><br />This would then contribute an additional 0.0132 MJ = 0.0037 kWh which would only increase the embodied energy of the chip by around 2-7%.<br /><br />Our estimate therefore for the embodied energy of the small microcontroller is between 0.053 kWh and 0.171 kWh, mid range of 0.117 kWh for 625um wafer which compares well with the small IC estimate of 0.071 kWh (it is of the right magnitude). We would expect a certain amount of assembly energy for combining the plastic, copper and semiconductor parts which is not included when taking a constituent parts approach which will likely add a little more to the total.<br /><b><br />Package type?</b><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-WazQBqTygXI/VZm3wiRIuFI/AAAAAAAATbk/d2LwHZ6TahA/s1600/packagetype.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="125" src="http://3.bp.blogspot.com/-WazQBqTygXI/VZm3wiRIuFI/AAAAAAAATbk/d2LwHZ6TahA/s400/packagetype.jpg" width="400" /></a></div><br />Calculating the embodied energy this way brings up an important question about the package type of the IC, I.e how much plastic and connector metal surrounds the semiconductor core. If the size of the semiconductor inside a through-hole and SMT version of a ATmega328 is the same then surely a total weight based measure is not a good guide for the embodied energy. Given that over 90% the embodied energy is associated with 3.5 - 12% of the weight.<br /><br /><b>RaspberryPi chips</b><br />The ATmega8 or ATmega328 is not a particularly powerful chip, the emonpi also uses a RaspberryPi which has three chips on board.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-PdjkOiAbz6U/VZm2iti-xgI/AAAAAAAATbc/MFm6leg9lsI/s1600/Pi2ModB1GB_-comp.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="225" src="http://1.bp.blogspot.com/-PdjkOiAbz6U/VZm2iti-xgI/AAAAAAAATbc/MFm6leg9lsI/s400/Pi2ModB1GB_-comp.jpeg" width="400" /></a></div><br />Its not clear what the volumes of the semiconductors inside these chips are. But given their small size and relatively large processing power lets assume for an initial calculation that the size of the package is very close to the size of the semiconductor. If the wafer thickness is 625um then the embodied energy of the chips can be estimated as:<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></span><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Broadcom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 14 x 14 mm x 625um = ~2.8 kWh</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Elpida&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; 12 x 12 mm x 625um = ~2.0 kWh</span><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Smst&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 8.7 x 8.7 mm x 625um = ~1.1 kWh</span><br /><br />These estimates which cover a quad core 900Mhz + 1GB ram computer are much larger than the ATmega8 estimate as we would expect but are still significantly lower than the embodied energy figure given for the 32MB 2g memory chip referenced in the article on the <a href="http://www.lowtechmagazine.com/2009/06/embodied-energy-of-digital-technology.html">the monster footprint of digital technology</a> of 20 kWh - while delivering much more functionality, almost a full computer! <br /><br />Are these figures accurate? are the underlying datasets accurate for modern processors? Does it mean that newer miniaturised technology with the ability to pack much more computing power inside the same volume of semiconductor has resulted in a significant reduction in the embodied energy for equivalent amounts of computing digital technology functionality? These are all significant guesses at the moment and it would be really interesting and useful to see more open data available on the embodied energy of newer technology. It would be good to see greater interest from the manufacturers of these chips in calculating and giving information on the embodied energy of their products, making data available on this would really help with understanding this question about the impact of technology. 
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/07/open-source-circular-economy-oscedays/">Open Source Circular Economy OSCEdays - emonPi Embodied Energy </a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-07-05T19:48:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-07-05 19:48:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/embodied-energy/'>embodied energy</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2015/07/open-source-circular-economy-oscedays/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-P6V6jHZByMA/VZmH3t6iH8I/AAAAAAAATa8/Ji4-lP05LZk/s1600/oscedays.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="230" src="https://2.bp.blogspot.com/-P6V6jHZByMA/VZmH3t6iH8I/AAAAAAAATa8/Ji4-lP05LZk/s640/oscedays.png" width="640" /></a></div><br />Three weeks ago, time runs fast! I attended the open source circular economy event OSCEdays in London. It was a fantastic event with a lot of energy and ideas exploring how  the circular economy could benefit from an open source approach.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-_Gn7kS9kGMQ/VZl965UyCJI/AAAAAAAATak/UMpLQ-RQ6-E/s1600/oscedays.jpeg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="260" src="https://2.bp.blogspot.com/-_Gn7kS9kGMQ/VZl965UyCJI/AAAAAAAATak/UMpLQ-RQ6-E/s400/oscedays.jpeg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">OSCEdays at FabLab London</td><td class="tr-caption" style="text-align: center;"></td><td class="tr-caption" style="text-align: center;"></td><td class="tr-caption" style="text-align: center;"><br /></td><td class="tr-caption" style="text-align: center;"><br /></td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-iVHrLVdqWpY/VZl_FM3RFkI/AAAAAAAATas/FpO29-jdQSo/s1600/bda5d194978a0361.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="180" src="https://1.bp.blogspot.com/-iVHrLVdqWpY/VZl_FM3RFkI/AAAAAAAATas/FpO29-jdQSo/s400/bda5d194978a0361.png" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><a href="http://openenergymonitor.blogspot.co.uk/2015/06/investigating-embodied-energy-of-emonpi.html">Initial draft embodied energy analysis of the emonpi</a></td></tr></tbody></table>There was a wide range of challenges and projects there including: circular makerspaces submitted by <a href="http://www.greatrecovery.org.uk/">the great recovery</a> looking at how fablab's and makerspaces could encourage circular thinking, an initiative developing re-usable containers for cosmetics, a challenge looking at the implications of the circular economy for wearable technologies, 'trust is not waste' by <a href="http://www.therubbishdiet.org.uk/">the rubbish diet project</a> and ours looking at the embodied energy and lifecycle analysis of the OpenEnergyMonitor EmonPi.<br /><br />Id like to thank Rachel Stanley, David Green, WoonTan and Paidi Creed for all their help and input and for Erica Purvis and Sharon Prendeville for organising the event and the wider team that where involved in running the event in many other cities around the world.<br /><br />Our discussions and findings are partly documented here, there's also a bit more that needs writing up which will be online soon: <a href="http://community.oscedays.org/t/headline-challenge-open-energy-life-cycles/662/2">http://community.oscedays.org/t/headline-challenge-open-energy-life-cycles/662/2</a>.<br /><br />The research that I did on the embodied energy of the emonpi in the lead up to the event can be found here: <a href="http://openenergymonitor.blogspot.co.uk/2015/06/investigating-embodied-energy-of-emonpi.html">http://openenergymonitor.blogspot.co.uk/2015/06/investigating-embodied-energy-of-emonpi.html</a><i> </i><br /><br />We are really interested in the lifecycle impacts and embodied energy side of OpenEnergyMonitor and so were going to keep building on this. I've almost finished a post that looks at the embodied energy calculation for the emonpi microcontroller and raspberrypi chips in more detail which will be up soon.<br /><br />If your interested in embodied energy, lifecycle impacts, the circular economy and how open source could play a part do check out OSCEdays <a href="https://oscedays.org/">https://oscedays.org</a>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2015/07/open-source-hourly-zero-carbon-energy/">Open source hourly zero carbon energy model, combining traditional electric, heating and electric vehicle demand.</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2015-07-04T13:20:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2015-07-04 13:20:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> four minutes reading time</span> <br>
     <br>
    
      <a class='comments'
         href="/2015/07/open-source-hourly-zero-carbon-energy/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    The last 6 zero carbon energy model examples (linked below) have explored the core parts of a household energy model looking at supply and demand including the electrification of space heating demand and transport demand so that it can be provided for with renewable electricity.<br /><br />This final model in this series  brings all these components together to see how the combination of  demands interact and how they affect the supply and demand matching.<br /><br />It also explores the contribution of two small scale stores a 7kWh electrical store (such as a Tesla power wall) and a 10kWh heatstore.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-BRUPMwiPZsE/VZfRMe-vH7I/AAAAAAAATSs/oZCasHAvinI/s1600/all.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="342" src="http://4.bp.blogspot.com/-BRUPMwiPZsE/VZfRMe-vH7I/AAAAAAAATSs/oZCasHAvinI/s640/all.png" width="640" /></a></div><br /><div class="separator" style="clear: both; text-align: left;"><b>The interactive modelling tool can be opened here: </b></div><div class="separator" style="clear: both; text-align: left;"><b>Online tool:</b> <a href="http://openenergymonitor.org/energymodel">http://openenergymonitor.org/energymodel</a> &gt; navigate to <i>7. All</i></div><br />The following table show the results in terms of percentage of demand supplied directly of running the model with different electric vehicle charging profiles, and storage options. There is a small 4% oversupply.<br /><br /><table class="table"> <tbody><tr><td><b>No stores</b></td><td></td></tr><tr><td>4% OS + night charging</td><td>62.3%</td></tr><tr><td>4% OS + 1/2day 1night charging</td><td>76.2%</td></tr><tr><td>4% OS + flat charging</td><td>78.3%</td></tr><tr><td>4% OS + smartcharging</td><td>86.3%</td></tr><tr><td><b>Liion store</b></td><td></td></tr><tr><td>4% OS + night charging + 7 kWh li-ion store</td><td>84.4%</td></tr><tr><td>4% OS + 1/2day 1night charging + 7 kWh li-ion store</td><td>86.0%</td></tr><tr><td>4% OS + flat charging + 7 kWh li-ion store</td><td>86.2%</td></tr><tr><td>4% OS + smart charging + 7 kWh li-ion store</td><td>88.6%</td></tr><tr><td><b>Heatstore</b></td><td></td></tr><tr><td>4% OS + night charging + 10 kWh heatstore</td><td>70.2%</td></tr><tr><td>4% OS + 1/2day 1night charging + 10 kWh heatstore</td><td>81.0%</td></tr><tr><td>4% OS + flat charging + 10 kWh heatstore</td><td>82.4%</td></tr><tr><td>4% OS + smartcharging + 10 kWh heatstore</td><td>87.5%</td></tr><tr><td><b>Liion + heatstore</b></td><td></td></tr><tr><td>4% OS + 7 kWh li-ion store + 10 kWh heatstore + nightcharging</td><td>85.5%</td></tr><tr><td>4% OS + 7 kWh li-ion store + 10 kWh heatstore + 1/2d 1n</td><td>86.9%</td></tr><tr><td>4% OS + 7 kWh li-ion store + 10 kWh heatstore + flatcharging</td><td>87.1%</td></tr><tr><td>4% OS + 7 kWh li-ion store + 10 kWh heatstore + smartcharging</td><td>89.3%</td></tr></tbody></table><br />Its interesting that a matching of 89.3% can be achieved with 7 kWh li-ion store, 10 kWh heatstore and electric car smartcharging up from a minimum of 62.3% with no stores and night time charging only. I think its quite impressive and encouraging that this high a level of matching can be achieved from a relatively small amount of storage and that 86% can be achieved with the smartcharging option only.<br /><br />There are clearly different routes possible to achieve higher degree's of matching. If smart charging is technically possible with the flexibility used within the model and that it doesn’t provide too much of a burden on the user and only requires potentially a relatively small amount of electronics, embodied energy and cost compared to the li-ion store and heatstore then smart charging may be a more effective option.<br /><br />A li-ion store and flat rate charging provides about the same benefit as smart charging and so if smart charging does not pan out to be practical then there may be an option to make up for it with a li-ion store, especially if the embodied energy and cost of storage reduces significantly.<br /><br />The combination of measures provide smaller gains (if you apply smart charging first then the li-ion store only provides ~3% additional gains, however if you apply the li-ion first it looks like its the smart charging that only provides the small gain). Perhaps an important aspect is that a combination could provide important redundancy. It looks worthwhile to explore and develop each of the above solutions with a focus on how they integrate, the flexibility at which they can match supply, their costs and embodied energy. <br /><br />The other blog posts in this series are linked below and the next model will explore the use of large capacity energy stores such as power to gas to reach 100% supply/demand matching. All the modelling behind this work is open source and available on github here: https://github.com/TrystanLea/zcem&nbsp; <br /><ul><li><a href="http://openenergymonitor.blogspot.com/2015/06/modelling-hourly-demand-and-supply-for.html">Modelling hourly demand and supply for renewable powered domestic electricity, heating with heatpumps and electric vehicles</a>&nbsp;</li><li><a href="http://openenergymonitor.blogspot.com/2015/06/hourly-energy-model-example-1-variable.html">Hourly energy model example 1: Variable Supply</a>&nbsp;</li><li><a href="http://openenergymonitor.blogspot.com/2015/06/hourly-energy-model-example-2-variable.html">Hourly energy model example 2: Variable supply and flat demand (python code included)</a>&nbsp;</li><li><a href="http://openenergymonitor.blogspot.com/2015/06/hourly-energy-model-example-3-variable.html">Hourly energy model example 3: Variable supply and traditional electricity demand</a>&nbsp;</li><li><a href="http://openenergymonitor.blogspot.com/2015/06/hourly-energy-model-example-4.html">Hourly energy model example 4: Complementarity of different renewable generating technologies</a>&nbsp;</li><li><a href="http://openenergymonitor.blogspot.com/2015/06/hourly-energy-model-example-5-simple.html">Hourly energy model example 5: Simple space heating model with heatpump's powered by renewable energy</a>&nbsp;</li><li><a href="http://openenergymonitor.blogspot.com/2015/07/hourly-energy-model-example-5-electric.html">Hourly energy model example 6: Electric vehicles and a renewable energy supply</a></li></ul>
    
  </div>
  </article>
  <hr>
  
 
  <div class="pagination">
    
      <a class="btn pull-left" href="/posts/4">&larr; Older</a>
    

    
    <a class="btn pull-right" href="/posts/2">Newer &rarr;</a>
    
  </div>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">

  
  
  
     <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Categories</h1>
  <ul class="divided">
    
    
      <li><a href="/categories/air quality egg/">Air Quality Egg</a></li>
    
      <li><a href="/categories/android/">Android</a></li>
    
      <li><a href="/categories/antenna/">Antenna</a></li>
    
      <li><a href="/categories/building energy modelling/">Building Energy Modelling</a></li>
    
      <li><a href="/categories/china/">China</a></li>
    
      <li><a href="/categories/christmas/">Christmas</a></li>
    
      <li><a href="/categories/course/workshop/">Course/Workshop</a></li>
    
      <li><a href="/categories/dc/">DC</a></li>
    
      <li><a href="/categories/dc current sensing/">DC current sensing</a></li>
    
      <li><a href="/categories/esp8266/">ESP8266</a></li>
    
      <li><a href="/categories/heat pump/">Heat Pump</a></li>
    
      <li><a href="/categories/kaizen/">Kaizen</a></li>
    
      <li><a href="/categories/kicad/">KiCad</a></li>
    
      <li><a href="/categories/mqtt/">MQTT</a></li>
    
      <li><a href="/categories/nanoderf/">NanodeRF</a></li>
    
      <li><a href="/categories/nodered/">NodeRed</a></li>
    
      <li><a href="/categories/oem labs/">OEM Labs</a></li>
    
      <li><a href="/categories/okg/">OKG</a></li>
    
      <li><a href="/categories/oscilloscope/">Oscilloscope</a></li>
    
      <li><a href="/categories/rfm12/">RFM12</a></li>
    
      <li><a href="/categories/rfm69/">RFM69</a></li>
    
      <li><a href="/categories/rs485/">RS485</a></li>
    
      <li><a href="/categories/sap 2012/">SAP 2012</a></li>
    
      <li><a href="/categories/shw/">SHW</a></li>
    
      <li><a href="/categories/srf/">SRF</a></li>
    
      <li><a href="/categories/tasker/">Tasker</a></li>
    
      <li><a href="/categories/app/">app</a></li>
    
      <li><a href="/categories/arduino/">arduino</a></li>
    
      <li><a href="/categories/award/">award</a></li>
    
      <li><a href="/categories/backup/">backup</a></li>
    
      <li><a href="/categories/batteries/">batteries</a></li>
    
      <li><a href="/categories/benchmarking/">benchmarking</a></li>
    
      <li><a href="/categories/build sesh/">build sesh</a></li>
    
      <li><a href="/categories/business/">business</a></li>
    
      <li><a href="/categories/ciseco/">ciseco</a></li>
    
      <li><a href="/categories/community energy/">community energy</a></li>
    
      <li><a href="/categories/control/">control</a></li>
    
      <li><a href="/categories/current sensor/">current sensor</a></li>
    
      <li><a href="/categories/current transformer/">current transformer</a></li>
    
      <li><a href="/categories/dashboard/">dashboard</a></li>
    
      <li><a href="/categories/display/">display</a></li>
    
      <li><a href="/categories/diy drones/">diy drones</a></li>
    
      <li><a href="/categories/documentation/">documentation</a></li>
    
      <li><a href="/categories/efergy/">efergy</a></li>
    
      <li><a href="/categories/electronics/">electronics</a></li>
    
      <li><a href="/categories/elektrocamp/">elektrocamp</a></li>
    
      <li><a href="/categories/email notifications/">email notifications</a></li>
    
      <li><a href="/categories/embodied energy/">embodied energy</a></li>
    
      <li><a href="/categories/emonbase/">emonBase</a></li>
    
      <li><a href="/categories/emonctrl/">emonCtrl</a></li>
    
      <li><a href="/categories/emonglcd/">emonGLCD</a></li>
    
      <li><a href="/categories/emonpi/">emonPi</a></li>
    
      <li><a href="/categories/emonth/">emonTH</a></li>
    
      <li><a href="/categories/emontx/">emonTx</a></li>
    
      <li><a href="/categories/emontx v2/">emonTx V2</a></li>
    
      <li><a href="/categories/emontxsmt/">emonTxSMT</a></li>
    
      <li><a href="/categories/emontxshield/">emonTxShield</a></li>
    
      <li><a href="/categories/emoncms/">emoncms</a></li>
    
      <li><a href="/categories/end-to-end/">end to end</a></li>
    
      <li><a href="/categories/energy monitor/">energy monitor</a></li>
    
      <li><a href="/categories/energy monitoring/">energy monitoring</a></li>
    
      <li><a href="/categories/feed storage/">feed storage</a></li>
    
      <li><a href="/categories/github/">github</a></li>
    
      <li><a href="/categories/graphing/">graphing</a></li>
    
      <li><a href="/categories/hackathon/">hackathon</a></li>
    
      <li><a href="/categories/hall effect/">hall effect</a></li>
    
      <li><a href="/categories/hardware/">hardware</a></li>
    
      <li><a href="/categories/heating/">heating</a></li>
    
      <li><a href="/categories/home assistant/">home Assistant</a></li>
    
      <li><a href="/categories/home camp/">home camp</a></li>
    
      <li><a href="/categories/humidity/">humidity</a></li>
    
      <li><a href="/categories/integrations/">integrations</a></li>
    
      <li><a href="/categories/interface/">interface</a></li>
    
      <li><a href="/categories/interview/">interview</a></li>
    
      <li><a href="/categories/java/">java</a></li>
    
      <li><a href="/categories/job/">job</a></li>
    
      <li><a href="/categories/kickstarter/">kickstarter</a></li>
    
      <li><a href="/categories/linux/">linux</a></li>
    
      <li><a href="/categories/logo/">logo</a></li>
    
      <li><a href="/categories/manufacturing/">manufacturing</a></li>
    
      <li><a href="/categories/measurement/">measurement</a></li>
    
      <li><a href="/categories/media/">media</a></li>
    
      <li><a href="/categories/mobile/">mobile</a></li>
    
      <li><a href="/categories/modbus/">modbus</a></li>
    
      <li><a href="/categories/nanode/">nanode</a></li>
    
      <li><a href="/categories/open source/">open source</a></li>
    
      <li><a href="/categories/openhab/">openHAB</a></li>
    
      <li><a href="/categories/openenergymonitor/">openenergymonitor</a></li>
    
      <li><a href="/categories/optical pulse/">optical pulse</a></li>
    
      <li><a href="/categories/pcb/">pcb</a></li>
    
      <li><a href="/categories/pebble/">pebble</a></li>
    
      <li><a href="/categories/pluse/">pluse</a></li>
    
      <li><a href="/categories/presentation/">presentation</a></li>
    
      <li><a href="/categories/raspberry pi/">raspberry pi</a></li>
    
      <li><a href="/categories/renewable/">renewable</a></li>
    
      <li><a href="/categories/serial/">serial</a></li>
    
      <li><a href="/categories/shop/">shop</a></li>
    
      <li><a href="/categories/showcase/">showcase</a></li>
    
      <li><a href="/categories/smartwatch/">smartwatch</a></li>
    
      <li><a href="/categories/social energy monitoring/">social energy monitoring</a></li>
    
      <li><a href="/categories/solarpv/">solarPV</a></li>
    
      <li><a href="/categories/sparkfun/">sparkfun</a></li>
    
      <li><a href="/categories/sustainability/">sustainability</a></li>
    
      <li><a href="/categories/temperature/">temperature</a></li>
    
      <li><a href="/categories/three phase/">three phase</a></li>
    
      <li><a href="/categories/tutorials/">tutorials</a></li>
    
      <li><a href="/categories/upgrade/">upgrade</a></li>
    
      <li><a href="/categories/utility meters/">utility meters</a></li>
    
      <li><a href="/categories/voltage sensing/">voltage sensing</a></li>
    
      <li><a href="/categories/wind/">wind</a></li>
    
      <li><a href="/categories/wind turbine/">wind turbine</a></li>
    
      <li><a href="/categories/wireless/">wireless</a></li>
    
      <li><a href="/categories/workshop/">workshop</a></li>
    
  </ul>
</section>
  
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright">
  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor'><i class="icon-github"></i></a>
  <a rel="me" href='http://blog.openenergymonitor.org/atom.xml'><i class="icon-rss"></i></a>

  <div class="credit">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and the <a href='https://github.com/coogie/oscailte'>Oscalite theme</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>
</div>
    </div>
  </div>
</div>
    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script>
  var _gaq=[['_setAccount','UA-10321170-4'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
<script>
  var disqus_shortname = 'openenergymonitor';
  
    
    var disqus_script = 'count.js';
  
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>


<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

  </body>
</html>