---
layout: post
title: 'New emoncms features part 1: blue message bar'
date: '2012-02-18T14:14:00.000-08:00'
author: Trystan Lea
categories:
- emoncms
modified_time: '2012-02-28T18:19:55.746-08:00'
thumbnail: http://2.bp.blogspot.com/-XwN8DaZEyjE/T0AeWhkvpMI/AAAAAAAACXo/WpPIvGWjbus/s72-c/bluebar.png
blogger_id: tag:blogger.com,1999:blog-2472065242652647619.post-3603464305969694026
blogger_orig_url: http://blog.openenergymonitor.org/2012/02/new-emoncms-features-part-1-blue.html
---

Spent a bit of time implementing new features for emoncms today, the first one was a much needed but quite small addition: a themed location to output messages such as "user already exists" and so on, see the blue bar in the screen below:<br /><br /><a href="http://2.bp.blogspot.com/-XwN8DaZEyjE/T0AeWhkvpMI/AAAAAAAACXo/WpPIvGWjbus/s1600/bluebar.png"><img border="0" src="http://2.bp.blogspot.com/-XwN8DaZEyjE/T0AeWhkvpMI/AAAAAAAACXo/WpPIvGWjbus/s400/bluebar.png" /></a><br /><br />Try it out here: <a href="http://vis.openenergymonitor.org/emoncms3/">http://vis.openenergymonitor.org/emoncms3/</a><br /><br /><b>How it works</b><br /><br />If you have a look at the user_controller here<a href="https://github.com/openenergymonitor/emoncms3/blob/master/Controllers/user_controller.php"> github user_controller.php</a><br />On line 28 and 29 you will see the following:<br /><br />$output['content'] = "";<br />$output['message'] = "";<br />(ie line 65) $output['message'] = "Your new account has been created";<br /><br />The returned output from the controllers used to be just the one variable $output now we have two, one for main body content output and the other for message bar output. These variables are passed through <a href="https://github.com/openenergymonitor/emoncms3/blob/master/index.php">index.php</a> to the theme The <a href="https://github.com/openenergymonitor/emoncms3/blob/master/Views/theme/dark/theme.php">theme</a> then places the message and content in separately themed locations.