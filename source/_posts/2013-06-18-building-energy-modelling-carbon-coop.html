---
layout: post
title: Building Energy Modelling part 3 - Carbon Coop and Open Source SAP 2012
date: '2013-06-18T08:04:00.001-07:00'
author: Trystan Lea
categories:
- Building Energy Modelling
- SAP 2012
modified_time: '2013-06-18T08:15:34.065-07:00'
thumbnail: http://4.bp.blogspot.com/-7UroBv-w9fI/UcBz1Sz58BI/AAAAAAAACsI/MB8IWLoUygc/s72-c/householdenergyreport.png
blogger_id: tag:blogger.com,1999:blog-2472065242652647619.post-3178666503556350110
blogger_orig_url: http://openenergymonitor.blogspot.com/2013/06/building-energy-modelling-carbon-coop.html
---

Continuing from the <a href="http://openenergymonitor.blogspot.com/2013/06/building-energy-modelling-part-2-first.html">last post</a> on building energy modelling. Fast forward to late 2012 when I met Matt Fawcett of Carbon Coop and heard at length about all the exciting work they are doing around retrofit, see the blog here: <a href="http://openenergymonitor.blogspot.co.uk/2013/05/carbon-coop.html">http://openenergymonitor.blogspot.co.uk/2013/05/carbon-coop.html</a><br /><br />As I mentioned in the post Carbon coop and their technical partners URBED have put a lot of work into an assessment method for assessing a households suitability for retrofit work, working out a list of measures including full details and costings, how a household can achieve 60-80% carbon reduction. Their assessment method is based on SAP 2012 and was implemented by <a href="http://www.urbed.coop/team/charlie-baker">Charlie Baker</a> of URBED in a Mac Numbers spreadsheet.<br /><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-7UroBv-w9fI/UcBz1Sz58BI/AAAAAAAACsI/MB8IWLoUygc/s1600/householdenergyreport.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://4.bp.blogspot.com/-7UroBv-w9fI/UcBz1Sz58BI/AAAAAAAACsI/MB8IWLoUygc/s320/householdenergyreport.png" width="229" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://carbon.coop/assessments/CC_EXAMPLE_ASSESSMENT2.pdf" style="-webkit-transition: color 0.3s; background-color: #fafafa; color: #009eb8; display: inline; font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 19px; outline: none; text-align: justify; text-decoration: initial;">http://carbon.coop/assessments/CC_EXAMPLE_ASSESSMENT2.pdf</a></div><div><br />Matt explained that to take things further they wanted to integrate the monitoring with the assessments in order to be able to reduce assumptions used and that they thought that longer term an open source online version of the retrofit&nbsp;assessment&nbsp;method would be key to make retrofit more accessible and open for a greater number of people.<br /><br />At home I also wanted to move forward with this idea of being able to use monitoring combined with a building energy model to understand the current building fabric performance at home and the lab and get a better understanding of what the effect would be of adding insulation and draught proofing.<br /><br />And so Matt and I started the process of converting the <a href="http://www.bre.co.uk/filelibrary/SAP/2012/Draft_SAP_2012_December_2011.pdf">SAP 2012 pdf worksheet</a> specification into a open source javascript web application which as a first draft is now about 90% complete, its implemented as an emoncms module so that as it develops we could easily pull in monitored data sets such as the actual average monthly internal temperature in the building, actual electricity consumption for internal gains and so on.&nbsp;</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-1Whrj9OmwX4/UcB0gKVdx6I/AAAAAAAACsQ/1FVjeZoMI28/s1600/rating.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="251" src="http://4.bp.blogspot.com/-1Whrj9OmwX4/UcB0gKVdx6I/AAAAAAAACsQ/1FVjeZoMI28/s400/rating.png" width="400" /></a></div><div><br /><div><br />The module source code can be found on github here: <a href="http://github.com/emoncms/sap">github.com/emoncms/sap</a><br /><br />Try it out on emoncms.org here:<a href="http://emoncms.org/sap"> http://emoncms.org/sap</a>&nbsp;(no need to login)<br /><br />Most of the calculations can be found in the javascript file <a href="https://github.com/emoncms/sap/blob/master/equations.js">equations.js </a>and associated functions in solar.js, windowgains.js and utilisationfactor.js. The interface pages can be found in the folder named compiled (which&nbsp;isn't&nbsp;a&nbsp;particularly&nbsp;good name any more, a remnant from earlier development). The file sap_view.php is what ties it all&nbsp;together&nbsp;loading the equations.js and the relevant page interface. <br /><br />Having got this far with the implementation and understanding better the requirements, what calculations are needed etc, its becoming clearer that the current implementation really needs a round of&nbsp;re-factoring&nbsp;to make it easier to develop with going forward. <br /><br />The SAP model lends it self well to be broken down into a series of sub-modules, so rather than have all calculations in one file, the various parts of the calculation and related interfaces are broken out into&nbsp;separate&nbsp;modules with clear inputs and outputs and the possibility of being able to interchange these sub-modules, you could decide to use the SAP internal temperature estimation sheet/model or bring that in from monitored data for example. <br /><br />So&nbsp;that's&nbsp;pretty much the state of development on this at the moment. The<a href="http://openenergymonitor.blogspot.com/2013/06/carbon-coop-and-houseahedron-meetup.html"> recent meetup with Houseahedron</a>&nbsp;couldn't&nbsp;really have come with better timing as Matt and I had just been chatting about where this could lead in the future and what would be really cool to have, we where saying how nice it would be if the building thermal data could be visualised in 3D but thought that would be something a long way down the line, it was literally a couple of week later that the Houseahedron team got in contact saying they where going to be developing just this and all open source. With a larger team of us, with different&nbsp;skill-sets&nbsp;working on this, I think this could turn out to be a really&nbsp;useful&nbsp;tool that&nbsp;integrates&nbsp;well with monitoring to allows us to better quantify the performance of&nbsp;buildings&nbsp;and the effect of implementing various measures, exciting stuff!</div></div>