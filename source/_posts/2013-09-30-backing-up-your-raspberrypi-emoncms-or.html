---
layout: post
title: Backing up your raspberrypi emoncms or emoncms.org account
date: '2013-09-30T13:00:00.002-07:00'
author: Trystan Lea
categories:
- backup
- emoncms
modified_time: '2013-10-16T04:11:56.140-07:00'
thumbnail: http://3.bp.blogspot.com/-MIl8j4hmkjA/UknQBGmTKMI/AAAAAAAACxE/QOk0JRh5EKQ/s72-c/backup.png
blogger_id: tag:blogger.com,1999:blog-2472065242652647619.post-4213119620761588387
blogger_orig_url: http://openenergymonitor.blogspot.com/2013/09/backing-up-your-raspberrypi-emoncms-or.html
---

<div class="separator" style="clear: both; text-align: left;">I've added a couple of scripts to the emoncms usefulscripts directory that makes backing up an emoncms account whether on a local raspberrypi or emoncms.org much easier than the sync module solution, although still not as easy as I would like it to be, I would like setting up a backup to be as easy as installing a dropbox client.&nbsp;</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">The scripts work with Linux at the moment, hopefully soon I'l get a solution running on Windows. I would highly recommend keeping your own backup of your data, a backup of your emoncms data on your main computer can also be useful for both quicker access to the data and doing additional analysis of the data.</div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-MIl8j4hmkjA/UknQBGmTKMI/AAAAAAAACxE/QOk0JRh5EKQ/s1600/backup.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="238" src="http://3.bp.blogspot.com/-MIl8j4hmkjA/UknQBGmTKMI/AAAAAAAACxE/QOk0JRh5EKQ/s640/backup.png" width="640" /></a></div><b>1) Install emoncms</b> <b>on your backup machine</b> following the guide here:&nbsp;<a href="http://emoncms.org/site/docs/installlinux">http://emoncms.org/site/docs/installlinux</a><br />Create an account and note down your mysql credentials.<br /><br /><b>2) Download the usefulscripts repository</b><br /><a href="https://github.com/emoncms/usefulscripts">https://github.com/emoncms/usefulscripts</a><br /><br />There are two scripts available under usefulscripts/replication<br /><br /><ul><li>import_full.php</li><li>import_inputs.php</li></ul><br />3) Try<b> importing your inputs</b> first to test that it works: Open to edit <i>import_inputs.php</i>.<br />Set your mysql database name, username and password, the same credentials as for the settings.php step of the emoncms installation. Set the $server variable to the location of the raspberrypi or emoncms.org account you want to backup and set the $apikey to the write apikey of that account.<br /><br />In terminal, goto the usefulscripts/replication directory. Run import_inputs.php:<br /><br />&nbsp; &nbsp; php import_inputs.php<br /><br />If successful you should now see your input list and all input processing information backed up in your local emoncms account.<br /><br /><b>4) Backup all your feed data:</b><br /><br />As for importing inputs open import_full.php and set the database credentials and remote emoncms account details.<br /><br />Run the backup script with <b>sudo</b><br /><b><br /></b>&nbsp; &nbsp; sudo php import_full.php<br /><br />That's it, it should now work through all your feeds whether mysql or timestore (no phptimeseries support yet) making a local backup. When you first run this script it can take a long time. When you run this script again it will only download the most recent data and so will complete much faster. I run this script once every few days to keep an up-to-date backup.