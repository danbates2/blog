---
layout: post
title: All Power Labs
date: '2010-04-29T08:59:00.000-07:00'
author: Trystan Lea
categories: 
modified_time: '2010-04-29T09:14:48.215-07:00'
thumbnail: http://2.bp.blogspot.com/_Yqa3j9ZhET8/S9muSYZND8I/AAAAAAAAB2w/cQ4wqUUxsZc/s72-c/DSCF8435.JPG
blogger_id: tag:blogger.com,1999:blog-2472065242652647619.post-7613854424478849297
blogger_orig_url: http://blog.openenergymonitor.org/2010/04/all-power-labs.html
---

<span class="Apple-style-span" style="color: rgb(0, 0, 0); -webkit-text-decorations-in-effect: none; ">A couple of weeks ago I visited </span><a href="http://www.allpowerlabs.org/">All Power Labs</a> over in Berkeley CA on the recommendation of<a href="http://sustburbia.blogspot.com/"> Ken Boak</a> who went over there for a workshop in March. All power labs are:<br /><div><br /></div><div><i>“..an incubator for open source energy experiments and distributed manufacturing solutions. We work to generate physical tools and information resources for people exploring alterative energy through DIY innovation and online collaboration. We believe that a bottom up, participatory ecology in energy is just as possible as it has been in computing. And we expect the impact of such creative self-determination will be no less transforming than its been in digital realms.”</i></div><div><br /></div><div>Their current main project is called the <a href="http://www.gekgasifier.com/">GEK gasifier</a>, (Gasifiers Experimenters Kit). The GEK gasifier converts biomass (woodchip etc) into wood gas, this gas can then be run in a car or burned for heating or used to generate electricity by running a gas turbine (they have a gas turbine!)+ generator or internal combustion engine + generator. The gasifier+engine+generator combination is called the Power pallet and can produce 10kW. </div><div><br /></div><div>Bear Kaufmann who is investigating the performance of the system was looking for energy monitoring equipment and so Mario and I went over to see the operation and work with Bear on getting some energy monitoring working.</div><div><br /></div><div><a href="http://2.bp.blogspot.com/_Yqa3j9ZhET8/S9muSYZND8I/AAAAAAAAB2w/cQ4wqUUxsZc/s1600/DSCF8435.JPG"><img src="http://2.bp.blogspot.com/_Yqa3j9ZhET8/S9muSYZND8I/AAAAAAAAB2w/cQ4wqUUxsZc/s400/DSCF8435.JPG" border="0" alt="" id="BLOGGER_PHOTO_ID_5465591253599850434" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 400px; height: 300px; " /></a></div><div><br /></div><div>The generator they are using is a single phase 3-wire generator that is effectively the same configuration as household electrical wiring in the states. The energy monitoring setup therefore consisted of 2 CT sensors for current measurement: one for each leg a step down transformer for voltage measurement.</div><div><br /></div><div><a href="http://2.bp.blogspot.com/_Yqa3j9ZhET8/S9muiFxmL-I/AAAAAAAAB24/3a6HKIwdaqk/s1600/DSCF8448.JPG"><img src="http://2.bp.blogspot.com/_Yqa3j9ZhET8/S9muiFxmL-I/AAAAAAAAB24/3a6HKIwdaqk/s400/DSCF8448.JPG" border="0" alt="" id="BLOGGER_PHOTO_ID_5465591523479793634" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 400px; height: 300px; " /></a></div><div><br /></div><div>The power pallet has a<a href="http://gekgasifier.pbworks.com/Gasifier-Control-Unit"> gasifier control unit (GCU) </a>which is based on the Atmel ATmega 1280 which is used in the Arduino Mega and so the unit is compatible with and uses the Arduino IDE for programming. The GCU has a lot of things happening on it: it monitors temperatures and pressures and controls things like flow to keep the gasifier working efficiently, there are critical servo updates that happen about every 20ms and so the main challenge of the visit was to try to fit the energy monitoring on to the GCU, to fit the real power, apparent power, powerfactor, vrms, irms sampling and calculation into those 20ms time slots. Up until now I have usually had the arduino dedicate around a second to make these measurements and so the question was could we squash the energy monitoring down and still get accurate results. Luckily we found we could do this, by taking one wavelength long samples and then averaging around 10 of these one wavelength samples to get a more stable result and so now the power output and efficiency of the power pallet can be tested with out a lot of extra equipment just a couple of sensors, resistors and capacitors connected to the GCU.</div><div><br /></div><div>Here's a test output with different loads:</div><div><span class="Apple-style-span"  style="color:#0000EE;"><u><span class="Apple-style-span"  style="color:#000000;"><br /></span></u></span></div><div><a href="http://2.bp.blogspot.com/_Yqa3j9ZhET8/S9mvgW35WQI/AAAAAAAAB3A/OOPQ572zGAE/s1600/realpower_test_20100419-500.jpg"><img src="http://2.bp.blogspot.com/_Yqa3j9ZhET8/S9mvgW35WQI/AAAAAAAAB3A/OOPQ572zGAE/s400/realpower_test_20100419-500.jpg" border="0" alt="" id="BLOGGER_PHOTO_ID_5465592593221507330" style="display: block; margin-top: 0px; margin-right: auto; margin-bottom: 10px; margin-left: auto; text-align: center; cursor: pointer; width: 400px; height: 87px; " /></a></div><div><br /></div><div>For more information have a look at Bear's post and write up here: <a href="http://gekgasifier.com/forums/showthread.php?p=1295#post1295">http://gekgasifier.com/forums/showthread.php?p=1295#post1295</a></div><br /><br />I will also try to upload the code for single phase 3-wire and the one wavelength sampling soon as I get a chance.