---
layout: post
title: Emonhub installation/update, replacing the PHP raspberrypi emoncms module
date: '2014-10-24T03:58:00.000-07:00'
author: Trystan Lea
categories:
- emoncms
- raspberry pi
modified_time: '2014-10-26T11:05:11.709-07:00'
blogger_id: tag:blogger.com,1999:blog-2472065242652647619.post-7775025061103376896
blogger_orig_url: http://blog.openenergymonitor.org/2014/10/emonhub-installationupdate-replacing.html
---

From Paul Reed's post on the forums here: <br /><a href="http://openenergymonitor.org/emon/node/5986">http://openenergymonitor.org/emon/node/5986</a><br /><br />Emonhub is now the recommended method of interfacing a rfm12pi to a local or remote emoncms install, and replaces the PHP and Python scripts which we have previously used.<br /><br /><i>Update: This blog post refers to installing emonHub on existing system, if setting up a new system <a href="https://github.com/emoncms/emoncms/blob/bufferedwrite/docs/setup.md">downloading the ready-to-go pre-built RaspberryPi image</a> is the easiest way to get started.</i><br /><br />Thanks to Paul Burnell, the author of emonhub, installation of emonhub can be achieved via a command line, which clones an installation script to automate the installation process. <br /><br />To install emonhub:<br /><br />$ git clone <a href="https://github.com/emonhub/dev-emonhub.git">https://github.com/emonhub/dev-emonhub.git</a> ~/dev-emonhub &amp;&amp; ~/dev-emonhub/install<br /><br />If you have the raspberry pi module already installed, it's important that it is removed prior to installing emonhub, as only one software can use the serial UART the RFM2Pi is connected to at any one time.<br /><br />To remove the existing module, and then install emonhub, enter the following command line;  <br /><br />$ git clone <a href="https://github.com/emonhub/dev-emonhub.git">https://github.com/emonhub/dev-emonhub.git</a> ~/dev-emonhub &amp;&amp; ~/dev-emonhub/upgrade<br /><br />You will notice that after running this command, that emoncms will stop updating, this is expected until the configuration file is updated as follows;  <br /><br />$ nano /etc/emonhub/emonhub.conf<br /><br />Enter your emoncms read/write api key in [[[runtimesettings]]] and also enter your rfm2pi frequency, group &amp; base id under [[[runtimesettings]]] <br />Save your settings, and; $ sudo service emonhub restart<br /><br />Problems?<br />View the error log; $ tail -f /var/log/emonhub/emonhub.log<br /><br />By default this is set to record 'WARNING', however this can be changed to either - DEBUG, INFO, WARNING, ERROR, and CRITICAL by editing the configuration file. <br /><br />Paul <br /><br /><b>NOTE - </b>This update will not orphan or alter your input processes, feeds, visualizations or feed data, as it only changes the way in which data is fed to emoncms. 