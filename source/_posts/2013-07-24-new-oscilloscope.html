---
layout: post
title: New Oscilloscope - RFM12B Power Consumption
date: '2013-07-24T07:25:00.000-07:00'
author: Glyn Hudson
categories:
- Oscilloscope
- RFM12
- measurement
modified_time: '2015-02-23T04:54:03.665-08:00'
thumbnail: http://1.bp.blogspot.com/-O0bLEbR2Dxk/Ue_e12XYj8I/AAAAAAAAiRk/J0iAmtXxU-k/s72-c/20130724_144511.jpg
blogger_id: tag:blogger.com,1999:blog-2472065242652647619.post-3859094274368359528
blogger_orig_url: http://blog.openenergymonitor.org/2013/07/new-oscilloscope.html
---

We have finally taken the plunge and have upgraded our measurement facilitates.<br /><br />The main (and most costly!) acquisition has been a <a href="http://www.rigolna.com/products/digital-oscilloscopes/ds2000/ds2072/">Rigol DS2072</a> 70Mhz digital scope.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-O0bLEbR2Dxk/Ue_e12XYj8I/AAAAAAAAiRk/J0iAmtXxU-k/s1600/20130724_144511.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-O0bLEbR2Dxk/Ue_e12XYj8I/AAAAAAAAiRk/J0iAmtXxU-k/s320/20130724_144511.jpg" height="240" width="320" /></a></div><br /><br />We also upgraded our old cheapo multimeter to a more accurate model which as well as the usual multimeter functions can measure AC power and frequency and has a USB link (<a href="http://www.uni-trend.com/UT71e.html">Uni-T UT71E</a>) and to complete the setup a variable DC voltage and current bench top power supply (<a href="http://www.rapidonline.com/electrical-power/psu-0-3a-0-30v-lcd-display-85-1856">Rapid HY3003D</a>).<br /><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-qdD2mX5qPKE/UfDc8wRQiuI/AAAAAAAAiSs/Ia_VsaRzutI/s1600/20130724_144441.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-qdD2mX5qPKE/UfDc8wRQiuI/AAAAAAAAiSs/Ia_VsaRzutI/s320/20130724_144441.jpg" height="240" width="320" /></a></div>Test setup</td></tr><tr><td class="tr-caption" style="text-align: center;"><br /></td></tr></tbody></table><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://images.batronix.com/products/multimeter/uni-t/UT71E-PowerAdapter-420-284.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://images.batronix.com/products/multimeter/uni-t/UT71E-PowerAdapter-420-284.jpg" height="216" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Uni-T UT71E True RMS 40K count multimeter</td></tr></tbody></table><br />I thought an interesting investigation and a good starting point for getting to grips with the scope would be to measure the power consumption during an RFM12B transmission.<br /><br />With the standard passive probes the scope only measures voltage so a 10R 0.25W shunt resistor was used in series and the voltage drop measured over this. A 10R resistor works nicely since the voltage drop can easily be converted into current by dividing by 10 which is done by the probe which is 10:1 passive probe. Any other value could be used and the conversion to current done in software on the scope. The units for current (A) can be set on the scope. The shut resistor must be connected on the GND side of the circuit as to make one side of the resistor 0V or else use differential probes (or two standard probes with some clever settings on the scope).<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-b4wYbIOje_A/Ul1TP5UF_WI/AAAAAAAAmIA/RmSSr9aFlKc/s1600/scope_connection.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-b4wYbIOje_A/Ul1TP5UF_WI/AAAAAAAAmIA/RmSSr9aFlKc/s320/scope_connection.jpg" height="319" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Scope probe connection, measuring voltage drop across a 10R resistor</td></tr></tbody></table><br />The maximum current which a shunt resistor of a particular power rating can handle can be calculated with Imax = sqrt( Pmax / R). <br /><br />A 0.25W 1R shunt resistor can handle up to 500mA <br />A 0.25W 10R resistor can handle up to 158mA <br />A 0.25W 100R resistor can handle up to 50mA <br /><br />All measurements were taken with a 3.3V supply voltage using and <a href="http://shop.ciseco.co.uk/rf-328-bare-arduino-atmega-328-compatible-micro-board-rfu-328/">RFu328</a> on a prototype <a href="http://openenergymonitor.blogspot.co.uk/search/label/emonTx">emonTx V3</a>. <br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-7PDzO5pDi0c/Ue_bWiSDLII/AAAAAAAAiQ0/_8jLqj6Ci8c/s1600/Newfile1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-7PDzO5pDi0c/Ue_bWiSDLII/AAAAAAAAiQ0/_8jLqj6Ci8c/s640/Newfile1.png" height="384" width="640" />&nbsp;</a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">These traces show the ATmega328 coming out of sleep then transmitting 4 integers. Transmission of 4 integers takes 3ms during which the current draw alternates between 23-28mA for 3ms.&nbsp; &nbsp; </div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><img border="0" src="http://1.bp.blogspot.com/-2gQlbGV87bg/Ue_bWsnnJwI/AAAAAAAAiRA/S5ekHzm1ytI/s640/Newfile2.png" height="384" style="margin-left: auto; margin-right: auto;" width="640" /></td></tr><tr><td class="tr-caption" style="text-align: center;">Testing the scope's capabilities using the waveform zoom function</td></tr></tbody></table><div class="separator" style="clear: both; text-align: left;">The built in measurement functions on the scope are pretty amazing, these of the sort of measurements it's possible to obtain for a particular signal.&nbsp;</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-VQf8x8eMQVQ/Ue_eE11s-jI/AAAAAAAAiRc/-zH_t-PfQaU/s1600/DS2_QuickPrint1.bmp" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-VQf8x8eMQVQ/Ue_eE11s-jI/AAAAAAAAiRc/-zH_t-PfQaU/s640/DS2_QuickPrint1.bmp" height="384" width="640" /></a></div><div class="separator" style="clear: both; text-align: left;">&nbsp; </div><div class="separator" style="clear: both; text-align: left;">We intend to eventually setup a proper AC power test rig. In the meantime I intend to continue playing with more of the scopes functions, I've only scratched the surface so far. I'm particularly interested in hooking it up to my laptop for further data processing. The scope has both USB and Ethernet connectivity and an open standard protocol. As well as the software bundled with the scope which look pretty decent but is only for windows a quick google shows that much of the work has already been done to import the data from the scope on Linux. </div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">The EEVblog review of the Rigol scope give more of an idea of it's full capability:&nbsp;</div><div class="separator" style="clear: both; text-align: left;"><br /></div><iframe allowfullscreen="" frameborder="0" height="315" src="//www.youtube.com/embed/gAY1GQEjrfc" width="420"></iframe> <br /><div class="separator" style="clear: both; text-align: left;">http://www.eevblog.com/forum/testgear/first-impressions-and-review-of-the-rigol-ds2072-ds2000-series-dso/ </div><div class="separator" style="clear: both; text-align: left;"><br /></div>http://www.eevblog.com/forum/projects/software-tips-and-tricks-for-rigol-ds200040006000-ultravision-dsos/<br /><div class="separator" style="clear: both; text-align: left;">I hear it's also possible to perform a light software hack to convert the scope to 100Mhz :-)&nbsp; http://hackaday.com/2013/07/02/unlocking-a-rigol-scope-once-again/</div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><br /></div><br />