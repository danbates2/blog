<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.1.3">Jekyll</generator><link href="https://blog.openenergymonitor.org/feed.xml" rel="self" type="application/atom+xml" /><link href="https://blog.openenergymonitor.org/" rel="alternate" type="text/html" /><updated>2018-11-08T19:00:26+00:00</updated><id>https://blog.openenergymonitor.org/</id><title>Blog | OpenEnergyMonitor</title><subtitle>OpenEnergyMonitor Blog</subtitle><author><name>Glyn Hudson</name></author><entry><title>Emoncms Blue Theme</title><link href="https://blog.openenergymonitor.org/2018/01/emoncms-theme/" rel="alternate" type="text/html" title="Emoncms Blue Theme" /><published>2018-01-30T09:01:00+00:00</published><updated>2018-01-30T09:01:00+00:00</updated><id>https://blog.openenergymonitor.org/2018/01/emoncms-theme</id><content type="html" xml:base="https://blog.openenergymonitor.org/2018/01/emoncms-theme/">&lt;p&gt;For a fresh clean start to 2018 the default Emoncms theme has now been set to “blue” :-)&lt;/p&gt;

&lt;p&gt;The blue theme was chosen to give a consistent user experience between the other OpenEnergyMonitor websites e.g. Forum, Guide, Learn, Homepage etc.&lt;/p&gt;

&lt;p&gt;We like the clean look of the blue theme, we hope you do also :-)&lt;/p&gt;

&lt;p&gt;If you don’t it’s easy to revert to back to the old black theme by setting &lt;code class=&quot;highlighter-rouge&quot;&gt;$theme = standard&lt;/code&gt; in &lt;code class=&quot;highlighter-rouge&quot;&gt;settings.php&lt;/code&gt;. There is also a user contributed yellow theme called &lt;code class=&quot;highlighter-rouge&quot;&gt;sun&lt;/code&gt; which is available.&lt;/p&gt;

&lt;p&gt;emonPi Emoncms will update automatically during emonPi update to use the new theme as long as settings.php has not been user modified.&lt;/p&gt;

&lt;p&gt;Feed view in Standard, Blue and Sun theme:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/feed-emoncms-theme.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Login box in Blue, Standard and Sun theme:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/login-emoncms-theme.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;MyElectric dashboard app in box in Standard, Blue, and Sun theme:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/he-emoncms-theme.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For questions and discussion see &lt;a href=&quot;https://community.openenergymonitor.org/t/blue-theme-set-as-default-in-v9-8-28/6388&quot;&gt;Emoncms Blue Theme Forum Topic&lt;/a&gt;&lt;/p&gt;</content><author><name>Glyn Hudson</name></author><summary>For a fresh clean start to 2018 the default Emoncms theme has now been set to “blue” :-)

The blue theme was chosen to give a consistent user experience between the other OpenEnergyMonitor websites e.g. Forum, Guide, Learn, Homepage etc.

We like the clean look of the blue theme, we hope you do also :-)

If you don’t it’s easy to revert to back to the old black theme by setting $theme = standard in settings.php. There is also a user contributed yellow theme called sun which is available.

emonPi Emoncms will update automatically during emonPi update to use the new theme as long as settings.php has not been user modified.

Feed view in Standard, Blue and Sun theme:</summary></entry><entry><title>emonPi Remote Access with Dataplicity</title><link href="https://blog.openenergymonitor.org/2018/01/emonpi-remote-access/" rel="alternate" type="text/html" title="emonPi Remote Access with Dataplicity" /><published>2018-01-26T12:00:00+00:00</published><updated>2018-01-26T12:00:00+00:00</updated><id>https://blog.openenergymonitor.org/2018/01/emonpi-remote-access</id><content type="html" xml:base="https://blog.openenergymonitor.org/2018/01/emonpi-remote-access/">&lt;p&gt;Network devices such as an emonPi connected to a local network are secured behind a firewall, often integrated into a router.&lt;/p&gt;

&lt;p&gt;The conventional way for obtaining access remotely is to open a port in the firewall and ‘port-forward’ requests to this port to the local emonPi. This method works but is cumbersome and insecure. It’s cumbersome because most users connect to the internet via their ISP using a non-static IP. Therefore the WAN IP address often changes, a dynamic DNS service such as &lt;a href=&quot;https://www.duckdns.org/&quot;&gt;Duck DNS&lt;/a&gt;, or &lt;a href=&quot;https://www.noip.com&quot;&gt;noIP&lt;/a&gt; can be used to link a dynamic IP to a static domain name, however this is cumbersome to set up and often requires purchasing a domain name, dynamic DNS Subscription and handling the dynamic DNS IP address updates.&lt;/p&gt;

&lt;p&gt;The port forwarding method of remote access is also insecure since by default the emonPi uses an insecure http connections, this is not a problem on a secure local network but not recommend for use over the internet.&lt;/p&gt;

&lt;h2 id=&quot;dataplicity&quot;&gt;Dataplicity&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.dataplicity.com&quot;&gt;Dataplicity&lt;/a&gt; offers a easy to setup web-service service to enable secure remote access (SSH/HTTPS) to RaspberryPi devices. The free tier allows free access to a single RaspberryPi device.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/1-dataplicity.png&quot; alt=&quot;1-dataplicity&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/5-dataplicity.png&quot; alt=&quot;5-dataplicity&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/6-dataplicity.png&quot; alt=&quot;6-dataplicity&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Follow the steps on the &lt;a href=&quot;https://guide.openenergymonitor.org/setup/remote-access/&quot;&gt;Remote Access page of our User Guide&lt;/a&gt; to setup Dataplicity on an emonPi.&lt;/p&gt;</content><author><name>Glyn Hudson</name></author><summary>Network devices such as an emonPi connected to a local network are secured behind a firewall, often integrated into a router.

The conventional way for obtaining access remotely is to open a port in the firewall and ‘port-forward’ requests to this port to the local emonPi. This method works but is cumbersome and insecure. It’s cumbersome because most users connect to the internet via their ISP using a non-static IP. Therefore the WAN IP address often changes, a dynamic DNS service such as Duck DNS, or noIP can be used to link a dynamic IP to a static domain name, however this is cumbersome to set up and often requires purchasing a domain name, dynamic DNS Subscription and handling the dynamic DNS IP address updates.

The port forwarding method of remote access is also insecure since by default the emonPi uses an insecure http connections, this is not a problem on a secure local network but not recommend for use over the internet.

Dataplicity

Dataplicity offers a easy to setup web-service service to enable secure remote access (SSH/HTTPS) to RaspberryPi devices. The free tier allows free access to a single RaspberryPi device.







Follow the steps on the Remote Access page of our User Guide to setup Dataplicity on an emonPi.</summary></entry><entry><title>Introducing IoTaWatt</title><link href="https://blog.openenergymonitor.org/2017/10/iotawatt/" rel="alternate" type="text/html" title="Introducing IoTaWatt" /><published>2017-10-25T00:00:00+00:00</published><updated>2017-10-25T00:00:00+00:00</updated><id>https://blog.openenergymonitor.org/2017/10/iotawatt</id><content type="html" xml:base="https://blog.openenergymonitor.org/2017/10/iotawatt/">&lt;p&gt;IotaWatt&lt;sup&gt;tm&lt;/sup&gt; is an open-hardware 14 channel WiFi connected electric power monitor. It’s based on the ESP8266 IoT platform using MCP3208 12 bit ADCs to sample AC voltage and current.&lt;/p&gt;

&lt;p&gt;IoTaWatt can log data locally to on-board SD card and post directly to &lt;a href=&quot;https://emoncms.org&quot;&gt;Emoncms.org&lt;/a&gt; via WiFi.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;There are no plans to discontinue the emonTx. Both the IoTaWatt and emonTx have advantages in key areas which complement each other.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;IoTaWatt is fully open-source and has been developed by Bob Lemaire &lt;a href=&quot;https://community.openenergymonitor.org/u/overeasy/&quot;&gt;@overeasy&lt;/a&gt; in partnership with OpenEnergyMonitor.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/iotawatt-1.jpg&quot; alt=&quot;IoTaWatt&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a class=&quot;btn pull-right&quot; href=&quot;http://shop.openenergymonitor.com/iotawatt-wifi-connected-14-channel-electricity-monitor/&quot;&gt;View in Shop → &lt;/a&gt;&lt;a class=&quot;btn pull-left&quot; href=&quot;https://guide.openenergymonitor.org/setup/iotawatt/&quot;&gt;Setup IoTaWatt&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;hardware&quot;&gt;Hardware&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/iotawatt-2.jpg&quot; alt=&quot;IoTaWatt&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The IoTaWatt uses the WiFi enabled ESP8266 (ESP-12S) microprocessor. The ESP8266 is mounted using NodeMCU adaptor, the decision was made to use the NodeMCU form-factor to allow flexibility for customisation and future upgrades e.g ESP32.&lt;/p&gt;

&lt;p&gt;The onboard SD card allows data to be saved locally with high resolution and network resilience. If the IoTaWatt is posting to an Emoncms server and loses network connectivity data logged to the SD card will be bulk uploaded to Emoncms when a network connection is restored.&lt;/p&gt;

&lt;p&gt;An on-board real-time clock (RTC) ensure the time-stamp is always correct. The RTC is set using NTP. Using the IoTaWatt on a WiFi network with a reliable internet connection is highly recommended, however, the IoTaWatt can operate without an internet connection once the RTC has been initially set via NTP.&lt;/p&gt;

&lt;h2 id=&quot;firmware&quot;&gt;Firmware&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/iota-config.png&quot; alt=&quot;IoTaWatt&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The IoTaWatt is configured via a web interface served directly from the IoTaWatt ESP8266. See &lt;a href=&quot;http://iotawatt.com&quot;&gt;IoTaWatt.com&lt;/a&gt; for a live demo of the interface.&lt;/p&gt;

&lt;p&gt;The IoTaWatt supports automatic over the air (OTA) firmware updates.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;security&quot;&gt;Security&lt;/h2&gt;

&lt;p&gt;IoTaWatt supports end-to-end encrypted connection to Emoncms using new &lt;a href=&quot;http://emoncms.org/site/api#input&quot;&gt;Emoncms API transport layer encryption&lt;/a&gt;. Due to the limited resources of the ESP8266 microcontroller HTTPS connection is not possible. However, Emoncms offers an in-built transport layer encryption solution where the emoncms apikey is used as the pre-shared key for encrypting the data with AES-128-CBC.&lt;/p&gt;

&lt;p&gt;Automatic OTA firmware updates ensure the IoTaWatt is always running the latest most secure version e.g a firmware update was released and automatically deployed to fix the &lt;a href=&quot;https://www.krackattacks.com/&quot;&gt;KRACK WPA vulnerability&lt;/a&gt;. Firmware updates are digitally signed.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;emontx-vs-iotawatt&quot;&gt;emonTx Vs. IoTaWatt&lt;/h2&gt;

&lt;p&gt;As I mentioned at the beginning of this post, there are no plans to discontinue the emonTx. The IoTaWatt is not designed to replace the emonTx, rather to complement it. Each unit has advantages in key areas:&lt;/p&gt;

&lt;h3 id=&quot;emontx-advantages&quot;&gt;emonTx Advantages&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Low power: battery power / single AC-AC adaptor&lt;/li&gt;
  &lt;li&gt;No setup required&lt;/li&gt;
  &lt;li&gt;Supports multiple DS18B20 temperature sensors&lt;/li&gt;
  &lt;li&gt;Supports Optical Pulse sensor (interrupt input) to interface directly with utility meters&lt;/li&gt;
  &lt;li&gt;Approximate 3-phase with firmware update&lt;/li&gt;
  &lt;li&gt;Multiple emonTx’s can communicate with a single emonPi / emonBase&lt;/li&gt;
  &lt;li&gt;WiFi connection not required&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;iotawatt-advantages&quot;&gt;IoTaWatt Advantages&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Large number of CT sensor inputs&lt;/li&gt;
  &lt;li&gt;Flexible configuration (many different types of CT’s supported)&lt;/li&gt;
  &lt;li&gt;On-board SD card logging&lt;/li&gt;
  &lt;li&gt;OTA firmware updates&lt;/li&gt;
  &lt;li&gt;Direct posting via WiFi to Emoncms.org&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The obvious advantage of the IoTaWatt over the emonTx is the number of CT sensor inputs. Another key advantage is the flexibility of the IoTaWatt, each input channel (AC voltage &amp;amp; current) can be individually configured and calibrated. The IoTaWatt supports a number of different sizes of CT sensors with calibration presets for CT sensors e.g &lt;a href=&quot;http://shop.openenergymonitor.com/20a-max-clip-on-current-sensor-ct/&quot;&gt;20A&lt;/a&gt;, &lt;a href=&quot;http://shop.openenergymonitor.com/100a-max-clip-on-current-sensor-ct/&quot;&gt;100A (standard)&lt;/a&gt; and &lt;a href=&quot;http://shop.openenergymonitor.com/200a-max-clip-on-current-sensor-ct/&quot;&gt;200A&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is possible to use an IoTaWatt together with an emonPi / emonBase, the IoTaWAtt can post to any Emoncms server including emonPi over a local network.&lt;/p&gt;</content><author><name>Glyn Hudson</name></author><summary>IotaWatttm is an open-hardware 14 channel WiFi connected electric power monitor. It’s based on the ESP8266 IoT platform using MCP3208 12 bit ADCs to sample AC voltage and current.

IoTaWatt can log data locally to on-board SD card and post directly to Emoncms.org via WiFi.

There are no plans to discontinue the emonTx. Both the IoTaWatt and emonTx have advantages in key areas which complement each other.

IoTaWatt is fully open-source and has been developed by Bob Lemaire @overeasy in partnership with OpenEnergyMonitor.



View in Shop → Setup IoTaWatt

Hardware



The IoTaWatt uses the WiFi enabled ESP8266 (ESP-12S) microprocessor. The ESP8266 is mounted using NodeMCU adaptor, the decision was made to use the NodeMCU form-factor to allow flexibility for customisation and future upgrades e.g ESP32.

The onboard SD card allows data to be saved locally with high resolution and network resilience. If the IoTaWatt is posting to an Emoncms server and loses network connectivity data logged to the SD card will be bulk uploaded to Emoncms when a network connection is restored.

An on-board real-time clock (RTC) ensure the time-stamp is always correct. The RTC is set using NTP. Using the IoTaWatt on a WiFi network with a reliable internet connection is highly recommended, however, the IoTaWatt can operate without an internet connection once the RTC has been initially set via NTP.

Firmware



The IoTaWatt is configured via a web interface served directly from the IoTaWatt ESP8266. See IoTaWatt.com for a live demo of the interface.

The IoTaWatt supports automatic over the air (OTA) firmware updates.</summary></entry><entry><title>CydYnni – Energy Local, community hydro smart grid</title><link href="https://blog.openenergymonitor.org/2017/08/cydynni-energylocal/" rel="alternate" type="text/html" title="CydYnni – Energy Local, community hydro smart grid" /><published>2017-08-07T00:00:00+00:00</published><updated>2017-08-07T00:00:00+00:00</updated><id>https://blog.openenergymonitor.org/2017/08/cydynni-energylocal</id><content type="html" xml:base="https://blog.openenergymonitor.org/2017/08/cydynni-energylocal/">&lt;p&gt;Over the last year we have been involved in a project in our local area (Snowdonia, North Wales) called CydYnni – EnergyLocal. The project is at the forefront of making it possible for households to source their electricity directly from local, community-owned renewable sources.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;The Bethesda pilot project, How it works&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The first part of the CydYnni project started with about 80 households (with 20 more joining soon) and a single 100 kW hydro generator. Using smart meters suitable for half hourly billing in participating households and at the hydro generator, the amount of hydro power used by the community is calculated for every half hour. The hydro tariff is 7p / kWh for the power used each half hour by the community providing a significant saving for households. Any additional power required is bought from the supplier Co-operative Energy on a time-of-use tariff.&lt;/p&gt;

&lt;p&gt;The project provides cost savings to participating households, increased income for local renewable energy schemes and a more direct sense of having electricity provided from - in the case of the pilot project a hydro turbine just down the road!&lt;/p&gt;

&lt;p&gt;There is a nice video here on the project which gives a good overview:&lt;/p&gt;

&lt;iframe width=&quot;100%&quot; height=&quot;315px&quot; src=&quot;https://www.youtube.com/embed/3z8GrTBLw8M&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;There are a number of organisations working on the project of which we are one small part:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;EnergyLocal: The organisation founded by Mary Gillie with the initial idea and in depth understanding of the energy market behind the project.&lt;/li&gt;
  &lt;li&gt;CydYnni: A local consortium of community energy projects and organisations including Ynni Ogwen and Partneriaeth Ogwen, Ynni Padarn Peris, Moelyci, Coetir Mynydd, Antur Waunfawr, Ynni Anafon and the National Trust.&lt;/li&gt;
  &lt;li&gt;Co-operative Energy: The Energy Supplier through which households participate in the project.&lt;/li&gt;
  &lt;li&gt;Epower also known as NFPAS: The non fossil fuel purchasing agency – handling aggregation, power sharing and the nuts and bolts of billing.&lt;/li&gt;
  &lt;li&gt;1010: Graphic design&lt;/li&gt;
  &lt;li&gt;OpenEnergyMonitor: web app development in part 1 and home hub (base-station) development in part 2.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It’s been great being involved in such a pioneering project run in the local community in which we live (the OpenEnergyMonitor office is about 5 miles from Bethesda).&lt;/p&gt;

&lt;p&gt;Our role so far has been to develop a web app / energy dashboard so that participants can see when the local hydro generator is running and how likely they are to be on the cheaper hydro tariff. Participants can see their own consumption as well as the aggregated consumption of all participants.&lt;/p&gt;

&lt;p&gt;The main energy dashboard app designed by 1010 and implemented by ourselves can be viewed online here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cydynni.org.uk&quot;&gt;https://cydynni.org.uk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/cydynni-app.png&quot; alt=&quot;cydynni-app.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The source code for the app is open source and available on github here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://github.com/trystanlea/cydynni&quot;&gt;http://github.com/trystanlea/cydynni&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We have also developed a dashboard that is more focused on exploring the full data history of the hydro generation and community consumption, this dashboard can be viewed online here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dev.cydynni.org.uk&quot;&gt;https://dev.cydynni.org.uk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/cydynni-history.png&quot; alt=&quot;cydynni-history.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;From the start of January the hydro supplied 57% of the electricity consumption of the participating households. You can really see how the available hydro generation decays usually over about a week after a significant rain event and the extent of the oversupply when it is raining.&lt;/p&gt;

&lt;p&gt;It would be interesting to model the addition of solar to see how periods of lower rainfall might be supplanted by solar generation and explore other options for supplying the unmatched demand - e.g. anaerobic digestion.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Part 1: Energy Dashboard / Web App development&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This first stage of the project relies on the app or looking at how rainy it is to signal to the households when it’s a good time to use energy. Any demand shifting is done manually by the householder. The data update rate from the smart meters is also relatively slow, with 48 half hourly readings updated daily but usually available in the app with a lag time of anywhere from 15 hours up to 63 hours over the weekend.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Part 2: Hub&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The next stage of the project for us is to improve on this with an in home hub (based currently on the OpenEnergyMonitor emonbase), which will interface with a WIFI/radio meter gateway developed by Energy Assets, providing much faster 5-10s meter readings as well as enabling control of smart appliances, plugs and EV charging.&lt;/p&gt;

&lt;p&gt;This development has driven some of our most recent improvements to the EmonPi/EmonBase, such as the recently launched WIFI Hotspot setup and ongoing development on the emoncms device module, which alongside auto-configuration of inputs and feeds provides the option to define control devices starting with the Sonoff S20 WIFI Socket, Martin’s WIFI Relay unit and the OpenEVSE charging station.&lt;/p&gt;

&lt;p&gt;Over the coming months I will try to blog more on development progress and the technical implementation of the system in addition to insights into the data coming from the project demonstrating local community energy.&lt;/p&gt;</content><author><name>Trystan Lea</name></author><summary>Over the last year we have been involved in a project in our local area (Snowdonia, North Wales) called CydYnni – EnergyLocal. The project is at the forefront of making it possible for households to source their electricity directly from local, community-owned renewable sources.

The Bethesda pilot project, How it works

The first part of the CydYnni project started with about 80 households (with 20 more joining soon) and a single 100 kW hydro generator. Using smart meters suitable for half hourly billing in participating households and at the hydro generator, the amount of hydro power used by the community is calculated for every half hour. The hydro tariff is 7p / kWh for the power used each half hour by the community providing a significant saving for households. Any additional power required is bought from the supplier Co-operative Energy on a time-of-use tariff.

The project provides cost savings to participating households, increased income for local renewable energy schemes and a more direct sense of having electricity provided from - in the case of the pilot project a hydro turbine just down the road!

There is a nice video here on the project which gives a good overview:



There are a number of organisations working on the project of which we are one small part:


  EnergyLocal: The organisation founded by Mary Gillie with the initial idea and in depth understanding of the energy market behind the project.
  CydYnni: A local consortium of community energy projects and organisations including Ynni Ogwen and Partneriaeth Ogwen, Ynni Padarn Peris, Moelyci, Coetir Mynydd, Antur Waunfawr, Ynni Anafon and the National Trust.
  Co-operative Energy: The Energy Supplier through which households participate in the project.
  Epower also known as NFPAS: The non fossil fuel purchasing agency – handling aggregation, power sharing and the nuts and bolts of billing.
  1010: Graphic design
  OpenEnergyMonitor: web app development in part 1 and home hub (base-station) development in part 2.


It’s been great being involved in such a pioneering project run in the local community in which we live (the OpenEnergyMonitor office is about 5 miles from Bethesda).

Our role so far has been to develop a web app / energy dashboard so that participants can see when the local hydro generator is running and how likely they are to be on the cheaper hydro tariff. Participants can see their own consumption as well as the aggregated consumption of all participants.

The main energy dashboard app designed by 1010 and implemented by ourselves can be viewed online here:

https://cydynni.org.uk



The source code for the app is open source and available on github here:

http://github.com/trystanlea/cydynni

We have also developed a dashboard that is more focused on exploring the full data history of the hydro generation and community consumption, this dashboard can be viewed online here:

https://dev.cydynni.org.uk



From the start of January the hydro supplied 57% of the electricity consumption of the participating households. You can really see how the available hydro generation decays usually over about a week after a significant rain event and the extent of the oversupply when it is raining.

It would be interesting to model the addition of solar to see how periods of lower rainfall might be supplanted by solar generation and explore other options for supplying the unmatched demand - e.g. anaerobic digestion.

Part 1: Energy Dashboard / Web App development

This first stage of the project relies on the app or looking at how rainy it is to signal to the households when it’s a good time to use energy. Any demand shifting is done manually by the householder. The data update rate from the smart meters is also relatively slow, with 48 half hourly readings updated daily but usually available in the app with a lag time of anywhere from 15 hours up to 63 hours over the weekend.

Part 2: Hub

The next stage of the project for us is to improve on this with an in home hub (based currently on the OpenEnergyMonitor emonbase), which will interface with a WIFI/radio meter gateway developed by Energy Assets, providing much faster 5-10s meter readings as well as enabling control of smart appliances, plugs and EV charging.

This development has driven some of our most recent improvements to the EmonPi/EmonBase, such as the recently launched WIFI Hotspot setup and ongoing development on the emoncms device module, which alongside auto-configuration of inputs and feeds provides the option to define control devices starting with the Sonoff S20 WIFI Socket, Martin’s WIFI Relay unit and the OpenEVSE charging station.

Over the coming months I will try to blog more on development progress and the technical implementation of the system in addition to insights into the data coming from the project demonstrating local community energy.</summary></entry><entry><title>Advances Wales Magazine Article</title><link href="https://blog.openenergymonitor.org/2017/08/advances-article/" rel="alternate" type="text/html" title="Advances Wales Magazine Article" /><published>2017-08-01T00:00:00+00:00</published><updated>2017-08-01T00:00:00+00:00</updated><id>https://blog.openenergymonitor.org/2017/08/advances-article</id><content type="html" xml:base="https://blog.openenergymonitor.org/2017/08/advances-article/">&lt;p&gt;&lt;a href=&quot;https://businesswales.gov.wales/zones/innovation/advances-wales&quot;&gt;Advances Wales&lt;/a&gt; is a quarterly magazine showcasing the latest news, research and developments in science, technology and engineering here in Wales, UK.&lt;/p&gt;

&lt;p&gt;In the latest issue (82) we have been lucky enough to have an article featuring OpenEnergyMonitor. It’s well written and mentions a number of exciting developments that we have been working on e.g. CydYnni local energy project. Stay tuned for a blog post coming soon about this project.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://businesswales.gov.wales/sites/business-wales/files/documents/Advances82_English_FINAL.pdf&quot;&gt;Download the full magazine here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/advances-July17.png&quot; alt=&quot;advances artice&quot; /&gt;&lt;/p&gt;</content><author><name>Glyn Hudson</name></author><summary>Advances Wales is a quarterly magazine showcasing the latest news, research and developments in science, technology and engineering here in Wales, UK.

In the latest issue (82) we have been lucky enough to have an article featuring OpenEnergyMonitor. It’s well written and mentions a number of exciting developments that we have been working on e.g. CydYnni local energy project. Stay tuned for a blog post coming soon about this project.

Download the full magazine here.</summary></entry><entry><title>Emoncms Android App V2</title><link href="https://blog.openenergymonitor.org/2017/06/emoncms-android-app-v2/" rel="alternate" type="text/html" title="Emoncms Android App V2" /><published>2017-06-22T00:00:00+00:00</published><updated>2017-06-22T00:00:00+00:00</updated><id>https://blog.openenergymonitor.org/2017/06/emoncms-android-app-v2</id><content type="html" xml:base="https://blog.openenergymonitor.org/2017/06/emoncms-android-app-v2/">&lt;p&gt;Yesterday we have launched a significant update to the Emoncms Android app.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/androidv2-1.jpg&quot; alt=&quot;androidv2-1&quot; /&gt; &lt;a href=&quot;https://play.google.com/store/apps/details?id=org.emoncms.myapps&quot;&gt;&lt;img alt=&quot;Get it on Google Play&quot; src=&quot;https://emoncms.org/Modules/site/en-play-badge.png&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;new-features&quot;&gt;New features&lt;/h2&gt;

&lt;h4 id=&quot;multiple-emoncms-accounts&quot;&gt;1. Multiple emoncms accounts:&lt;/h4&gt;

&lt;p&gt;Monitor multiple Emoncms accounts, very useful for installers, power users etc.
It’s also possible for these accounts to be on different Emoncms servers e.g. emoncms.org, emonPi, emonBase, yourawesomeserver.com etc. Additional account are easily added to the app using the built in QR code scanner and scanning the QR code on the ‘Account’ section of Emoncms.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/androidv2-4.jpg&quot; alt=&quot;androidv2-multiple&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;multiple-myelectric-graphs-per-account&quot;&gt;2. Multiple MyElectric graphs per account:&lt;/h4&gt;

&lt;p&gt;Useful to monitor more than one power feed: e.g. House consumption, Heat Pump consumption, Solar PV production, EV charging etc.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/app1.png&quot; alt=&quot;app1&quot; /&gt;&lt;img src=&quot;/images/app2.png&quot; alt=&quot;app2&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;multiple-currency-rates-for-each-myelectric-graph&quot;&gt;3. Multiple currency rates for each MyElectric graph:&lt;/h4&gt;

&lt;p&gt;e.g day rate / night rate, Economy7, solar PV FIT, hydro etc.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/app-cost.png&quot; alt=&quot;app-cost&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;language-translations&quot;&gt;4. Language Translations:&lt;/h4&gt;

&lt;p&gt;French, German, Dutch, Italien and Spanish all rank among the top 5 for the Emoncms app in terms of active installs. We have now added the full native language support they deserve. Thanks a lot to the community for helping to proof and beta test. See bottom of this post for how to get involved.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/app-lang.png&quot; alt=&quot;app-lang&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;chromebook-support&quot;&gt;5. Chromebook support:&lt;/h4&gt;

&lt;p&gt;Many Chromebooks can now run native android apps, the Emoncms app works great on a Chromebook. It’s much quicker to load than the web version and does not require a login each time.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/androidv2-4.png&quot; alt=&quot;androidv2-4&quot; /&gt;&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;&lt;strong&gt;The current latest version at time of writing is V2.0.8&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/emoncms/AndroidApp/releases&quot;&gt;See Emoncms Android app GitHub repo ‘Releases’ for change log.&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;community&quot;&gt;Community&lt;/h4&gt;

&lt;p&gt;The main features of the V2 update were contributed open-source by &lt;a href=&quot;https://community.openenergymonitor.org/u/tamsin&quot;&gt;Tamsin Slinn&lt;/a&gt;. We very much appreciate all her hard work.&lt;/p&gt;

&lt;p&gt;Also thanks to:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://community.openenergymonitor.org/u/jumpmaster&quot;&gt;@JumpMaster&lt;/a&gt;  (Original app author: various fixes and guidence)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://community.openenergymonitor.org/u/bidouilleur&quot;&gt;@bidouilleur&lt;/a&gt; French translation proofreading &amp;amp; corrections)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://community.openenergymonitor.org/u/revil.o&quot;&gt;@revil.o&lt;/a&gt; (German translation proofreading &amp;amp; corrections)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://community.openenergymonitor.org/u/joyrider3774&quot;&gt;@joyrider3774&lt;/a&gt; (Dutch translation bug fixing)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://community.openenergymonitor.org/u/pb66&quot;&gt;@pb66&lt;/a&gt; (testing and feedback)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://community.openenergymonitor.org/t/emoncms-android-app-v2-0-8-open-beta-testing/3373/65&quot;&gt;See Android app V2 development forum thread&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As always the Android app is &lt;a href=&quot;https://github.com/emoncms/AndroidApp&quot;&gt;fully open-source on GithHub&lt;/a&gt;, contributions are most welcome :-)&lt;/p&gt;

&lt;p&gt;The best place to get involved is our community forum and open issues / pull requests direclty on the GitHub repo.&lt;/p&gt;</content><author><name>Glyn Hudson</name></author><summary>Yesterday we have launched a significant update to the Emoncms Android app.

 

New features

1. Multiple emoncms accounts:

Monitor multiple Emoncms accounts, very useful for installers, power users etc.
It’s also possible for these accounts to be on different Emoncms servers e.g. emoncms.org, emonPi, emonBase, yourawesomeserver.com etc. Additional account are easily added to the app using the built in QR code scanner and scanning the QR code on the ‘Account’ section of Emoncms.



2. Multiple MyElectric graphs per account:

Useful to monitor more than one power feed: e.g. House consumption, Heat Pump consumption, Solar PV production, EV charging etc.



3. Multiple currency rates for each MyElectric graph:

e.g day rate / night rate, Economy7, solar PV FIT, hydro etc.



4. Language Translations:

French, German, Dutch, Italien and Spanish all rank among the top 5 for the Emoncms app in terms of active installs. We have now added the full native language support they deserve. Thanks a lot to the community for helping to proof and beta test. See bottom of this post for how to get involved.



5. Chromebook support:

Many Chromebooks can now run native android apps, the Emoncms app works great on a Chromebook. It’s much quicker to load than the web version and does not require a login each time.</summary></entry><entry><title>emonPi Network Setup Wizard</title><link href="https://blog.openenergymonitor.org/2017/06/emonpi-network-setup-wizard/" rel="alternate" type="text/html" title="emonPi Network Setup Wizard" /><published>2017-06-21T00:00:00+00:00</published><updated>2017-06-21T00:00:00+00:00</updated><id>https://blog.openenergymonitor.org/2017/06/emonpi-network-setup-wizard</id><content type="html" xml:base="https://blog.openenergymonitor.org/2017/06/emonpi-network-setup-wizard/">&lt;p&gt;Ever since we launched the emonPi we have always wanted to make the first time setup process as easy as possible for new users.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/emonpi_wifi.png&quot; alt=&quot;emonpi wifi&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We have just made significant progress in streamlining the setup process by enabling the emonPi / emonBase to broadcast a WiFi access-point (AP) on first boot then scan for local WiFi networks and allow the user to connect. The emonPi will then turn off it’s AP and connect to the local network. There is also an option to connect via Ethernet or stand-alone WiFi AP mode when no local network is available.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/emonpi-network-wizard1.png&quot; alt=&quot;emonpi-network-wizard1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This has now been made possible using the Raspberry Pi 3 which supports WiFi access-point AP mode, &lt;a href=&quot;https://github.com/openenergymonitor/emonpi/tree/master/wifiAP&quot;&gt;some bash scrips&lt;/a&gt; and a new &lt;a href=&quot;https://github.com/openenergymonitor/emonpi/tree/master/emoncms-setup&quot;&gt;emoncms-setup module&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The new Network Setup Wizard will be included on all new purchased in July 2017 onwards. Existing emonPi’s with a Raspberry Pi 3 can be updated by running Admin &amp;gt; emonPi update in Emoncms. The emonPi will only broadcast a WiFi AP if Ethernet is not connected and no WiFi setup is currently present.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Trystan is also working on making the input-processing setup for new devices easier by adding device template support to the Emoncms Device module. More on this the come…&lt;a href=&quot;https://community.openenergymonitor.org/t/development-devices-inputs-and-feeds-in-emoncms/4281&quot;&gt;see development forum thread&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Read on more screenshots of the emonPi network setup wizard….&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;&lt;img src=&quot;/images/emonpi-network-wizard2.png&quot; alt=&quot;emonpi-network-wizard2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/emonpi-network-wizard3.png&quot; alt=&quot;emonpi-network-wizard3&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/emonpi-network-wizard4.png&quot; alt=&quot;emonpi-network-wizard4&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://guide.openenergymonitor.org/setup/connect/#1a-connect-to-wifi&quot;&gt;emonPi Setup Guide&lt;/a&gt; has been updated for use with the new Netork Setup Wizard.&lt;/p&gt;</content><author><name>Glyn Hudson</name></author><summary>Ever since we launched the emonPi we have always wanted to make the first time setup process as easy as possible for new users.



We have just made significant progress in streamlining the setup process by enabling the emonPi / emonBase to broadcast a WiFi access-point (AP) on first boot then scan for local WiFi networks and allow the user to connect. The emonPi will then turn off it’s AP and connect to the local network. There is also an option to connect via Ethernet or stand-alone WiFi AP mode when no local network is available.



This has now been made possible using the Raspberry Pi 3 which supports WiFi access-point AP mode, some bash scrips and a new emoncms-setup module.

The new Network Setup Wizard will be included on all new purchased in July 2017 onwards. Existing emonPi’s with a Raspberry Pi 3 can be updated by running Admin &amp;gt; emonPi update in Emoncms. The emonPi will only broadcast a WiFi AP if Ethernet is not connected and no WiFi setup is currently present.

Trystan is also working on making the input-processing setup for new devices easier by adding device template support to the Emoncms Device module. More on this the come…see development forum thread.

Read on more screenshots of the emonPi network setup wizard….</summary></entry><entry><title>Raspberry Pi blog</title><link href="https://blog.openenergymonitor.org/2017/05/raspberrypi-blog/" rel="alternate" type="text/html" title="Raspberry Pi blog" /><published>2017-05-18T00:00:00+00:00</published><updated>2017-05-18T00:00:00+00:00</updated><id>https://blog.openenergymonitor.org/2017/05/raspberrypi-blog</id><content type="html" xml:base="https://blog.openenergymonitor.org/2017/05/raspberrypi-blog/">&lt;p&gt;I don’t usually write a blog post about a blog post! However this particular blog post does merit a mention.&lt;/p&gt;

&lt;p&gt;The lovely folks at the Raspberry Pi foundation have published a blog post about OpenEnergyMonitor:&lt;/p&gt;

&lt;h4 id=&quot;raspberry-pi-blog-open-source-energy-monitoring-using-raspberry-pihttpswwwraspberrypiorgblogopen-source-energy-monitoring-raspberry-pi&quot;&gt;&lt;a href=&quot;https://www.raspberrypi.org/blog/open-source-energy-monitoring-raspberry-pi/&quot;&gt;Raspberry Pi Blog: Open-source Energy Monitoring Using Raspberry Pi&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;The Raspberry Pi as been an integral part of the development of the OpenEnergyMonitor system. We make extensive use of the Raspberry Pi in our emonPi and emonBase units. The Raspberry Pi Foundation has always been a big insperation to use, therefore we are honoured to get a little mention on their blog.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/raspi-blog.png&quot; alt=&quot;raspi-blog&quot; /&gt;&lt;/p&gt;</content><author><name>Glyn Hudson</name></author><summary>I don’t usually write a blog post about a blog post! However this particular blog post does merit a mention.

The lovely folks at the Raspberry Pi foundation have published a blog post about OpenEnergyMonitor:

Raspberry Pi Blog: Open-source Energy Monitoring Using Raspberry Pi

The Raspberry Pi as been an integral part of the development of the OpenEnergyMonitor system. We make extensive use of the Raspberry Pi in our emonPi and emonBase units. The Raspberry Pi Foundation has always been a big insperation to use, therefore we are honoured to get a little mention on their blog.</summary></entry><entry><title>emonPi as a Home Automation Hub</title><link href="https://blog.openenergymonitor.org/2017/05/emonpi-mqtt-googlehome/" rel="alternate" type="text/html" title="emonPi as a Home Automation Hub" /><published>2017-05-05T00:00:00+00:00</published><updated>2017-05-05T00:00:00+00:00</updated><id>https://blog.openenergymonitor.org/2017/05/emonpi-mqtt-googlehome</id><content type="html" xml:base="https://blog.openenergymonitor.org/2017/05/emonpi-mqtt-googlehome/">&lt;p&gt;I believe automation can play an useful role in helping to reduce energy consumption. For example being able to control my home central heating system remotely enables me to only turn on the heating when it’s required and not have it running on a set schedule when the house is empty.&lt;/p&gt;

&lt;p&gt;As &lt;a href=&quot;2016/08/ecohomelab-control/&quot;&gt; previously mentioned in a blog post&lt;/a&gt;, the emonPi (&lt;a href=&quot;github.com/openenergymonitor/emonpi/wiki/emonSD-pre-built-SD-card-Download-&amp;amp;-Change-Log&quot;&gt;running emonSD pre-built SD card&lt;/a&gt;) can function as a powerful home automation hub. Utilising the emonPi as a home automation hub is a good fit for a number of reasons:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;It’s already running 24/7 for energy monitoring&lt;/li&gt;
  &lt;li&gt;It’s optimised for robust long term operation: the root Raspberry Pi file-system is read-only to increase SD card lifespan&lt;/li&gt;
  &lt;li&gt;It’s already connected to your local network&lt;/li&gt;
  &lt;li&gt;It’s running Debian Raspbian Jessie therefore installing extra packages is easy and lots of support is available&lt;/li&gt;
  &lt;li&gt;Raspberry Pi 3 has plenty of space capacity&lt;/li&gt;
  &lt;li&gt;Extra radios / accessories can be connected via USB&lt;/li&gt;
  &lt;li&gt;It’s already running an MQTT server&lt;/li&gt;
  &lt;li&gt;emonSD pre-built SD card comes pre loaded with the following &lt;a href=&quot;guide.openenergymonitor.org/integrations&quot;&gt;integrations&lt;/a&gt; nodeRED, OpenHAB and LightWaveRF&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;In this post I want to share with you how I use the emonPi in my own home.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Here is a video demo using Google Home to control my central heating and devices via MQTT:&lt;/p&gt;

&lt;div class=&quot;videoWrapper&quot;&gt;
&lt;iframe width=&quot;280&quot; height=&quot;157&quot; src=&quot;https://www.youtube.com/embed/r_v4GXVp0OI&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;p&gt;Read on to learn how this is achieved using an emonPi and open-source software…&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;There are many many options when it comes to home automation and control. Where possible I prefer open-source solutions which do not depend on any third-party services. All the software services for my home system as I describe in this post runs locally on my emonPi and apart from Google Home voice integration does not require an internet connection to function. A self-hosted open-source solution has the added benefit of increased privacy and security which you are in fully in control of.&lt;/p&gt;

&lt;h2 id=&quot;mqtt&quot;&gt;MQTT&lt;/h2&gt;

&lt;p&gt;MQTT lightweight communication protocol is used as the ‘glue’ communication layer between all the following services. See &lt;a href=&quot;https://guide.openenergymonitor.org/technical/mqtt/&quot;&gt;technical/MQTT section of the User Guide&lt;/a&gt; for more info about how MQTT works on the emonPi.&lt;/p&gt;

&lt;h2 id=&quot;energy-monitoring&quot;&gt;Energy Monitoring&lt;/h2&gt;

&lt;p&gt;Emoncms…obviously!&lt;/p&gt;

&lt;p&gt;Recently I have been loving using the V2 Emoncms Android app (currently in beta) which supports multiple pages (see &lt;a href=&quot;https://community.openenergymonitor.org/t/emoncms-android-app-v2-0-1-open-beta-testing/3373&quot;&gt;forum thread&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Video demo Emoncms Android app V2 beta:&lt;/p&gt;

&lt;div class=&quot;videoWrapper&quot;&gt;
&lt;iframe width=&quot;280&quot; height=&quot;157&quot; src=&quot;https://www.youtube.com/embed/LaTi-l9tVQM&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;p&gt;I have also recently enjoyed using the redesigned Emoncms Apps module which have just bee released on &lt;a href=&quot;https://emoncms.org&quot;&gt;Emoncms.org&lt;/a&gt;. It’s now possible to have more than one MyElectric or MySolarPV ‘app’ per Emoncms account and Economy 7 split time of use tariffs are now spported (see &lt;a href=&quot;https://community.openenergymonitor.org/t/new-version-of-the-emoncms-apps-module/3900/3&quot;&gt;forum thread&lt;/a&gt;):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/myelectric-e7.png&quot; alt=&quot;myelectric-e7.png&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;control&quot;&gt;Control&lt;/h2&gt;

&lt;h3 id=&quot;central-heating&quot;&gt;Central Heating&lt;/h3&gt;

&lt;p&gt;To control my gas central heating boiler I use an &lt;a href=&quot;https://guide.openenergymonitor.org/integrations/mqtt-relay/&quot;&gt;MQTT WiFi relay&lt;/a&gt; which also has a built in thermostat and scheduler, although I don’t use these features, I just control directly via MQTT. The WiFi Relay has been very reliable, it’s been used daily for the past two years in my home and never once required a reboot.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/mqtt-relay-overview.png&quot; alt=&quot;mqtt-relay-overview.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;plug-sockets-lights&quot;&gt;Plug sockets (lights)&lt;/h3&gt;

&lt;p&gt;I use LightWave RF plugs to which I have lights and other entertainment devices connected e.g. stereo and chromecast. Being able to switch a whole plug bank on/off has the advantage of being able to turn devices fully off when not in use to minimise any &lt;a href=&quot;https://en.wikipedia.org/wiki/Standby_power&quot;&gt;vampire drain&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The emonPi can control LightWave RF devices directly via MQTT if an RF OOk modules is fitted. See &lt;a href=&quot;https://guide.openenergymonitor.org/integrations/lightwaverf&quot;&gt;LightWave RF emonPi User Guide&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/lightwave-rf-diagram.png&quot; alt=&quot;lightwave-rf-diagram.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;LightWave RF devices are not perfect, the OOK RF protocol is simplistic, unsecure, occasionally unreliable and state feedback is not available. I am considering swithcing to &lt;a href=&quot;https://www.itead.cc/smart-socket.html&quot;&gt;ESp8266 based Sonoff plug&lt;/a&gt; with third party &lt;a href=&quot;https://github.com/arendst/Sonoff-Tasmota&quot;&gt;MQTT firmware&lt;/a&gt; or &lt;a href=&quot;https://github.com/openenergymonitor/emonesp&quot;&gt;EmonESP&lt;/a&gt; firmware.&lt;/p&gt;

&lt;h2 id=&quot;interface&quot;&gt;Interface&lt;/h2&gt;

&lt;p&gt;For the past few years I have been using OpenHAB as the control interface. &lt;a href=&quot;https://guide.openenergymonitor.org/integrations/openhab&quot;&gt;OpenHAB is pre-loaded onto the emonPi emonSD pre-built image&lt;/a&gt;. I am yet to upgrade to OpenHAB V2.0, it looks very nice. However, V1.8 has been very reliable and fits my needs. I use the OpenHAB Android app to access the interface quickly from my phone:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/open-hab-home.png&quot; alt=&quot;open-hab-home.png&quot; /&gt;&lt;img src=&quot;/images/open-hab-all.png&quot; alt=&quot;open-hab-all.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;OpenHAB also &lt;a href=&quot;https://apps.getpebble.com/en_US/application/5542604d45bf334314000098?section=watchapps&quot;&gt;integrates with my Pebble smartwatch&lt;/a&gt; which makes it super easy to turn on/off the heating while out and about:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/openhab-pebble.jpg&quot; alt=&quot;openhab-pebble&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A while back (early 2016) I dabbled with &lt;a href=&quot;http://home-assistant.io/&quot;&gt;HomeAssistant&lt;/a&gt;, (&lt;a href=&quot;https://blog.openenergymonitor.org/2016/04/Home-Assistant/&quot;&gt;see blog post&lt;/a&gt;). I was quite impressed, I have been following the project and it looks like it’s matured to be an excellent home automation platform. Quit possibly a rival to OpenHAB.&lt;/p&gt;

&lt;p&gt;Another option for an interface is &lt;a href=&quot;https://github.com/node-red/node-red-dashboard&quot;&gt;NodeRED Dashboard&lt;/a&gt; which is now officially part of the NodeRED project.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The beauty of MQTT is that it’s platform agnostic, it’s possible to have many different interfaces controlling the same control nodes.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;voice-interface&quot;&gt;Voice interface&lt;/h3&gt;

&lt;p&gt;I’ve recently acquired a Google Home voice activated speaker, with a little help from &lt;a href=&quot;https://github.com/bwssytems/ha-bridge&quot;&gt;ha-bridge&lt;/a&gt; to emulate a Philips Hue bridge it’s quite easy to get Google Home to control local devices via MQTT. The same setup will also work with Amazon Echo. See &lt;a href=&quot;https://github.com/openenergymonitor/emonpi-ha-bridge&quot;&gt;ha-bridge setup guide for emonPi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See video demo at the top of this post.&lt;/p&gt;

&lt;p&gt;Device config using ha-bridge webpage GUI:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/ha-bridge-device-config.png&quot; alt=&quot;ha-bridge-device-config.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Google Home app setup:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/google-home-app.png&quot; alt=&quot;google-home-app.png&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;integration--automation&quot;&gt;Integration &amp;amp; Automation&lt;/h2&gt;

&lt;p&gt;I use &lt;a href=&quot;https://guide.openenergymonitor.org/integrations/nodered&quot;&gt;NodeRED which is pre-loaded on emonPi / emonSD&lt;/a&gt; to integrate with other services such a getting the latest outdoor temperature from &lt;a href=&quot;https://www.wunderground.com/&quot;&gt;Weather Underground&lt;/a&gt;, send push notifications (heating on / off temperature alert) to my phone using &lt;a href=&quot;https://pushover.net/&quot;&gt;Pushover&lt;/a&gt;. Both these services have pre-made nodeRED flows making integration very easy. NodeRED is pre-installed and configured on emonPi / emonSD. The &lt;a href=&quot;https://github.com/openenergymonitor/oem_node-red/blob/master/flows_emonpi.json&quot;&gt;example flow included on emonPi&lt;/a&gt; demonstrates reading emonTH data from MQTT and external temperature data from Weather Underground.&lt;/p&gt;

&lt;p&gt;I also have a nodeRED flow that handles turning off the heating when the temperature in the livingroom (as measured by emonTH) reaches a set point. I could have used the thermostat controller on the WiFi relay to do this, however it would be difficult in my house to run the wired temperature sensor from the Wifi relay to the living room, therefore I use a wireless emonTH temperature instead.&lt;/p&gt;

&lt;h1 id=&quot;security-and-remote-access&quot;&gt;Security and remote access&lt;/h1&gt;

&lt;p&gt;Remote control (from outside the local network) can be achieved using a dynamic DNS service such as &lt;a href=&quot;https://www.duckdns.org/&quot;&gt;DuckDNS&lt;/a&gt; or secure VPN to give access to services from the outside. E.g I open port 8080 to give access to OpenHAB running on my emonPi from the internet. OpenHAB has authentication turned on and HTTPS can be used to create a secure connection.&lt;/p&gt;

&lt;p&gt;Alternatively, and possibly a better solution could be to use &lt;a href=&quot;http://www.myopenhab.org/&quot;&gt;MyOpenhab.org&lt;/a&gt; service to allow remote control without having to open up a port externally.&lt;/p&gt;

&lt;p&gt;Home Assistant has got an example of &lt;a href=&quot;https://home-assistant.io/docs/ecosystem/tor/&quot;&gt;using Tor Onion Services to access Home Assistant&lt;/a&gt; running locally.&lt;/p&gt;</content><author><name>Glyn Hudson</name></author><summary>I believe automation can play an useful role in helping to reduce energy consumption. For example being able to control my home central heating system remotely enables me to only turn on the heating when it’s required and not have it running on a set schedule when the house is empty.

As  previously mentioned in a blog post, the emonPi (running emonSD pre-built SD card) can function as a powerful home automation hub. Utilising the emonPi as a home automation hub is a good fit for a number of reasons:


  It’s already running 24/7 for energy monitoring
  It’s optimised for robust long term operation: the root Raspberry Pi file-system is read-only to increase SD card lifespan
  It’s already connected to your local network
  It’s running Debian Raspbian Jessie therefore installing extra packages is easy and lots of support is available
  Raspberry Pi 3 has plenty of space capacity
  Extra radios / accessories can be connected via USB
  It’s already running an MQTT server
  emonSD pre-built SD card comes pre loaded with the following integrations nodeRED, OpenHAB and LightWaveRF



  In this post I want to share with you how I use the emonPi in my own home.


Here is a video demo using Google Home to control my central heating and devices via MQTT:





Read on to learn how this is achieved using an emonPi and open-source software…</summary></entry><entry><title>MyHomeEnergyPlanner - open source home energy assessment</title><link href="https://blog.openenergymonitor.org/2017/02/myhomeenergyplanner/" rel="alternate" type="text/html" title="MyHomeEnergyPlanner - open source home energy assessment" /><published>2017-02-21T13:43:00+00:00</published><updated>2017-02-21T13:43:00+00:00</updated><id>https://blog.openenergymonitor.org/2017/02/myhomeenergyplanner</id><content type="html" xml:base="https://blog.openenergymonitor.org/2017/02/myhomeenergyplanner/">&lt;p&gt;I would like to highlight a piece of work by &lt;a href=&quot;https://community.openenergymonitor.org/users/cagabi&quot;&gt;Carlos Alonso Gabizón&lt;/a&gt; which I think is an important piece of the home energy monitoring and assessment toolkit and a really useful tool, which we would be keen to see more people use.&lt;/p&gt;

&lt;p&gt;Carlos has been working for &lt;a href=&quot;http://carbon.coop/&quot;&gt;CarbonCoop&lt;/a&gt; over the last year and a half on &lt;a href=&quot;(http://myhome.emoncms.org)&quot;&gt;MyHomeEnergyPlanner&lt;/a&gt; – an open source household energy assessment tool based on SAP 2012 – a monthly domestic energy model.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/myhomeenergyplanner2.png&quot; alt=&quot;MyHomeEnergyPlanner&quot; /&gt;&lt;/p&gt;

&lt;p&gt;MyHomeEnergyPlanner started as a collaboration between OpenEnergyMonitor and CarbonCoop but this latest version and active work on it over the last year and a half is all down to Carlos and CarbonCoop.&lt;/p&gt;

&lt;p&gt;MyHomeEnergyPlanner can be used to calculate the space and water heating requirements for a home from a detailed breakdown of the building fabric: floor, walls, roof, windows etc. It uses U-values and areas to calculate building fabric heat loss rates, combined with calculated heat loss from infiltration and ventilation and heat gains from solar radiation, lighting, household appliances, cooking and occupants.&lt;/p&gt;

&lt;p&gt;It can be used to model a building in its current form and then create scenarios to explore the effect of undertaking measures such as adding insulation, improving air-tightness and changing heating systems.&lt;/p&gt;

&lt;p&gt;MyHomeEnergyPlanner is free to use and open source and is now installed on emoncms.org (Login with your &lt;a href=&quot;https://emoncms.org&quot;&gt;Emoncms.org&lt;/a&gt; account)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://myhome.emoncms.org&quot;&gt;http://myhome.emoncms.org&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;I have written an &lt;a href=&quot;https://learn.openenergymonitor.org/sustainable-energy/building-energy-model/MyHomeEnergyPlanner&quot;&gt;initial getting started guide&lt;/a&gt; here that goes over the main parts of creating an initial household assessment:&lt;/p&gt;

&lt;p&gt;When I was last working on building energy modelling I also wrote a &lt;a href=&quot;https://learn.openenergymonitor.org/sustainable-energy/building-energy-model/readme&quot;&gt;brief guide on how a simple household energy model&lt;/a&gt; works which can also be found here:&lt;/p&gt;

&lt;h3 id=&quot;myhomeenergyplanner-github&quot;&gt;MyHomeEnergyPlanner Github&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://github.com/emoncms/MyHomeEnergyPlanner&quot;&gt;http://github.com/emoncms/MyHomeEnergyPlanner&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;For further context: MyHomeEnergyPlanner is used by CarbonCoop as part of their work on household retrofit, improving insulation and air-tightness of existing households in Manchester to achieve carbon emission reductions of 80% compared to the 1990 baseline. More information can be found about their work here:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://carbon.coop/content/whole-house-retrofit-community-green-deal&quot;&gt;Whole House Retrofit - A Community Green Deal&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://carbon.coop/assessments/URBED_ASSESSMENT_REPORT.pdf&quot;&gt;Whole House Retrofit Assessment Method&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://twitter.com/CarbonCoop/status/802176377785028608/photo/1&quot;&gt;Recent post-retrofit monitored results for Carbon Coop’s recent retrofit project (twitter)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Trystan Lea</name></author><summary>I would like to highlight a piece of work by Carlos Alonso Gabizón which I think is an important piece of the home energy monitoring and assessment toolkit and a really useful tool, which we would be keen to see more people use.

Carlos has been working for CarbonCoop over the last year and a half on MyHomeEnergyPlanner – an open source household energy assessment tool based on SAP 2012 – a monthly domestic energy model.



MyHomeEnergyPlanner started as a collaboration between OpenEnergyMonitor and CarbonCoop but this latest version and active work on it over the last year and a half is all down to Carlos and CarbonCoop.

MyHomeEnergyPlanner can be used to calculate the space and water heating requirements for a home from a detailed breakdown of the building fabric: floor, walls, roof, windows etc. It uses U-values and areas to calculate building fabric heat loss rates, combined with calculated heat loss from infiltration and ventilation and heat gains from solar radiation, lighting, household appliances, cooking and occupants.

It can be used to model a building in its current form and then create scenarios to explore the effect of undertaking measures such as adding insulation, improving air-tightness and changing heating systems.

MyHomeEnergyPlanner is free to use and open source and is now installed on emoncms.org (Login with your Emoncms.org account)

http://myhome.emoncms.org</summary></entry></feed>
